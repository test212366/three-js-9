{"version":3,"sources":["node_modules/three/build/three.module.js","node_modules/three/examples/jsm/controls/OrbitControls.js","node_modules/three/examples/jsm/utils/BufferGeometryUtils.js","node_modules/three/examples/jsm/loaders/GLTFLoader.js","node_modules/three/examples/jsm/loaders/DRACOLoader.js","node_modules/lil-gui/dist/lil-gui.esm.js","node_modules/gsap/gsap-core.js","node_modules/gsap/CSSPlugin.js","node_modules/gsap/index.js","shaders/fragment.glsl","shaders/vertex.glsl","HoloEffect.js","node_modules/three/examples/jsm/shaders/CopyShader.js","node_modules/three/examples/jsm/postprocessing/Pass.js","node_modules/three/examples/jsm/postprocessing/ShaderPass.js","node_modules/three/examples/jsm/postprocessing/MaskPass.js","node_modules/three/examples/jsm/postprocessing/EffectComposer.js","node_modules/three/examples/jsm/postprocessing/RenderPass.js","node_modules/three/examples/jsm/shaders/LuminosityHighPassShader.js","node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js","app.js","../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","TwoPassDoubleSide","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedInt248Type","AlphaFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","RED_RGTC1_Format","SIGNED_RED_RGTC1_Format","RED_GREEN_RGTC2_Format","SIGNED_RED_GREEN_RGTC2_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","NoColorSpace","SRGBColorSpace","LinearSRGBColorSpace","DisplayP3ColorSpace","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","_SRGBAFormat","EventDispatcher","type","listener","_listeners","undefined","listeners","indexOf","push","listenerArray","index","splice","event","target","array","slice","i","l","length","call","_lut","_seed","DEG2RAD","Math","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toLowerCase","clamp","value","min","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","inverseLerp","y","lerp","t","damp","lambda","dt","exp","pingpong","abs","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","seededRandom","s","imul","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","denormalize","constructor","Float32Array","Uint16Array","Uint8Array","Int16Array","Int8Array","Error","normalize","round","MathUtils","Vector2","prototype","isVector2","scalar","v","multiplyScalar","e","elements","minVal","maxVal","divideScalar","sqrt","angle","atan2","denominator","lengthSq","theta","dot","acos","distanceToSquared","dx","dy","alpha","v1","v2","offset","attribute","getX","getY","center","Symbol","iterator","Matrix3","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","me","xAxis","yAxis","zAxis","setFromMatrix3Column","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","d","f","g","h","t11","t12","t13","det","detInv","tmp","matrix4","setFromMatrix4","invert","transpose","r","tx","ty","sx","sy","rotation","cx","cy","premultiply","_m3","makeScale","makeRotation","makeTranslation","matrix","fromArray","arrayNeedsUint32","TYPED_ARRAYS","Uint8ClampedArray","Int32Array","Uint32Array","Float64Array","getTypedArray","buffer","createElementNS","name","document","SRGBToLinear","LinearToSRGB","LINEAR_SRGB_TO_LINEAR_DISPLAY_P3","LINEAR_DISPLAY_P3_TO_LINEAR_SRGB","DisplayP3ToLinearSRGB","color","convertSRGBToLinear","applyMatrix3","LinearSRGBToDisplayP3","convertLinearToSRGB","TO_LINEAR","FROM_LINEAR","ColorManagement","enabled","legacyMode","workingColorSpace","colorSpace","convert","sourceColorSpace","targetColorSpace","sourceToLinear","targetFromLinear","fromWorkingColorSpace","toWorkingColorSpace","_canvas","ImageUtils","image","test","src","HTMLCanvasElement","canvas","width","height","context","getContext","ImageData","putImageData","drawImage","toDataURL","HTMLImageElement","ImageBitmap","imageData","getImageData","data","Source","isSource","version","meta","isRootObject","images","output","url","Array","isArray","isDataTexture","serializeImage","getDataURL","from","textureId","Texture","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","DEFAULT_ANISOTROPY","encoding","isTexture","Object","defineProperty","source","mipmaps","channel","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","userData","onUpdate","isRenderTargetTexture","needsPMREMUpdate","setUvTransform","copy","JSON","parse","stringify","needsUpdate","textures","metadata","generator","toJSON","wrap","keys","dispatchEvent","uv","Vector4","z","w","isVector4","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","WebGLRenderTarget","options","isWebGLRenderTarget","depth","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","samples","dispose","clone","assign","DataArrayTexture","isDataArrayTexture","wrapR","WebGLArrayRenderTarget","isWebGLArrayRenderTarget","Data3DTexture","isData3DTexture","WebGL3DRenderTarget","isWebGL3DRenderTarget","WebGLMultipleRenderTargets","count","isWebGLMultipleRenderTargets","il","Quaternion","isQuaternion","_x","_y","_z","_w","_onChangeCallback","quaternion","euler","update","_order","c1","c3","s1","s3","axis","halfAngle","trace","vFrom","vTo","Number","EPSILON","step","angleTo","slerp","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","qa","u1","sqrt1u1","sqrtu1","u2","u3","toArray","callback","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","Vector3","isVector3","applyQuaternion","_quaternion$4","setFromEuler","setFromAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","ax","ay","az","bx","by","bz","planeNormal","_vector$b","projectOnVector","sub","normal","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindricalCoords","setFromMatrixColumn","sz","u","Box3","Infinity","isBox3","makeEmpty","expandByPoint","_vector$a","fromBufferAttribute","points","size","halfSize","add","object","precise","expandByObject","box","isEmpty","addVectors","subVectors","point","vector","addScalar","updateWorldMatrix","boundingBox","computeBoundingBox","_box$3","union","geometry","attributes","position","children","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0$2","_v1$7","_v2$4","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","distanceTo","getSize","_points","setFromPoints","equals","_testAxis","v0","extents","j","p0","p1","p2","_box$2","_v1$6","_v2$3","Sphere","optionalCenter","maxRadiusSq","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","delta","addScaledVector","setLength","_vector$9","_segCenter","_segDir","_diff","_edge1","_edge2","_normal$1","Ray","origin","direction","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","tca","radius2","thc","t0","t1","distanceToPlane","distToPoint","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","isNaN","intersectBox","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","cross","QdN","transformDirection","Matrix4","isMatrix4","n14","n24","n34","n41","n42","n43","n44","scaleX","_v1$5","scaleY","scaleZ","af","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","t14","scaleXSq","scaleYSq","scaleZSq","yx","zx","zy","scale","x2","y2","z2","wx","wy","wz","determinant","_m1$2","invSX","invSY","invSZ","setFromRotationMatrix","left","right","top","bottom","near","far","p","_matrix","_quaternion$3","Euler","DEFAULT_ORDER","isEuler","asin","makeRotationFromQuaternion","newOrder","setFromQuaternion","Layers","mask","layers","_object3DId","_v1$4","_q1","_m1$1","_target","_position$3","_scale$2","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","isObject3D","parent","DEFAULT_UP","onRotationChange","onQuaternionChange","_onChange","defineProperties","configurable","enumerable","modelViewMatrix","normalMatrix","DEFAULT_MATRIX_AUTO_UPDATE","matrixWorldNeedsUpdate","matrixWorldAutoUpdate","DEFAULT_MATRIX_WORLD_AUTO_UPDATE","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","updateMatrix","decompose","multiply","rotateOnAxis","distance","translateOnAxis","setFromMatrixPosition","isCamera","isLight","lookAt","extractRotation","arguments","error","remove","id","getObjectByProperty","child","result","childResult","getObjectsByProperty","concat","traverse","traverseVisible","traverseAncestors","force","updateMatrixWorld","updateParents","updateChildren","geometries","materials","shapes","skeletons","nodes","isInstancedMesh","instanceMatrix","instanceColor","serialize","library","element","isScene","background","isColor","environment","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","values","key","recursive","_v0$1","_v1$3","_v2$2","_v3$1","_vab","_vac","_vbc","_vap","_vbp","_vcp","warnedGetUV","Triangle","i0","i1","i2","getNormal","setFromCoplanarPoints","getBarycoord","uv1","uv2","uv3","getInterpolation","v3","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","d5","d6","vb","va","denom","targetLengthSq","dot00","dot01","dot02","dot11","dot12","invDenom","p3","setScalar","materialId","Material","isMaterial","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaToCoverage","premultipliedAlpha","forceSinglePass","toneMapped","_alphaTest","onBeforeCompile","toString","newValue","currentValue","getHex","roughness","metalness","sheen","sheenColor","sheenRoughness","emissive","emissiveIntensity","specular","specularIntensity","specularColor","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","iridescence","iridescenceIOR","iridescenceThicknessRange","iridescenceMap","iridescenceThicknessMap","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","specularIntensityMap","specularColorMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","transmission","transmissionMap","thickness","thicknessMap","attenuationDistance","attenuationColor","sizeAttenuation","linewidth","dashSize","gapSize","alphaTest","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","flatShading","fog","srcPlanes","dstPlanes","_colorKeywords","_hslA","_hslB","hue2rgb","Color","setRGB","setHex","setStyle","hex","style","handleAlpha","string","parseFloat","exec","components","parseInt","setHSL","charAt","setColorName","copySRGBToLinear","copyLinearToSRGB","_color","hue","saturation","lightness","toFixed","getHSL","color1","color2","NAMES","MeshBasicMaterial","isMeshBasicMaterial","setValues","_tables","_generateTables","ArrayBuffer","floatView","uint32View","baseTable","shiftTable","mantissaTable","exponentTable","offsetTable","toHalfFloat","val","fromHalfFloat","DataUtils","_vector$8","_vector2$1","BufferAttribute","itemSize","normalized","TypeError","isBufferAttribute","usage","updateRange","index1","index2","setXY","setXYZ","applyNormalMatrix","onUploadCallback","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float16BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","_id$1","_m1","_obj","_offset","_box$1","_boxMorphTargets","_vector$7","BufferGeometry","isBufferGeometry","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","start","materialIndex","getNormalMatrix","tangent","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","negate","translate","setAttribute","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","morphAttribute","jl","indices","positions","normals","uvs","nVertices","hasAttribute","tangents","getAttribute","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","handleTriangle","isFinite","group","tmp2","n2","handleVertex","positionAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","normalizeNormals","convertBufferAttribute","array2","isInterleavedBufferAttribute","stride","geometry2","newAttribute","morphArray","addGroup","hasMorphAttributes","attributeArray","setIndex","_inverseMatrix$2","_ray$2","_sphere$4","_sphereHitAt","_vA$1","_vB$1","_vC$1","_tempA","_morphA","_uvA$1","_uvB$1","_uvC$1","_normalA","_normalB","_normalC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","morphPosition","morphInfluences","influence","applyBoneTransform","raycaster","intersects","recast","intersectSphere","intersectsBox","intersection","groupMaterial","end","checkGeometryIntersection","faceIndex","face","checkIntersection","intersect","intersectTriangle","getVertexPosition","BoxGeometry","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","mergeUniforms","uniforms","merged","cloneUniformsGroups","getUnlitUniformColorSpace","renderer","getRenderTarget","outputEncoding","UniformsUtils","merge","default_vertex","default_fragment","ShaderMaterial","isShaderMaterial","defines","uniformsGroups","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","uniform","Camera","PerspectiveCamera","fov","aspect","isPerspectiveCamera","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","focalLength","vExtentSlope","getFilmHeight","atan","tan","fullWidth","fullHeight","offsetX","offsetY","skew","getFilmWidth","makePerspective","CubeCamera","renderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","scene","currentRenderTarget","currentToneMapping","toneMapping","currentXrEnabled","xr","setRenderTarget","render","CubeTexture","isCubeTexture","WebGLCubeRenderTarget","isWebGLCubeRenderTarget","shader","tEquirect","mesh","currentMinFilter","stencil","clear","_vector1","_vector2","_normalMatrix","Plane","isPlane","setFromNormalAndCoplanarPoint","inverseNormalLength","line","startSign","endSign","intersectsPlane","optionalNormalMatrix","referencePoint","coplanarPoint","_sphere$3","_vector$6","Frustum","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","stop","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","get","deleteBuffer","delete","cached","elementSize","PlaneGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","alphatest_pars_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","iridescence_fragment","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_fragment","lights_lambert_pars_fragment","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphcolor_vertex","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normal_pars_fragment","normal_pars_vertex","normal_vertex","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","iridescence_pars_fragment","output_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmission_fragment","transmission_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","worldpos_vertex","vertex$h","fragment$h","vertex$g","fragment$g","vertex$f","fragment$f","vertex$e","fragment$e","vertex$d","fragment$d","vertex$c","fragment$c","vertex$b","fragment$b","vertex$a","fragment$a","vertex$9","fragment$9","vertex$8","fragment$8","vertex$7","fragment$7","vertex$6","fragment$6","vertex$5","fragment$5","vertex$4","fragment$4","vertex$3","fragment$3","vertex$2","fragment$2","vertex$1","fragment$1","ShaderChunk","background_vert","background_frag","backgroundCube_vert","backgroundCube_frag","cube_vert","cube_frag","depth_vert","depth_frag","distanceRGBA_vert","distanceRGBA_frag","equirect_vert","equirect_frag","linedashed_vert","linedashed_frag","meshbasic_vert","meshbasic_frag","meshlambert_vert","meshlambert_frag","meshmatcap_vert","meshmatcap_frag","meshnormal_vert","meshnormal_frag","meshphong_vert","meshphong_frag","meshphysical_vert","meshphysical_frag","meshtoon_vert","meshtoon_frag","points_vert","points_frag","shadow_vert","shadow_frag","sprite_vert","sprite_frag","UniformsLib","diffuse","mapTransform","alphaMapTransform","specularmap","specularMapTransform","envmap","flipEnvMap","ior","aomap","aoMapTransform","lightmap","lightMapTransform","bumpmap","bumpMapTransform","normalmap","normalMapTransform","displacementmap","displacementMapTransform","emissivemap","emissiveMapTransform","metalnessmap","metalnessMapTransform","roughnessmap","roughnessMapTransform","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotLightMap","spotShadowMap","spotLightMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","uvTransform","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","backgroundIntensity","backgroundCube","backgroundBlurriness","cube","tCube","tFlip","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","clearcoatMapTransform","clearcoatNormalMapTransform","clearcoatRoughnessMapTransform","iridescenceMapTransform","iridescenceThicknessMinimum","iridescenceThicknessMaximum","iridescenceThicknessMapTransform","sheenColorMap","sheenColorMapTransform","sheenRoughnessMap","sheenRoughnessMapTransform","transmissionMapTransform","transmissionSamplerSize","transmissionSamplerMap","thicknessMapTransform","specularColorMapTransform","specularIntensityMapTransform","_rgb","WebGLBackground","cubemaps","cubeuvmaps","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","usePMREM","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","deleteAttribute","onBeforeRender","copyPosition","enableAll","unshift","getRGB","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","getParameter","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","forceUpdate","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","attributesNum","programAttributes","getAttributes","programAttribute","location","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","vertexAttribIPointer","isInstancedBufferGeometry","materialDefaultAttributeValues","isInstancedInterleavedBuffer","locationSize","_maxInstanceCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","reset","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","info","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","has","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","beginShadows","projectPlanes","endShadows","setGlobalState","setState","useCache","materialProperties","resetGlobalState","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","cubemap","fromEquirectangularTexture","addEventListener","onTextureDispose","removeEventListener","OrthographicCamera","isOrthographicCamera","scaleW","scaleH","makeOrthographic","LOD_MIN","EXTRA_LOD_SIGMA","MAX_SAMPLES","_flatCamera","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_renderer","_pingPongRenderTarget","_lodMax","_cubeSize","_lodPlanes","_sizeLods","_sigmas","_blurMaterial","_cubemapMaterial","_equirectMaterial","_compileMaterial","sigma","_setSize","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","equirectangular","_fromTexture","_getCubemapMaterial","_getEquirectMaterial","_dispose","cubeSize","log2","outputTarget","_setViewport","_textureToCubeUV","params","_createRenderTarget","_createPlanes","sizeLods","lodPlanes","sigmas","_getBlurShader","tmpMesh","compile","cubeCamera","upSign","forwardSign","originalAutoClear","backgroundMaterial","backgroundBox","useSolidColor","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","sum","weight","outputSize","lodMax","lod","totalLods","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","shaderMaterial","_getCommonVertexShader","WebGLCubeUVMaps","cubeUVmaps","pmremGenerator","isEquirectMap","isCubeMap","fromEquirectangular","fromCubemap","isCubeTextureComplete","cubemapUV","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","morphTextures","morph","workInfluences","objectInfluences","morphTargetsCount","entry","disposeTexture","hasMorphPosition","hasMorphNormals","hasMorphColors","morphTargets","morphNormals","morphColors","vertexDataCount","vertexDataStride","morphTarget","morphNormal","morphColor","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","influences","sort","MAX_SAFE_INTEGER","WebGLObjects","updateMap","buffergeometry","hasEventListener","onInstancedMeshDispose","instancedMesh","emptyTexture","emptyArrayTexture","empty3dTexture","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","copyArray","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2i","uniform2iv","setValueV3i","uniform3i","uniform3iv","setValueV4i","uniform4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2ui","uniform2uiv","setValueV3ui","uniform3ui","uniform3uiv","setValueV4ui","uniform4ui","uniform4uiv","setValueT1","unit","setTexture2D","setValueT3D1","setTexture3D","setValueT6","setTextureCube","setValueT2DArray1","setTexture2DArray","getSingularSetter","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT3DArray","setValueT6Array","setValueT2DArrayArray","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","WebGLShader","createShader","shaderSource","compileShader","programIdCount","handleSource","errorLine","split","lines2","to","join","getEncodingComponents","getShaderErrors","status","getShaderParameter","errors","getShaderInfoLog","trim","errorMatches","toUpperCase","getShaderSource","getTexelEncodingFunction","functionName","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUVHeight","normalMapTangentSpace","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","numSpotLightCoords","numSpotLightShadows","numSpotLightMaps","numSpotLightShadowsWithMaps","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","unrollLoopPattern","unrollLoops","loopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","generateCubeUVSize","imageHeight","maxMip","texelHeight","texelWidth","WebGLProgram","cacheKey","envMapCubeUVSize","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","useFog","fogExp2","normalMapObjectSpace","mapUv","alphaMapUv","lightMapUv","aoMapUv","emissiveMapUv","bumpMapUv","normalMapUv","displacementMapUv","metalnessMapUv","roughnessMapUv","clearcoatMapUv","clearcoatNormalMapUv","clearcoatRoughnessMapUv","iridescenceMapUv","iridescenceThicknessMapUv","sheenColorMapUv","sheenRoughnessMapUv","specularMapUv","specularColorMapUv","specularIntensityMapUv","transmissionMapUv","thicknessMapUv","vertexTangents","vertexAlphas","vertexUvs2","pointsUvs","skinning","morphTextureStride","doubleSided","flipSided","shadowMapEnabled","decodeVideoTexture","useLegacyLights","opaque","useDepthPacking","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","onShaderError","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","_id","WebGLShaderCache","shaderCache","Map","materialCache","vertexShaderStage","_getShaderStage","fragmentShaderStage","materialShaders","_getShaderCacheForMaterial","shaderStage","code","Set","stage","WebGLShaderStage","WebGLPrograms","_programLayers","_customShaders","IS_WEBGL2","SUPPORTS_VERTEX_TEXTURES","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","getChannel","getParameters","shadows","isMeshStandardMaterial","customVertexShaderID","customFragmentShaderID","getVertexShaderID","getFragmentShaderID","IS_INSTANCEDMESH","HAS_MAP","HAS_MATCAP","HAS_ENVMAP","HAS_AOMAP","HAS_LIGHTMAP","HAS_BUMPMAP","HAS_NORMALMAP","HAS_DISPLACEMENTMAP","HAS_EMISSIVEMAP","HAS_METALNESSMAP","HAS_ROUGHNESSMAP","HAS_CLEARCOAT","HAS_IRIDESCENCE","HAS_SHEEN","HAS_TRANSMISSION","HAS_CLEARCOATMAP","HAS_CLEARCOAT_NORMALMAP","HAS_CLEARCOAT_ROUGHNESSMAP","HAS_IRIDESCENCEMAP","HAS_IRIDESCENCE_THICKNESSMAP","HAS_SHEEN_COLORMAP","HAS_SHEEN_ROUGHNESSMAP","HAS_SPECULARMAP","HAS_SPECULAR_COLORMAP","HAS_SPECULAR_INTENSITYMAP","HAS_TRANSMISSIONMAP","HAS_THICKNESSMAP","HAS_GRADIENTMAP","HAS_ALPHAMAP","HAS_ALPHATEST","HAS_EXTENSIONS","HAS_ATTRIBUTE_UV2","supportsVertexTextures","isXRRenderTarget","isVideoTexture","isFogExp2","directional","spot","rectArea","hemi","shadowMap","customProgramCacheKey","getProgramCacheKey","getProgramCacheKeyParameters","getProgramCacheKeyBooleans","morphAttributeCount","disableAll","enable","acquireProgram","pl","preexistingProgram","releaseProgram","pop","releaseShaderCache","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","transmissive","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","finish","WebGLRenderLists","lists","renderCallDepth","listArray","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingAndTexturingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","numSpotMaps","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","numSpotShadowsWithMaps","scaleFactor","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","updateMatrices","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","identity","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","setupLightsView","WebGLRenderStates","renderStates","renderStateArray","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vertex","fragment","WebGLShadowMap","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterial","_distanceMaterial","_materialCache","_maxTextureSize","shadowMaterialVertical","VSM_SAMPLES","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","pars","viewportCount","getViewportCount","vp","getViewport","getFrustum","renderObject","isPointLightShadow","VSMPass","blurSamples","mapPass","renderBufferDirect","getDepthMaterial","customMaterial","customDistanceMaterial","customDepthMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","intersectsObject","k","kl","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","disable","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","uboBindings","uboProgramMap","enabledCapabilities","currentBoundFramebuffers","currentDrawbuffers","defaultDrawbuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","scissorParam","viewportParam","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","bindFramebuffer","framebuffer","drawBuffersWEBGL","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","compressedTexImage3D","texSubImage2D","texSubImage3D","compressedTexSubImage2D","compressedTexSubImage3D","texStorage2D","texStorage3D","texImage3D","updateUBOMapping","uniformsGroup","blockIndex","getUniformBlockIndex","uniformBlockBinding","__bindingPointIndex","WebGLTextures","_gl","utils","multisampledRTTExt","supportsInvalidateFramebuffer","navigator","userAgent","_videoTextures","_sources","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","isPowerOfTwo$1","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","getInternalFormat","internalFormatName","glFormat","glType","forceLinearEncoding","getMipLevels","isFramebufferTexture","isCompressedTexture","filterFallback","deallocateTexture","onRenderTargetDispose","deallocateRenderTarget","textureProperties","__webglInit","webglTextures","__cacheKey","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","attachmentProperties","textureUnits","resetTextureUnits","textureUnit","getTextureCacheKey","slot","updateVideoTexture","__version","complete","uploadTexture","uploadCubeTexture","wrappingToGL","filterToGL","setTextureParameters","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","forceUpload","textureCacheKey","isCompressedArrayTexture","sourceProperties","pixelStorei","verifyColorSpace","glInternalFormat","mipmap","useTexStorage","allocateMemory","levels","isDepthTexture","isCompressed","cubeImage","mipmapImage","setupFrameBufferTexture","attachment","textureTarget","__hasExternalTextures","useMultisampledRTT","framebufferTexture2DMultisampleEXT","getRenderTargetSamples","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","renderbufferStorageMultisampleEXT","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","__autoAllocateDepthBuffer","createRenderbuffer","rebindTextures","colorTexture","setupRenderTarget","isMultipleRenderTargets","createFramebuffer","glTextureType","updateRenderTargetMipmap","updateMultisampleRenderTarget","invalidationArray","depthStyle","ignoreDepthValues","__ignoreDepthValues","invalidateFramebuffer","blitFramebuffer","__useRenderToTexture","sRGBToLinear","WebGLUtils","HALF_FLOAT_OES","SRGB_ALPHA_EXT","COMPRESSED_SRGB_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_SRGB8_ETC2","COMPRESSED_RGB8_ETC2","COMPRESSED_SRGB8_ALPHA8_ETC2_EAC","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR","COMPRESSED_RGBA_ASTC_4x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR","COMPRESSED_RGBA_ASTC_5x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR","COMPRESSED_RGBA_ASTC_5x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR","COMPRESSED_RGBA_ASTC_6x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR","COMPRESSED_RGBA_ASTC_6x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR","COMPRESSED_RGBA_ASTC_8x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR","COMPRESSED_RGBA_ASTC_8x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR","COMPRESSED_RGBA_ASTC_8x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR","COMPRESSED_RGBA_ASTC_10x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR","COMPRESSED_RGBA_ASTC_10x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR","COMPRESSED_RGBA_ASTC_10x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR","COMPRESSED_RGBA_ASTC_10x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR","COMPRESSED_RGBA_ASTC_12x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR","COMPRESSED_RGBA_ASTC_12x12_KHR","COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT","COMPRESSED_RGBA_BPTC_UNORM_EXT","COMPRESSED_RED_RGTC1_EXT","COMPRESSED_SIGNED_RED_RGTC1_EXT","COMPRESSED_RED_GREEN_RGTC2_EXT","COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","isArrayCamera","cameras","Group","isGroup","_moveEvent","WebXRController","_targetRay","_grip","_hand","joints","inputState","pinching","hasLinearVelocity","linearVelocity","hasAngularVelocity","angularVelocity","inputSource","hand","inputjoint","_getHandJoint","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","visibilityState","jointPose","getJointPose","joint","transform","jointRadius","indexTip","thumbTip","distanceToPinch","threshold","handedness","gripSpace","getPose","targetRaySpace","jointName","DepthTexture","WebXRManager","framebufferScaleFactor","referenceSpaceType","foveation","customReferenceSpace","pose","glBinding","glProjLayer","glBaseLayer","xrFrame","getContextAttributes","initialRenderTarget","newRenderTarget","controllers","controllerInputSources","planesLastChangedTimes","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","cameraAutoUpdate","isPresenting","getController","controller","getTargetRaySpace","getControllerGrip","getGripSpace","getHand","getHandSpace","onSessionEvent","controllerIndex","onSessionEnd","onInputSourcesChange","disconnect","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setReferenceSpace","space","getBaseLayer","getBinding","getFrame","setSession","xrCompatible","makeXRCompatible","layerInit","antialias","XRWebGLLayer","updateRenderState","baseLayer","framebufferWidth","framebufferHeight","depthFormat","depthType","glDepthFormat","projectionlayerInit","colorFormat","XRWebGLBinding","createProjectionLayer","textureWidth","textureHeight","setFoveation","requestReferenceSpace","removed","added","connect","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","translateX","translateZ","near2","far2","left2","right2","top2","bottom2","updateCamera","depthNear","depthFar","updateUserCamera","getCamera","getFoveation","fixedFoveation","getPlanes","onAnimationFrameCallback","getViewerPose","views","setRenderTargetFramebuffer","cameraVRNeedsUpdate","glSubImage","getViewSubImage","setRenderTargetTextures","depthStencilTexture","detectedPlanes","planesToRemove","lastChangedTime","lastKnownTime","WebGLMaterials","refreshTransformUniform","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","transmissionRenderTarget","refreshUniformsCommon","isMeshLambertMaterial","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","refreshUniformsStandard","isMeshPhysicalMaterial","refreshUniformsPhysical","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDistance","isMeshNormalMaterial","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","WebGLUniformsGroups","updateList","allocatedBindingPoints","maxBindingPoints","bind","webglProgram","prepareUniformsGroup","onUniformsGroupsDispose","updateBufferData","bindingPointIndex","allocateBindingPointIndex","__size","bindBufferBase","__cache","hasUniformChanged","__offset","arrayOffset","getUniformSize","__data","storage","tempValues","cachedObjects","cachedObject","chunkSize","chunkOffset","infos","boundary","remainingSizeInChunk","createCanvasElement","display","WebGLRenderer","preserveDrawingBuffer","powerPreference","failIfMajorPerformanceCaveat","isWebGLRenderer","_alpha","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","_this","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_transmissionRenderTarget","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","onContextCreationError","isWebGL1Renderer","shift","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","setSize","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","statusMessage","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReferences","forEach","setProgram","rangeFactor","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","maxInstanceCount","prepare","getProgram","material2","self","setFromProjectionMatrix","projectObject","camera2","renderScene","onAfterRender","isLOD","intersectsSprite","opaqueObjects","transmissiveObjects","transparentObjects","renderTransmissionPass","renderObjects","renderTargetNeedsUpdate","currentSide","lightsStateVersion","programCacheKey","updateCommonMaterialProperties","onBuild","needsLights","materialNeedsLights","progUniforms","uniformsList","seqWithValue","needsProgramChange","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","setOptional","boneTexture","computeBoneTexture","boneTextureSize","isMeshGouraudMaterial","markUniformsLightsNeedsUpdate","upload","defaultFramebuffer","__useDefaultFramebuffer","useDefaultFramebuffer","isRenderTarget3D","framebufferBound","layer","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","halfFloatSupportedByExt","readPixels","copyFramebufferToTexture","level","levelScale","copyTexSubImage2D","copyTextureToTexture","srcTexture","dstTexture","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","isInterleavedBuffer","arrayBuffers","_uuid","ib","setUsage","_vector$5","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA","_vB","_vC","_uvA","_uvB","_uvC","Sprite","float32Array","setFromMatrixScale","transformVertex","vertexPosition","mvPosition","_v1$2","_v2$1","LOD","_currentLevel","addLevel","hysteresis","levelDistance","getObjectForDistance","raycast","_basePosition","_skinIndex","_skinWeight","_matrix4","_vertex","SkinnedMesh","bindMatrixInverse","calculateInverses","skinWeight","manhattanLength","setXYZW","skinIndex","getComponent","boneIndex","bones","boneInverses","Bone","isBone","DataTexture","_offsetMatrix","_identityMatrix","Skeleton","boneMatrices","inverse","bone","json","boneInverse","InstancedBufferAttribute","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_box3","_identity","_mesh","_sphere$2","InstancedMesh","setMatrixAt","getMatrixAt","raycastTimes","instanceId","linecap","linejoin","_start$1","_end$1","_inverseMatrix$1","_ray$1","_sphere$1","Line","lineDistances","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","distanceSqToSegment","_start","_end","LineSegments","LineLoop","_inverseMatrix","_ray","_sphere","_position$2","Points","testPoint","rayPointDistanceSq","intersectPoint","closestPointToPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","FramebufferTexture","CompressedTexture","CompressedArrayTexture","CanvasTexture","isCanvasTexture","Curve","arcLengthDivisions","optionalTarget","getUtoTmapping","getPoint","divisions","getPointAt","lengths","getLengths","cacheArcLengths","current","last","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","t2","pt1","pt2","getTangent","segments","closed","binormals","vec","mat","getTangentAt","MAX_VALUE","tz","makeRotationAxis","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","px","py","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","freeze","__proto__","CurvePath","curves","autoClose","curve","startPoint","endPoint","getLength","curveLengths","getCurveLengths","diff","lens","cacheLengths","sums","pts","getPoints","fromJSON","Path","currentPoint","moveTo","lineTo","aCPx","aCPy","aCP1x","aCP1y","aCP2x","aCP2y","npts","absarc","absellipse","firstPoint","lastPoint","LatheGeometry","phiStart","phiLength","initNormals","inverseSegments","curNormal","prevNormal","base","CapsuleGeometry","capSegments","radialSegments","CircleGeometry","thetaStart","thetaLength","segment","CylinderGeometry","radiusTop","radiusBottom","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","PolyhedronGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","computeVertexNormals","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","details","DodecahedronGeometry","_v0","_v1$1","_normal","_triangle","EdgesGeometry","thresholdAngle","precisionPoints","thresholdDot","indexAttr","getIndex","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Shape","holes","holesPts","getPointsHoles","hole","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","prev","minX","minY","maxX","maxY","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minZ","zOrder","maxZ","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","bridge","findHoleBridge","bridgeReverse","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","Node","an","bp","ShapeUtils","contour","faces","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","verticesArray","uvArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","reverse","isClockWise","hl","ahole","triangulateShape","scalePt2","pt","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","toJSON$1","geometryShapes","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","OctahedronGeometry","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","ShapeGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","SphereGeometry","thetaEnd","grid","verticesRow","uOffset","TetrahedronGeometry","TorusGeometry","tube","tubularSegments","arc","TorusKnotGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TubeGeometry","frames","P","generateBufferData","generateSegment","generateIndices","WireframeGeometry","edges","o","ol","isUniqueEdge","hash1","hash2","Geometries","RawShaderMaterial","_sheen","_clearcoat","_iridescence","_transmission","arraySlice","isTypedArray","convertArray","forceClone","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","multiplyQuaternionsFlat","valueEnd","blendMode","AnimationUtils","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","settings","DefaultSettings_","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","copySampleValue_","t1global","mid","intervalChanged_","interpolate_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","getSettings_","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","factoryMethod","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","timeOffset","timeScale","startTime","endTime","nKeys","valid","prevTime","currTime","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","trackType","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","slerpFlat","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","validate","optimize","jsonTracks","frameTime","parseKeyframeTrack","clipTracks","morphTargetSequence","noLoop","numMorphTargets","objectOrClipArray","clipArray","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","CreateFromMorphTargetSequence","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","getTrackTypeForValueTypeName","typeName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","Promise","resolve","reject","load","loading","HttpError","response","FileLoader","setTimeout","req","Request","headers","Headers","credentials","mimeType","responseType","fetch","then","ReadableStream","body","getReader","callbacks","reader","contentLength","total","lengthComputable","loaded","stream","readData","read","done","close","byteLength","ProgressEvent","enqueue","Response","statusText","arrayBuffer","blob","text","parser","DOMParser","parseFromString","re","label","decoder","TextDecoder","decode","catch","finally","AnimationLoader","setPath","setRequestHeader","setWithCredentials","CompressedTextureLoader","setResponseType","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","removeEventListeners","onImageError","CubeTextureLoader","urls","setCrossOrigin","DataTextureLoader","texData","TextureLoader","Light","HemisphereLight","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","_lightPositionWorld","_lookTarget","PointLightShadow","_cubeDirections","_cubeUps","PointLight","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","isSphericalHarmonics3","coeff","shBasis","LightProbe","MaterialLoader","getTexture","createMaterialFromType","materialLib","LoaderUtils","fromCharCode","decodeURIComponent","escape","lastIndexOf","InstancedBufferGeometry","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","extractUrlBase","loadAsync","parseAsync","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","parseImagesAsync","bufferGeometryLoader","setTextures","loadImage","deserializeImage","imageArray","currentUrl","deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","isInteger","objectAnimations","ImageBitmapLoader","isImageBitmapLoader","createImageBitmap","fetchOptions","res","colorSpaceConversion","imageBitmap","_context","AudioContext","window","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","isHemisphereLightProbe","sky","ground","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","_projectionMatrix","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$1","_quaternion$1","_scale$1","_orientation$1","AudioListener","gain","createGain","destination","timeDelta","_clock","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","audioNode","mediaElement","createMediaElementSource","mediaStream","createMediaStreamSource","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getOutput","getFilters","setFilters","_position","_quaternion","_scale","_orientation","PositionalAudio","panner","createPanner","panningModel","refDistance","rolloffFactor","distanceModel","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getByteFrequencyData","getFrequencyData","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accuIndex","currentWeight","mix","weightAdditive","originalValueOffset","getValue","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","_getValue_unbound","_setValue_unbound","targetObject","resolvedProperty","propertyIndex","dest","targetArray","sourceArray","objectName","_getValue_unavailable","_setValue_unavailable","objectIndex","nodeProperty","versioning","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","bindingType","BindingType","Direct","ArrayElement","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","root","isAnimationObjectGroup","matches","results","lastDot","substring","getBoneByName","searchNodeSubtree","childNode","subTreeNode","_getValue_direct","_getValue_array","_getValue_arrayElement","_getValue_toArray","_setValue_direct","_setValue_direct_setNeedsUpdate","_setValue_direct_setMatrixWorldNeedsUpdate","_setValue_array","_setValue_array_setNeedsUpdate","_setValue_array_setMatrixWorldNeedsUpdate","_setValue_arrayElement","_setValue_arrayElement_setNeedsUpdate","_setValue_arrayElement_setMatrixWorldNeedsUpdate","_setValue_fromArray","_setValue_fromArray_setNeedsUpdate","_setValue_fromArray_setMatrixWorldNeedsUpdate","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","inUse","bindingsPerObject","indicesByUUID","paths","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","lastObject","indicesByPath","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","_isActiveAction","_scheduleFading","fadeOutAction","warp","fadeOut","fadeIn","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","fadeInAction","crossFadeFrom","weightInterpolant","_takeBackControlInterpolant","action","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","_root","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","accumulateAdditive","accumulate","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","_controlInterpolantsResultBuffer","AnimationMixer","_initMemoryManager","_accuIndex","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","create","clipUuid","actionsForClip","_actionsByClip","_bindAction","knownActions","_addInactiveAction","_lendBinding","saveOriginalState","_lendAction","restoreOriginalState","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","__cacheIndex","lastActiveInterpolant","optionalRoot","clipObject","findByName","existingAction","newAction","nActions","_update","timeInSeconds","actionsToRemove","_removeInactiveAction","Uniform","UniformsGroup","isUniformsGroup","uniformsSource","InstancedInterleavedBuffer","GLBufferAttribute","Raycaster","coords","unproject","intersectObject","ascSort","Spherical","other","EPS","setFromCartesianCoords","Cylindrical","_vector$4","Box2","isBox2","_startP","_startEnd","Line3","clampToLine","startEnd2","startEnd_startP","closestPointToPointParameter","_vector$3","SpotLightHelper","cone","coneLength","coneWidth","_vector$2","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","colors","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$1","_color1","_color2","HemisphereLightHelper","rotateY","GridHelper","PolarGridHelper","sectors","rings","_v1","_v2","_v3","DirectionalLightHelper","lightPlane","targetLine","_vector","_camera","CameraHelper","pointMap","addLine","addPoint","colorFrustum","colorCone","colorUp","colorTarget","colorCross","setColors","colorAttribute","setPoint","_box","BoxHelper","setFromObject","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","AxesHelper","xAxisColor","yAxisColor","zAxisColor","ShapePath","subPaths","currentPath","quadraticCurveTo","bezierCurveTo","splineThru","isCCW","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","tmpHoles","BoxBufferGeometry","CapsuleBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","revision","__THREE__","_changeEvent","_startEvent","_endEvent","OrbitControls","touchAction","minDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","UP","BOTTOM","mouseButtons","touches","ONE","TWO","target0","position0","zoom0","_domElementKeyEvents","getPolarAngle","spherical","getAzimuthalAngle","getDistance","listenToKeyEvents","onKeyDown","stopListenToKeyEvents","saveState","STATE","NONE","quat","setFromUnitVectors","quatInverse","lastPosition","lastQuaternion","twoPI","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","onContextMenu","onPointerDown","onPointerUp","onMouseWheel","onPointerMove","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseWheel","handleKeyDown","ctrlKey","metaKey","shiftKey","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","getSecondPointerPosition","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","setPointerCapture","pointerId","addPointer","pointerType","onTouchStart","onMouseDown","onTouchMove","onMouseMove","removePointer","releasePointerCapture","mouseAction","button","trackPointer","pointer","passive","computeMikkTSpaceTangents","MikkTSpace","negateSign","isReady","getAttributeArray","getCount","toNonIndexed","generateTangents","mergeGeometries","useGroups","isIndexed","attributesUsed","morphAttributesUsed","mergedGeometry","attributesCount","mergedIndex","mergedAttribute","mergeAttributes","morphAttributesToMerge","mergedMorphAttribute","TypedArray","arrayLength","deepCloneAttribute","isInstancedInterleavedBufferAttribute","deinterleaveAttribute","interleaveAttributes","getters","setters","iba","cons","setX","setY","setZ","setW","deinterleaveGeometry","attrMap","attr","estimateBytesUsed","mem","mergeVertices","tolerance","hashToIndex","vertexCount","attributeNames","tmpAttributes","tmpMorphAttributes","newIndices","morphAttr","decimalShift","log10","shiftMultiplier","newarray","newMorphArrays","getterFunc","setterFunc","tmpAttribute","tmpMorphAttribute","toTrianglesDrawMode","drawMode","numberOfTriangles","newGeometry","clearGroups","computeMorphedAttributes","_tempB","_tempC","_morphB","_morphC","_calculateMorphedAttributeData","modifiedAttributeArray","modifiedPosition","modifiedNormal","morphedPositionAttribute","morphedNormalAttribute","mergeGroups","groupLength","currentGroup","toCreasedNormals","creaseAngle","creaseDot","hashMultiplier","verts","tempVec1","tempVec2","tempNorm","tempNorm2","hashVertex","resultGeometry","posAttr","vertexMap","i3","normalArray","normAttr","otherNormals","lk","otherNorm","mergeBufferGeometries","mergeBufferAttributes","GLTFLoader","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFTextureAVIFExtension","GLTFMaterialsSheenExtension","GLTFMaterialsTransmissionExtension","GLTFMaterialsVolumeExtension","GLTFMaterialsIorExtension","GLTFMaterialsEmissiveStrengthExtension","GLTFMaterialsSpecularExtension","GLTFMaterialsIridescenceExtension","GLTFLightsExtension","GLTFMeshoptCompression","GLTFMeshGpuInstancing","_onError","gltf","plugins","textDecoder","magic","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","content","asset","GLTFParser","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","GLTFRegistry","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_SHEEN","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_IRIDESCENCE","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","KHR_MATERIALS_EMISSIVE_STRENGTH","EXT_TEXTURE_WEBP","EXT_TEXTURE_AVIF","EXT_MESHOPT_COMPRESSION","EXT_MESH_GPU_INSTANCING","refs","uses","nodeDefs","nodeIndex","nodeLength","nodeDef","_addNodeRef","lightIndex","dependency","lightDefs","lightDef","lightNode","innerConeAngle","outerConeAngle","assignExtrasToUserData","createUniqueName","_loadLight","_getNodeRef","materialParams","materialDef","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","all","emissiveStrength","clearcoatFactor","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughnessTexture","clearcoatNormalTexture","iridescenceFactor","iridescenceTexture","iridescenceIor","iridescenceThicknessTexture","sheenColorFactor","sheenRoughnessFactor","sheenColorTexture","sheenRoughnessTexture","transmissionFactor","transmissionTexture","thicknessFactor","thicknessTexture","colorArray","specularFactor","specularTexture","specularColorFactor","specularColorTexture","textureIndex","textureDef","loadTextureImage","isSupported","textureLoader","uri","handler","detectSupport","Image","onload","onerror","bufferView","bufferViews","extensionDef","getDependency","supported","byteOffset","byteStride","decodeGltfBufferAsync","ready","decodeGltfBuffer","meshDef","meshes","primitives","primitive","WEBGL_CONSTANTS","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","attributesDef","accessor","createNodeMesh","nodeObject","instancedMeshes","TRANSLATION","ROTATION","SCALE","attributeName","assignFinalMaterial","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","headerView","header","getUint32","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","decodeDracoFile","texCoord","GLTFCubicSplineInterpolant","stride2","stride3","td","m0","m1","_q","GLTFCubicSplineQuaternionInterpolant","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","UNSIGNED_BYTE","UNSIGNED_SHORT","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","createDefaultMaterial","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","gltfDef","extras","addMorphTargets","targets","hasMorphNormal","hasMorphColor","pendingPositionAccessors","pendingNormalAccessors","pendingColorAccessors","pendingAccessor","morphPositions","targetNames","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","createAttributesKey","attributesKey","getNormalizedComponentScale","getImageURIMimeType","search","associations","primitiveCache","nodeCache","meshCache","cameraCache","lightCache","sourceCache","textureCache","nodeNamesUsed","isSafari","isFirefox","firefoxVersion","_invokeAll","ext","_markDefs","beforeRoot","getDependencies","dependencies","scenes","afterRoot","skinDefs","skins","meshDefs","skinLength","skin","ref","updateMappings","original","mappings","entries","func","loadScene","_invokeOne","loadNode","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","bufferViewDef","accessorIndex","sparse","pendingBufferViews","elementBytes","itemBytes","ibSlice","ibCacheKey","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","sourceIndex","sourceDef","sampler","promise","loadImageSource","startsWith","samplers","URL","webkitURL","sourceURI","isObjectURL","Blob","createObjectURL","revokeObjectURL","mapName","mapDef","gltfReference","extendTexture","useDerivativeTangents","useVertexColors","useFlatShading","pointsMaterial","lineMaterial","materialType","materialExtensions","kmuExtension","getMaterialType","extendParams","metallicFactor","roughnessFactor","metallicRoughnessTexture","extendMaterialParams","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","originalName","sanitizedName","sanitizeNodeName","createDracoPrimitive","decodePrimitive","addPrimitiveAttributes","geometryPromise","meshIndex","loadGeometries","normalizeSkinWeights","cameraIndex","cameraDef","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","_loadNodeShallow","inverseBindMatrices","jointNodes","jointNode","animationIndex","animationDef","animationName","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","input","inputAccessors","outputAccessors","inputAccessor","outputAccessor","targetName","outputArray","scaled","InterpolantFactoryMethodGLTFCubicSpline","interpolantType","nodePending","childPending","childrenDef","skeletonPending","meshPromise","createNodeAttachment","sceneIndex","sceneDef","nodeIds","reduceAssociations","reducedAssociations","computeBounds","boxScale","maxDisplacement","expandByVector","assignAttributeAccessor","gltfAttributeName","_taskCache","DRACOLoader","decoderPath","decoderConfig","decoderBinary","decoderPending","workerLimit","workerPool","workerNextTaskID","workerSourceURL","defaultAttributeIDs","defaultAttributeTypes","config","attributeIDs","attributeTypes","vertexColorSpace","taskConfig","useUniqueIDs","decodeGeometry","taskKey","cachedTask","worker","taskID","taskCost","geometryPending","_getWorker","_worker","_callbacks","postMessage","_createGeometry","_releaseTask","geometryData","_assignVertexColorSpace","inputColorSpace","_initDecoder","useJS","WebAssembly","librariesPending","_loadLibrary","libraries","jsContent","wasmBinary","fn","DRACOWorker","Worker","_taskCosts","_taskLoad","onmessage","terminate","onModuleLoaded","draco","DracoDecoderModule","module","Decoder","dracoGeometry","decodingStatus","geometryType","GetEncodedGeometryType","TRIANGULAR_MESH","DecodeArrayToMesh","POINT_CLOUD","PointCloud","DecodeArrayToPointCloud","ok","ptr","error_msg","attributeType","attributeID","GetAttributeByUniqueId","GetAttributeId","GetAttribute","attributeResult","decodeAttribute","decodeIndex","numFaces","num_faces","numIndices","_malloc","GetTrianglesUInt32Array","HEAPF32","_free","numComponents","num_components","numPoints","num_points","numValues","dataType","getDracoDataType","GetAttributeDataArrayForAllPoints","DT_FLOAT32","DT_INT8","DT_INT16","DT_INT32","DT_UINT8","DT_UINT16","DT_UINT32","Controller","className","widgetTag","_disabled","_hidden","initialValue","createElement","classList","$name","nextNameID","$widget","$disable","appendChild","$children","_listenCallback","_name","innerHTML","onChange","_callOnChange","_changed","onFinishChange","_onFinishChange","_callOnFinishChange","disabled","toggle","toggleAttribute","show","hide","decimals","listen","_listening","_listenCallbackID","curValue","save","_listenPrevValue","updateDisplay","removeChild","BooleanController","$input","checked","normalizeColorString","padStart","STRING","isPrimitive","fromHexString","toHexString","INT","ARRAY","rgbScale","int","OBJECT","FORMATS","getColorFormat","ColorController","$text","$display","_format","_rgbScale","_initialValueHexString","_textFocused","_setValueFromHexString","tryParse","select","backgroundColor","FunctionController","$button","NumberController","_initInput","stepExplicit","_getImplicitStep","_decimals","_min","_onUpdateMinMax","_max","explicit","_step","_stepExplicit","_hasSlider","percent","$fill","_inputFocused","onInput","_snap","_clamp","increment","_snapClampSetValue","blur","_arrowKeyMultiplier","onWheel","_normalizeMouseWheel","testingForVerticalDrag","initClientX","initClientY","prevClientY","initValue","dragDelta","DRAG_THRESH","onMouseUp","_setDraggingStyle","onFocus","onBlur","_initSlider","$slider","insertBefore","setValueFromX","rect","getBoundingClientRect","mouseDown","mouseMove","mouseUp","testingForScroll","prevClientX","beginTouchDrag","_hasScrollBar","onTouchEnd","callOnFinishChange","WHEEL_DEBOUNCE_TIME","wheelFinishChangeTimeout","isVertical","clearTimeout","active","_hasMin","_hasMax","wheelDelta","wheel","mult","altKey","toPrecision","scrollHeight","OptionController","$select","_values","_names","$option","selectedIndex","StringController","stylesheet","_injectStyles","cssContent","injected","before","querySelector","head","stylesInjected","GUI","autoPlace","title","closeFolders","injectStyles","touchStyles","folders","_closed","$title","openAnimated","click","setProperty","_closeFolders","stopPropagation","$1","addColor","addFolder","folder","obj","_title","open","_setClosed","_callOnOpenClose","initialHeight","onTransitionEnd","targetHeight","controllersRecursive","onOpenClose","_onOpenClose","changedGUI","parentElement","foldersRecursive","_assertThisInitialized","ReferenceError","_inheritsLoose","subClass","superClass","_config","autoSleep","force3D","nullTargetWarn","lineHeight","_defaults","overwrite","_suppressOverwrites","_reverting","_bigNum","_tinyNum","_2PI","_HALF_PI","_gsID","_sqrt","_cos","_sin","_isString","_isFunction","_isNumber","_isUndefined","_isObject","_isNotFalse","_windowExists","_isFuncOrString","_isTypedArray","_isArray","_strictNumExp","_numExp","_numWithUnitExp","_complexStringNumExp","_relExp","_delimitedValueExp","_unitExp","_globalTimeline","_win","_coreInitted","_doc","_globals","_installScope","_coreReady","_install","_merge","gsap","_missingPlugin","_warn","suppress","_addGlobal","_emptyFunc","_startAtRevertConfig","suppressEvents","isStart","kill","_revertConfigNoKill","_revertConfig","_reservedProps","_lazyTweens","_lazyLookup","_lastRenderedFrame","_plugins","_effects","_nextGCFrame","_harnessPlugins","_callbackNames","_harness","harnessPlugin","_gsap","harness","targetTest","GSCache","_getCache","_getProperty","_forEachName","names","_round","_roundPrecise","_parseRelative","operator","substr","_arrayContainsAny","toSearch","toFind","_lazyRender","tween","_lazy","_lazySafeRender","_initted","_startAt","_numericIfPossible","_passThrough","_setDefaults","defaults","_setKeyframeDefaults","excludeDuration","toMerge","_mergeDeep","_copyExcluding","excluding","_inheritDefaults","vars","keyframes","inherit","_dp","_arraysMatch","_addLinkedListItem","firstProp","lastProp","sortBy","_prev","_next","_removeLinkedListItem","_removeFromParent","onlyIfParentHasAutoRemove","autoRemoveChildren","_act","_uncache","_dur","_dirty","_recacheAncestors","totalDuration","_rewindStartAt","totalTime","revert","immediateRender","autoRevert","_hasNoPausedAncestors","_ts","_elapsedCycleDuration","_repeat","_animationCycle","_tTime","_rDelay","tTime","cycleDuration","whole","_parentToChildTotalTime","parentTime","_tDur","_setEnd","_rts","_alignPlayhead","smoothChildTiming","_time","_postAddChecks","timeline","rawTime","_zTime","_addToTimeline","skipChecks","_parsePosition","_delay","_sort","_isFromOrFromStart","_recent","_scrollTrigger","trigger","ScrollTrigger","_attemptInitTween","_initTween","_pt","lazy","_ticker","_parentPlayheadIsBeforeStart","_ref","_lock","_ref2","_renderZeroDurationTween","prevRatio","ratio","repeatDelay","iteration","prevIteration","_yoyo","repeatRefresh","invalidate","_from","_onUpdate","_callback","_prom","_findNextPauseTween","_first","_last","_setDuration","skipUncache","leavePlayhead","dur","totalProgress","_onUpdateTotalDuration","Timeline","_zeroPosition","percentAnimation","labels","recent","clippedDuration","isPercent","_createTweenType","isLegacy","varsIndex","irVars","runBackwards","startAt","Tween","_conditionalReturn","getUnit","_slice","_isArrayLike","nonEmpty","nodeType","_flatten","ar","leaveStrings","accumulator","_accumulator","selector","_wake","querySelectorAll","el","nativeElement","shuffle","distribute","each","ease","_parseEase","isDecimal","ratios","ratioX","ratioY","distances","originX","originY","wrapAt","amount","_invertEase","_roundModifier","raw","snap","snapTo","is2D","closest","roundingIncrement","returnFunction","pipe","_len","functions","_key","reduce","unitize","mapRange","_wrapArray","wrapper","wrapYoyo","_replaceRandom","nums","inMin","inMax","outMin","outMax","inRange","outRange","interpolate","progress","mutate","isString","master","interpolators","_addPropTween","_renderPropTweens","_getLabelInDirection","fromTime","backward","executeLazyFirst","prevContext","_ctx","callbackScope","_interrupt","scrollTrigger","_quickTween","_registerPluginQueue","_createPlugin","isFunc","Plugin","_props","instanceDefaults","_killPropTweensOf","modifier","_addPluginModifier","rawVars","statics","getSetter","_getSetter","aliases","prop","PropTween","_255","_colorLookup","aqua","lime","silver","black","maroon","teal","blue","navy","white","olive","yellow","orange","gray","purple","green","red","pink","cyan","_hue","m2","splitColor","toHSL","forceAlpha","wasHSL","_colorOrderData","_colorExp","_formatColors","orderMatchData","shell","_hslExp","_colorStringFilter","combined","_tickerActive","_getTime","_lagThreshold","_adjustedLag","_lastUpdate","_gap","_nextTime","_req","_raf","_self","_delta","_i","_tick","elapsed","manual","overlap","dispatch","tick","deltaRatio","wake","gsapVersions","GreenSockGlobals","sleep","lagSmoothing","adjustedLag","_fps","once","prioritize","_easeMap","_customEaseExp","_quotesExp","_parseObjectInString","parsedVal","_valueInParentheses","nested","_configEaseFromString","_CE","_propagateYoyoEase","isYoyo","yoyoEase","_ease","_yEase","defaultEase","_insertEase","easeIn","easeOut","easeInOut","lowercaseName","_easeInOutFromOut","_configElastic","amplitude","period","_configBack","overshoot","Linear","easeNone","none","n1","n3","SteppedEase","immediateStart","Animation","yoyo","_proto","_totalTime","_ptLookup","_pTime","_ps","includeRepeats","wrapRepeats","prevIsReverting","globalTime","_sat","restart","includeDelay","reversed","pause","atTime","resume","isActive","eventCallback","onFulfilled","_resolve","_then","_Animation","sortChildren","_proto2","fromTo","fromVars","toVars","delayedCall","staggerTo","stagger","onCompleteAll","onCompleteAllParams","onComplete","onCompleteParams","staggerFrom","staggerFromTo","tDur","crossingStart","prevPaused","pauseTween","prevStart","rewinding","doesWrap","onRepeat","_hasPause","_forcing","adjustedTime","_this2","addLabel","getChildren","tweens","timelines","ignoreBeforeTime","getById","removeLabel","killTweensOf","_totalTime2","addPause","removePause","props","onlyActive","getTweensOf","_overwritingTween","parsedTargets","isGlobalTime","_targets","tweenTo","tl","_vars","_onStart","onStartParams","initted","tweenFromTo","fromPosition","toPosition","nextLabel","afterTime","previousLabel","beforeTime","currentLabel","shiftChildren","adjustLabels","soft","includeLabels","updateRoot","_addComplexStringPropTween","setter","stringFilter","funcParam","_renderComplexString","matchIndex","startNums","endNum","chunk","startNum","hasRandom","fp","optional","parsedStart","_setterPlain","_setterFuncWithParam","_setterFunc","_forceAllPropTweens","_renderBoolean","_renderPlain","_processVars","_parseFuncOrString","_checkPlugin","ptLookup","priority","onUpdateParams","prevStartAt","fullTargets","autoOverwrite","_overwrite","cleanVars","hasPriority","gsData","harnessVars","overwritten","_ptCache","_op","_sortPropTweensByPriority","_onInit","_updatePropTweens","startIsRelative","ptCache","rootPT","lookup","_addAliasesToVars","propertyAliases","_parseKeyframe","allProps","easeEach","_staggerTweenProps","_staggerPropsToSkip","_Animation2","skipInherit","_this3","_this3$vars","curTarget","staggerFunc","staggerVarsToMerge","kf","_proto3","isNegative","resetTo","killingTargets","propTweenLookup","firstPT","overwrittenProps","curLookup","curOverwriteProps","onReverseComplete","onReverseCompleteParams","_setterAttribute","hasNonDependentRemaining","op","dep","_setterWithModifier","mSet","mt","first","pr","change","_proto4","TweenMax","TweenLite","TimelineLite","TimelineMax","_media","_emptyArray","_lastMediaTime","_dispatch","_onMediaChange","queries","conditions","anyMatch","toggled","matchMedia","onMatch","Context","_r","isReverted","_proto5","prevSelector","ignore","getTweens","_this4","MatchMedia","contexts","_proto6","cond","mq","addListener","registerPlugin","_len2","args","_key2","getProperty","uncache","getter","quickSetter","quickTo","_merge2","isTweening","registerEffect","_ref3","effect","extendTimeline","pluginName","registerEase","parseEase","exportRoot","includeDelayedCalls","matchMediaRefresh","found","install","effects","ticker","globalTimeline","core","globals","getCache","reverting","toAdd","suppressOverwrites","_getPluginPropTween","_addModifiers","modifiers","_buildModifierPlugin","temp","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","Sine","Expo","Circ","_docElement","_pluginInitted","_tempDiv","_tempDivStyler","_recentSetterPlugin","_transformProps","_RAD2DEG","_DEG2RAD","_atan2","_capsExp","_horizontalExp","_complexExp","_propertyAliases","autoAlpha","_renderCSSProp","_renderPropWithEnd","_renderCSSPropWithBeginning","_renderRoundedCSSProp","_renderNonTweeningValue","_renderNonTweeningValueOnlyAtEnd","_setterCSSStyle","_setterCSSProp","_setterTransform","_setterScale","_setterScaleWithRender","renderTransform","_setterTransformWithRender","_transformProp","_transformOriginProp","_saveStyle","isNotCSS","tfm","_get","svg","svgo","_removeIndependentTransforms","removeProperty","_revertStyle","_getStyleSaver","saver","_supports3D","_createElement","ns","_getComputedProperty","skipPrefixFallback","getComputedStyle","getPropertyValue","_checkPropPrefix","_prefixes","preferPrefix","_initCore","documentElement","cssText","_getBBoxHack","swapIfPossible","ownerSVGElement","oldParent","parentNode","oldSibling","nextSibling","oldCSS","bbox","getBBox","_gsapBBox","_getAttributeFallbacks","attributesArray","_getBBox","bounds","_isSVG","getCTM","_removeProperty","removeAttribute","_addNonTweeningPT","beginning","onlySetAtEnd","_nonConvertibleUnits","deg","rad","turn","_nonStandardLayouts","flex","_convertToUnit","curUnit","horizontal","isRootSVG","tagName","measureProperty","toPixels","toPercent","isSVG","_parseTransform","_firstTwoOnly","zOrigin","_specialProps","_tweenComplexCSSString","startValues","startValue","endValue","endUnit","startUnit","endValues","_keywordToPercent","_convertKeywordsToPercentages","_renderClearProps","clearTransforms","clearProps","_identity2DMatrix","_rotationalProperties","_isNullTransform","_getComputedTransformMatrixAsArray","matrixString","_getMatrix","force2D","addedToDOM","baseVal","consolidate","offsetParent","nextElementSibling","_applySVGOrigin","originIsAbsolute","smooth","matrixArray","pluginToAddPropTweensTo","xOriginOld","xOrigin","yOriginOld","yOrigin","xOffsetOld","yOffsetOld","yOffset","originSplit","invertedScaleX","rotationX","rotationY","skewX","skewY","perspective","rotate","forceCSS","xPercent","offsetWidth","yPercent","offsetHeight","transformPerspective","_renderSVGTransforms","_renderCSSTransforms","_renderNon3DTransforms","_addPxTranslate","_zeroDeg","_zeroPx","_endParenthesis","transforms","use3D","_addRotationalPropTween","cap","finalValue","_assign","_addRawTransformPTs","startCache","exclude","endCache","CSSPlugin","specialProp","relative","isTransformRelated","transformPropTween","inlineProps","styles","visibility","parseTransform","smoothOrigin","autoRound","checkPrefix","getStyleSaver","positionAndScale","others","gsapWithCSS","TweenMaxWithCSS","exports","HoloEffect","innerWidth","innerHeight","CopyShader","Pass","isPass","needsSwap","renderToScreen","FullScreenQuad","ShaderPass","textureID","fsQuad","writeBuffer","readBuffer","MaskPass","writeValue","clearValue","REPLACE","ALWAYS","EQUAL","KEEP","ClearMaskPass","EffectComposer","renderTarget1","renderTarget2","passes","copyPass","clock","passIndex","maskActive","isLastEnabledPass","NOTEQUAL","swapBuffers","effectiveWidth","effectiveHeight","RenderPass","_oldClearColor","oldAutoClear","oldClearAlpha","oldOverrideMaterial","LuminosityHighPassShader","UnrealBloomPass","renderTargetsHorizontal","renderTargetsVertical","nMips","resx","resy","renderTargetBright","renderTargetHorizonal","renderTargetVertical","highPassShader","highPassUniforms","materialHighPassFilter","separableBlurMaterials","kernelSizeArray","getSeperableBlurMaterial","compositeMaterial","getCompositeMaterial","bloomFactors","bloomTintColors","copyShader","copyUniforms","materialCopy","inputRenderTarget","BlurDirectionX","BlurDirectionY","kernelRadius","Sketch","THREE","dom","devicePixelRatio","controls","setDecoderPath","setDRACOLoader","initPost","addObjects","resize","setupResize","bloomPass","bloomThreshold","bloomStrength","bloomRadius","holoEffect","composer","addPass","that","exposure","gui","imageAspect","compileEquirectangularShader","env","model","human","uTime","light1","light2","getElementById","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","handled","assets","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","stackTrace","innerText","getParents","modules","parents","Function","deps","some"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EA/aA;;AAibA,SAASC,aAAT,CAAwBC,UAAxB,EAAqC;EACpC,MAAMC,QAAQ,GAAGtjK,QAAQ,CAACi7J,aAAT,CAAwB,OAAxB,CAAjB;EACAqI,QAAQ,CAAC3H,SAAT,GAAqB0H,UAArB;EACA,MAAME,MAAM,GAAGvjK,QAAQ,CAACwjK,aAAT,CAAwB,uCAAxB,CAAf;;EACA,IAAKD,MAAL,EAAc;IACbvjK,QAAQ,CAACyjK,IAAT,CAAcvC,YAAd,CAA4BoC,QAA5B,EAAsCC,MAAtC;EACA,CAFD,MAEO;IACNvjK,QAAQ,CAACyjK,IAAT,CAAclI,WAAd,CAA2B+H,QAA3B;EACA;AACD;;AAED,IAAII,cAAc,GAAG,KAArB;;AAEA,MAAMC,GAAN,CAAU;EAET;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACClrK,WAAW,CAAE;IACZylB,MADY;IAEZ0lJ,SAAS,GAAG1lJ,MAAM,KAAKxrB,SAFX;IAGZ08D,SAHY;IAIZptD,KAJY;IAKZ6hK,KAAK,GAAG,UALI;IAMZC,YAAY,GAAG,KANH;IA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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["/**\n * @license\n * Copyright 2010-2023 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\nconst REVISION = '151';\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst TwoPassDoubleSide = 2; // r149\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst RED_RGTC1_Format = 36283;\nconst SIGNED_RED_RGTC1_Format = 36284;\nconst RED_GREEN_RGTC2_Format = 36285;\nconst SIGNED_RED_GREEN_RGTC2_Format = 36286;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\n// Color space string identifiers, matching CSS Color Module Level 4 and WebGPU names where available.\nconst NoColorSpace = '';\nconst SRGBColorSpace = 'srgb';\nconst LinearSRGBColorSpace = 'srgb-linear';\nconst DisplayP3ColorSpace = 'display-p3';\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\nconst GLSL1 = '100';\nconst GLSL3 = '300 es';\n\nconst _SRGBAFormat = 1035; // fallback for WebGL 1\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\nconst _lut = [ '00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '0a', '0b', '0c', '0d', '0e', '0f', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '1a', '1b', '1c', '1d', '1e', '1f', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '2a', '2b', '2c', '2d', '2e', '2f', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '3a', '3b', '3c', '3d', '3e', '3f', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '4a', '4b', '4c', '4d', '4e', '4f', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '5a', '5b', '5c', '5d', '5e', '5f', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '6a', '6b', '6c', '6d', '6e', '6f', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '7a', '7b', '7c', '7d', '7e', '7f', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '8a', '8b', '8c', '8d', '8e', '8f', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99', '9a', '9b', '9c', '9d', '9e', '9f', 'a0', 'a1', 'a2', 'a3', 'a4', 'a5', 'a6', 'a7', 'a8', 'a9', 'aa', 'ab', 'ac', 'ad', 'ae', 'af', 'b0', 'b1', 'b2', 'b3', 'b4', 'b5', 'b6', 'b7', 'b8', 'b9', 'ba', 'bb', 'bc', 'bd', 'be', 'bf', 'c0', 'c1', 'c2', 'c3', 'c4', 'c5', 'c6', 'c7', 'c8', 'c9', 'ca', 'cb', 'cc', 'cd', 'ce', 'cf', 'd0', 'd1', 'd2', 'd3', 'd4', 'd5', 'd6', 'd7', 'd8', 'd9', 'da', 'db', 'dc', 'dd', 'de', 'df', 'e0', 'e1', 'e2', 'e3', 'e4', 'e5', 'e6', 'e7', 'e8', 'e9', 'ea', 'eb', 'ec', 'ed', 'ee', 'ef', 'f0', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7', 'f8', 'f9', 'fa', 'fb', 'fc', 'fd', 'fe', 'ff' ];\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toLowerCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toLowerCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidean modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t} else {\n\n\t\treturn 0;\n\n\t}\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s;\n\n\t// Mulberry32 generator\n\n\tlet t = _seed += 0x6D2B79F5;\n\n\tt = Math.imul( t ^ t >>> 15, t | 1 );\n\n\tt ^= t + Math.imul( t ^ t >>> 7, t | 61 );\n\n\treturn ( ( t ^ t >>> 14 ) >>> 0 ) / 4294967296;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\nfunction denormalize( value, array ) {\n\n\tswitch ( array.constructor ) {\n\n\t\tcase Float32Array:\n\n\t\t\treturn value;\n\n\t\tcase Uint16Array:\n\n\t\t\treturn value / 65535.0;\n\n\t\tcase Uint8Array:\n\n\t\t\treturn value / 255.0;\n\n\t\tcase Int16Array:\n\n\t\t\treturn Math.max( value / 32767.0, - 1.0 );\n\n\t\tcase Int8Array:\n\n\t\t\treturn Math.max( value / 127.0, - 1.0 );\n\n\t\tdefault:\n\n\t\t\tthrow new Error( 'Invalid component type.' );\n\n\t}\n\n}\n\nfunction normalize( value, array ) {\n\n\tswitch ( array.constructor ) {\n\n\t\tcase Float32Array:\n\n\t\t\treturn value;\n\n\t\tcase Uint16Array:\n\n\t\t\treturn Math.round( value * 65535.0 );\n\n\t\tcase Uint8Array:\n\n\t\t\treturn Math.round( value * 255.0 );\n\n\t\tcase Int16Array:\n\n\t\t\treturn Math.round( value * 32767.0 );\n\n\t\tcase Int8Array:\n\n\t\t\treturn Math.round( value * 127.0 );\n\n\t\tdefault:\n\n\t\t\tthrow new Error( 'Invalid component type.' );\n\n\t}\n\n}\n\nconst MathUtils = {\n\tDEG2RAD: DEG2RAD,\n\tRAD2DEG: RAD2DEG,\n\tgenerateUUID: generateUUID,\n\tclamp: clamp,\n\teuclideanModulo: euclideanModulo,\n\tmapLinear: mapLinear,\n\tinverseLerp: inverseLerp,\n\tlerp: lerp,\n\tdamp: damp,\n\tpingpong: pingpong,\n\tsmoothstep: smoothstep,\n\tsmootherstep: smootherstep,\n\trandInt: randInt,\n\trandFloat: randFloat,\n\trandFloatSpread: randFloatSpread,\n\tseededRandom: seededRandom,\n\tdegToRad: degToRad,\n\tradToDeg: radToDeg,\n\tisPowerOfTwo: isPowerOfTwo,\n\tceilPowerOfTwo: ceilPowerOfTwo,\n\tfloorPowerOfTwo: floorPowerOfTwo,\n\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler,\n\tnormalize: normalize,\n\tdenormalize: denormalize\n};\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tVector2.prototype.isVector2 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v ) {\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v ) {\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\n\t}\n\n}\n\nclass Matrix3 {\n\n\tconstructor() {\n\n\t\tMatrix3.prototype.isMatrix3 = true;\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\t//\n\n\tscale( sx, sy ) {\n\n\t\tthis.premultiply( _m3.makeScale( sx, sy ) );\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tthis.premultiply( _m3.makeRotation( - theta ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tthis.premultiply( _m3.makeTranslation( tx, ty ) );\n\n\t\treturn this;\n\n\t}\n\n\t// for 2D Transforms\n\n\tmakeTranslation( x, y ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, x,\n\t\t\t0, 1, y,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotation( theta ) {\n\n\t\t// counterclockwise\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0,\n\t\t\ts, c, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0,\n\t\t\t0, y, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\t//\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nconst _m3 = /*@__PURE__*/ new Matrix3();\n\nfunction arrayNeedsUint32( array ) {\n\n\t// assumes larger values usually on last\n\n\tfor ( let i = array.length - 1; i >= 0; -- i ) {\n\n\t\tif ( array[ i ] >= 65535 ) return true; // account for PRIMITIVE_RESTART_FIXED_INDEX, #24565\n\n\t}\n\n\treturn false;\n\n}\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\tUint8ClampedArray: Uint8ClampedArray,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nfunction getTypedArray( type, buffer ) {\n\n\treturn new TYPED_ARRAYS[ type ]( buffer );\n\n}\n\nfunction createElementNS( name ) {\n\n\treturn document.createElementNS( 'http://www.w3.org/1999/xhtml', name );\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\n/**\n * Matrices converting P3 <-> Rec. 709 primaries, without gamut mapping\n * or clipping. Based on W3C specifications for sRGB and Display P3,\n * and ICC specifications for the D50 connection space. Values in/out\n * are _linear_ sRGB and _linear_ Display P3.\n *\n * Note that both sRGB and Display P3 use the sRGB transfer functions.\n *\n * Reference:\n * - http://www.russellcottrell.com/photo/matrixCalculator.htm\n */\n\nconst LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = /*@__PURE__*/ new Matrix3().fromArray( [\n\t0.8224621, 0.0331941, 0.0170827,\n\t0.1775380, 0.9668058, 0.0723974,\n\t- 0.0000001, 0.0000001, 0.9105199\n] );\n\nconst LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = /*@__PURE__*/ new Matrix3().fromArray( [\n\t1.2249401, - 0.0420569, - 0.0196376,\n\t- 0.2249404, 1.0420571, - 0.0786361,\n\t0.0000001, 0.0000000, 1.0982735\n] );\n\nfunction DisplayP3ToLinearSRGB( color ) {\n\n\t// Display P3 uses the sRGB transfer functions\n\treturn color.convertSRGBToLinear().applyMatrix3( LINEAR_DISPLAY_P3_TO_LINEAR_SRGB );\n\n}\n\nfunction LinearSRGBToDisplayP3( color ) {\n\n\t// Display P3 uses the sRGB transfer functions\n\treturn color.applyMatrix3( LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 ).convertLinearToSRGB();\n\n}\n\n// Conversions from <source> to Linear-sRGB reference space.\nconst TO_LINEAR = {\n\t[ LinearSRGBColorSpace ]: ( color ) => color,\n\t[ SRGBColorSpace ]: ( color ) => color.convertSRGBToLinear(),\n\t[ DisplayP3ColorSpace ]: DisplayP3ToLinearSRGB,\n};\n\n// Conversions to <target> from Linear-sRGB reference space.\nconst FROM_LINEAR = {\n\t[ LinearSRGBColorSpace ]: ( color ) => color,\n\t[ SRGBColorSpace ]: ( color ) => color.convertLinearToSRGB(),\n\t[ DisplayP3ColorSpace ]: LinearSRGBToDisplayP3,\n};\n\nconst ColorManagement = {\n\n\tenabled: false,\n\n\tget legacyMode() {\n\n\t\tconsole.warn( 'THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150.' );\n\n\t\treturn ! this.enabled;\n\n\t},\n\n\tset legacyMode( legacyMode ) {\n\n\t\tconsole.warn( 'THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150.' );\n\n\t\tthis.enabled = ! legacyMode;\n\n\t},\n\n\tget workingColorSpace() {\n\n\t\treturn LinearSRGBColorSpace;\n\n\t},\n\n\tset workingColorSpace( colorSpace ) {\n\n\t\tconsole.warn( 'THREE.ColorManagement: .workingColorSpace is readonly.' );\n\n\t},\n\n\tconvert: function ( color, sourceColorSpace, targetColorSpace ) {\n\n\t\tif ( this.enabled === false || sourceColorSpace === targetColorSpace || ! sourceColorSpace || ! targetColorSpace ) {\n\n\t\t\treturn color;\n\n\t\t}\n\n\t\tconst sourceToLinear = TO_LINEAR[ sourceColorSpace ];\n\t\tconst targetFromLinear = FROM_LINEAR[ targetColorSpace ];\n\n\t\tif ( sourceToLinear === undefined || targetFromLinear === undefined ) {\n\n\t\t\tthrow new Error( `Unsupported color space conversion, \"${ sourceColorSpace }\" to \"${ targetColorSpace }\".` );\n\n\t\t}\n\n\t\treturn targetFromLinear( sourceToLinear( color ) );\n\n\t},\n\n\tfromWorkingColorSpace: function ( color, targetColorSpace ) {\n\n\t\treturn this.convert( color, this.workingColorSpace, targetColorSpace );\n\n\t},\n\n\ttoWorkingColorSpace: function ( color, sourceColorSpace ) {\n\n\t\treturn this.convert( color, sourceColorSpace, this.workingColorSpace );\n\n\t},\n\n};\n\nlet _canvas;\n\nclass ImageUtils {\n\n\tstatic getDataURL( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement === 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = createElementNS( 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n\tstatic sRGBToLinear( image ) {\n\n\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\tconst canvas = createElementNS( 'canvas' );\n\n\t\t\tcanvas.width = image.width;\n\t\t\tcanvas.height = image.height;\n\n\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\tconst imageData = context.getImageData( 0, 0, image.width, image.height );\n\t\t\tconst data = imageData.data;\n\n\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\tdata[ i ] = SRGBToLinear( data[ i ] / 255 ) * 255;\n\n\t\t\t}\n\n\t\t\tcontext.putImageData( imageData, 0, 0 );\n\n\t\t\treturn canvas;\n\n\t\t} else if ( image.data ) {\n\n\t\t\tconst data = image.data.slice( 0 );\n\n\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\tif ( data instanceof Uint8Array || data instanceof Uint8ClampedArray ) {\n\n\t\t\t\t\tdata[ i ] = Math.floor( SRGBToLinear( data[ i ] / 255 ) * 255 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// assuming float\n\n\t\t\t\t\tdata[ i ] = SRGBToLinear( data[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdata: data,\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.' );\n\t\t\treturn image;\n\n\t\t}\n\n\t}\n\n}\n\nclass Source {\n\n\tconstructor( data = null ) {\n\n\t\tthis.isSource = true;\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.data = data;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.images[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.images[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\t\t\tuuid: this.uuid,\n\t\t\turl: ''\n\t\t};\n\n\t\tconst data = this.data;\n\n\t\tif ( data !== null ) {\n\n\t\t\tlet url;\n\n\t\t\tif ( Array.isArray( data ) ) {\n\n\t\t\t\t// cube texture\n\n\t\t\t\turl = [];\n\n\t\t\t\tfor ( let i = 0, l = data.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( data[ i ].isDataTexture ) {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ].image ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// texture\n\n\t\t\t\turl = serializeImage( data );\n\n\t\t\t}\n\n\t\t\toutput.url = url;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.images[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n}\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.from( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nlet textureId = 0;\n\nclass Texture extends EventDispatcher {\n\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = Texture.DEFAULT_ANISOTROPY, encoding = LinearEncoding ) {\n\n\t\tsuper();\n\n\t\tthis.isTexture = true;\n\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\n\t\tthis.source = new Source( image );\n\t\tthis.mipmaps = [];\n\n\t\tthis.mapping = mapping;\n\t\tthis.channel = 0;\n\n\t\tthis.wrapS = wrapS;\n\t\tthis.wrapT = wrapT;\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.anisotropy = anisotropy;\n\n\t\tthis.format = format;\n\t\tthis.internalFormat = null;\n\t\tthis.type = type;\n\n\t\tthis.offset = new Vector2( 0, 0 );\n\t\tthis.repeat = new Vector2( 1, 1 );\n\t\tthis.center = new Vector2( 0, 0 );\n\t\tthis.rotation = 0;\n\n\t\tthis.matrixAutoUpdate = true;\n\t\tthis.matrix = new Matrix3();\n\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t//\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\t\tthis.encoding = encoding;\n\n\t\tthis.userData = {};\n\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\n\t\tthis.isRenderTargetTexture = false; // indicates whether a texture belongs to a render target or not\n\t\tthis.needsPMREMUpdate = false; // indicates whether this texture should be processed by PMREMGenerator or not (only relevant for render target textures)\n\n\t}\n\n\tget image() {\n\n\t\treturn this.source.data;\n\n\t}\n\n\tset image( value = null ) {\n\n\t\tthis.source.data = value;\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.source = source.source;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\t\tthis.channel = source.channel;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.needsUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\timage: this.source.toJSON( meta ).uuid,\n\n\t\t\tmapping: this.mapping,\n\t\t\tchannel: this.channel,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\tinternalFormat: this.internalFormat,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tgenerateMipmaps: this.generateMipmaps,\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( Object.keys( this.userData ).length > 0 ) output.userData = this.userData;\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\ttransformUv( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) {\n\n\t\t\tthis.version ++;\n\t\t\tthis.source.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nTexture.DEFAULT_IMAGE = null;\nTexture.DEFAULT_MAPPING = UVMapping;\nTexture.DEFAULT_ANISOTROPY = 1;\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tVector4.prototype.isVector4 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v ) {\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v ) {\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\t\tyield this.z;\n\t\tyield this.w;\n\n\t}\n\n}\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n\n\tconstructor( width = 1, height = 1, options = {} ) {\n\n\t\tsuper();\n\n\t\tthis.isWebGLRenderTarget = true;\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = 1;\n\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\n\t\tthis.scissorTest = false;\n\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\t\tconst image = { width: width, height: height, depth: 1 };\n\n\t\tthis.texture = new Texture( image, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.flipY = false;\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.internalFormat = options.internalFormat !== undefined ? options.internalFormat : null;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n\t\tthis.samples = options.samples !== undefined ? options.samples : 0;\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\t\t\tthis.texture.image.depth = depth;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\t// ensure image object is not shared, see #20328\n\n\t\tconst image = Object.assign( {}, source.texture.image );\n\t\tthis.texture.source = new Source( image );\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\n\t\tif ( source.depthTexture !== null ) this.depthTexture = source.depthTexture.clone();\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nclass DataArrayTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( null );\n\n\t\tthis.isDataArrayTexture = true;\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nclass WebGLArrayRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( width, height );\n\n\t\tthis.isWebGLArrayRenderTarget = true;\n\n\t\tthis.depth = depth;\n\n\t\tthis.texture = new DataArrayTexture( null, width, height, depth );\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t}\n\n}\n\nclass Data3DTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t// Users can still set in DataTexture3D directly.\n\t\t//\n\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t// \ttexture.anisotropy = 16;\n\t\t//\n\t\t// See #14839\n\n\t\tsuper( null );\n\n\t\tthis.isData3DTexture = true;\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nclass WebGL3DRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( width, height );\n\n\t\tthis.isWebGL3DRenderTarget = true;\n\n\t\tthis.depth = depth;\n\n\t\tthis.texture = new Data3DTexture( null, width, height, depth );\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t}\n\n}\n\nclass WebGLMultipleRenderTargets extends WebGLRenderTarget {\n\n\tconstructor( width = 1, height = 1, count = 1, options = {} ) {\n\n\t\tsuper( width, height, options );\n\n\t\tthis.isWebGLMultipleRenderTargets = true;\n\n\t\tconst texture = this.texture;\n\n\t\tthis.texture = [];\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tthis.texture[ i ] = texture.clone();\n\t\t\tthis.texture[ i ].isRenderTargetTexture = true;\n\n\t\t}\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tfor ( let i = 0, il = this.texture.length; i < il; i ++ ) {\n\n\t\t\t\tthis.texture[ i ].image.width = width;\n\t\t\t\tthis.texture[ i ].image.height = height;\n\t\t\t\tthis.texture[ i ].image.depth = depth;\n\n\t\t\t}\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.dispose();\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.set( 0, 0, this.width, this.height );\n\t\tthis.scissor.set( 0, 0, this.width, this.height );\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\n\t\tif ( source.depthTexture !== null ) this.depthTexture = source.depthTexture.clone();\n\n\t\tthis.texture.length = 0;\n\n\t\tfor ( let i = 0, il = source.texture.length; i < il; i ++ ) {\n\n\t\t\tthis.texture[ i ] = source.texture[ i ].clone();\n\t\t\tthis.texture[ i ].isRenderTargetTexture = true;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.isQuaternion = true;\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\treturn this.copy( qa ).slerp( qb, t );\n\n\t}\n\n\trandom() {\n\n\t\t// Derived from http://planning.cs.uiuc.edu/node198.html\n\t\t// Note, this source uses w, x, y, z ordering,\n\t\t// so we swap the order below.\n\n\t\tconst u1 = Math.random();\n\t\tconst sqrt1u1 = Math.sqrt( 1 - u1 );\n\t\tconst sqrtu1 = Math.sqrt( u1 );\n\n\t\tconst u2 = 2 * Math.PI * Math.random();\n\n\t\tconst u3 = 2 * Math.PI * Math.random();\n\n\t\treturn this.set(\n\t\t\tsqrt1u1 * Math.cos( u2 ),\n\t\t\tsqrtu1 * Math.sin( u3 ),\n\t\t\tsqrtu1 * Math.cos( u3 ),\n\t\t\tsqrt1u1 * Math.sin( u2 ),\n\t\t);\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.toArray();\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this._x;\n\t\tyield this._y;\n\t\tyield this._z;\n\t\tyield this._w;\n\n\t}\n\n}\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tVector3.prototype.isVector3 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v ) {\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v ) {\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector$b.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector$b );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector$b.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tsetFromEuler( e ) {\n\n\t\tthis.x = e._x;\n\t\tthis.y = e._y;\n\t\tthis.z = e._z;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromColor( c ) {\n\n\t\tthis.x = c.r;\n\t\tthis.y = c.g;\n\t\tthis.z = c.b;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\trandomDirection() {\n\n\t\t// Derived from https://mathworld.wolfram.com/SpherePointPicking.html\n\n\t\tconst u = ( Math.random() - 0.5 ) * 2;\n\t\tconst t = Math.random() * Math.PI * 2;\n\t\tconst f = Math.sqrt( 1 - u ** 2 );\n\n\t\tthis.x = f * Math.cos( t );\n\t\tthis.y = f * Math.sin( t );\n\t\tthis.z = u;\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\t\tyield this.z;\n\n\t}\n\n}\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\n\n\t\tthis.isBox3 = true;\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = array.length; i < il; i += 3 ) {\n\n\t\t\tthis.expandByPoint( _vector$a.fromArray( array, i ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = attribute.count; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( _vector$a.fromBufferAttribute( attribute, i ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$a.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object, precise = false ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object, precise );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object, precise = false ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tif ( object.boundingBox !== undefined ) {\n\n\t\t\tif ( object.boundingBox === null ) {\n\n\t\t\t\tobject.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box$3.copy( object.boundingBox );\n\t\t\t_box$3.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box$3 );\n\n\t\t} else {\n\n\t\t\tconst geometry = object.geometry;\n\n\t\t\tif ( geometry !== undefined ) {\n\n\t\t\t\tif ( precise && geometry.attributes !== undefined && geometry.attributes.position !== undefined ) {\n\n\t\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\t\tfor ( let i = 0, l = position.count; i < l; i ++ ) {\n\n\t\t\t\t\t\t_vector$a.fromBufferAttribute( position, i ).applyMatrix4( object.matrixWorld );\n\t\t\t\t\t\tthis.expandByPoint( _vector$a );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_box$3.copy( geometry.boundingBox );\n\t\t\t\t\t_box$3.applyMatrix4( object.matrixWorld );\n\n\t\t\t\t\tthis.union( _box$3 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ], precise );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$a );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$a.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0$2.subVectors( triangle.a, _center );\n\t\t_v1$7.subVectors( triangle.b, _center );\n\t\t_v2$4.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$7, _v0$2 );\n\t\t_f1.subVectors( _v2$4, _v1$7 );\n\t\t_f2.subVectors( _v0$2, _v2$4 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$4, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$4, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0$2, _v1$7, _v2$4, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.clampPoint( point, _vector$a ).distanceTo( point );\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\ttarget.makeEmpty();\n\n\t\t} else {\n\n\t\t\tthis.getCenter( target.center );\n\n\t\t\ttarget.radius = this.getSize( _vector$a ).length() * 0.5;\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0$2 = /*@__PURE__*/ new Vector3();\nconst _v1$7 = /*@__PURE__*/ new Vector3();\nconst _v2$4 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the separating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the separating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is separating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _box$2 = /*@__PURE__*/ new Box3();\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\n\nclass Sphere {\n\n\tconstructor( center = new Vector3(), radius = - 1 ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$2.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\tthis.center.copy( point );\n\n\t\t\tthis.radius = 0;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\t_v1$6.subVectors( point, this.center );\n\n\t\tconst lengthSq = _v1$6.lengthSq();\n\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\t// calculate the minimal sphere\n\n\t\t\tconst length = Math.sqrt( lengthSq );\n\n\t\t\tconst delta = ( length - this.radius ) * 0.5;\n\n\t\t\tthis.center.addScaledVector( _v1$6, delta / length );\n\n\t\t\tthis.radius += delta;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunion( sphere ) {\n\n\t\tif ( sphere.isEmpty() ) {\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\tthis.copy( sphere );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( this.center.equals( sphere.center ) === true ) {\n\n\t\t\t this.radius = Math.max( this.radius, sphere.radius );\n\n\t\t} else {\n\n\t\t\t_v2$3.subVectors( sphere.center, this.center ).setLength( sphere.radius );\n\n\t\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).add( _v2$3 ) );\n\n\t\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).sub( _v2$3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$9 = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal$1 = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn target.copy( this.origin ).addScaledVector( this.direction, t );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$9 ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.origin ).addScaledVector( this.direction, directionDistance );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector$9.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$9.copy( this.origin ).addScaledVector( this.direction, directionDistance );\n\n\t\treturn _vector$9.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.origin ).addScaledVector( this.direction, s0 );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segCenter ).addScaledVector( _segDir, s1 );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector$9.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$9.dot( this.direction );\n\t\tconst d2 = _vector$9.dot( _vector$9 ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if t1 is behind the ray - if so, return null\n\t\tif ( t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\tif ( tymin > tmin || isNaN( tmin ) ) tmin = tymin;\n\n\t\tif ( tymax < tmax || isNaN( tmax ) ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector$9 ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal$1.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal$1 );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal$1 );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tMatrix4.prototype.isMatrix4 = true;\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( xy, xz, yx, yz, zx, zy ) {\n\n\t\tthis.set(\n\n\t\t\t1, yx, zx, 0,\n\t\t\txy, 1, zy, 0,\n\t\t\txz, yz, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1$5.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1$5.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1$5.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1$2.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1$2.elements[ 0 ] *= invSX;\n\t\t_m1$2.elements[ 1 ] *= invSX;\n\t\t_m1$2.elements[ 2 ] *= invSX;\n\n\t\t_m1$2.elements[ 4 ] *= invSY;\n\t\t_m1$2.elements[ 5 ] *= invSY;\n\t\t_m1$2.elements[ 6 ] *= invSY;\n\n\t\t_m1$2.elements[ 8 ] *= invSZ;\n\t\t_m1$2.elements[ 9 ] *= invSZ;\n\t\t_m1$2.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1$2 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nconst _v1$5 = /*@__PURE__*/ new Vector3();\nconst _m1$2 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nconst _matrix = /*@__PURE__*/ new Matrix4();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DEFAULT_ORDER ) {\n\n\t\tthis.isEuler = true;\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order = this._order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order = this._order, update = true ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update === true ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix, order, update );\n\n\t}\n\n\tsetFromVector3( v, order = this._order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$3.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$3, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this._x;\n\t\tyield this._y;\n\t\tyield this._z;\n\t\tyield this._order;\n\n\t}\n\n}\n\nEuler.DEFAULT_ORDER = 'XYZ';\n\nclass Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = ( 1 << channel | 0 ) >>> 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n\tisEnabled( channel ) {\n\n\t\treturn ( this.mask & ( 1 << channel | 0 ) ) !== 0;\n\n\t}\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$4 = /*@__PURE__*/ new Vector3();\nconst _q1 = /*@__PURE__*/ new Quaternion();\nconst _m1$1 = /*@__PURE__*/ new Matrix4();\nconst _target = /*@__PURE__*/ new Vector3();\n\nconst _position$3 = /*@__PURE__*/ new Vector3();\nconst _scale$2 = /*@__PURE__*/ new Vector3();\nconst _quaternion$2 = /*@__PURE__*/ new Quaternion();\n\nconst _xAxis = /*@__PURE__*/ new Vector3( 1, 0, 0 );\nconst _yAxis = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nconst _zAxis = /*@__PURE__*/ new Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isObject3D = true;\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DEFAULT_UP.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DEFAULT_MATRIX_AUTO_UPDATE;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.matrixWorldAutoUpdate = Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE; // checked by the renderer\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeRender( /* renderer, scene, camera, geometry, material, group */ ) {}\n\n\tonAfterRender( /* renderer, scene, camera, geometry, material, group */ ) {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$4.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$4.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn vector.applyMatrix4( _m1$1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position$3.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position$3, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position$3, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremoveFromParent() {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tparent.remove( this );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\t// Note: This method does not support scene graphs having non-uniformly-scaled nodes(s)\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tthis.add( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetObjectsByProperty( name, value ) {\n\n\t\tlet result = [];\n\n\t\tif ( this[ name ] === value ) result.push( this );\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst childResult = this.children[ i ].getObjectsByProperty( name, value );\n\n\t\t\tif ( childResult.length > 0 ) {\n\n\t\t\t\tresult = result.concat( childResult );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, target, _scale$2 );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$2, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast( /* raycaster, intersects */ ) {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tconst child = children[ i ];\n\n\t\t\tif ( child.matrixWorldAutoUpdate === true || force === true ) {\n\n\t\t\t\tchild.updateMatrixWorld( force );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null && parent.matrixWorldAutoUpdate === true ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\n\t\t\t\tif ( child.matrixWorldAutoUpdate === true ) {\n\n\t\t\t\t\tchild.updateWorldMatrix( false, true );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {},\n\t\t\t\tnodes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( Object.keys( this.userData ).length > 0 ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\t\tobject.up = this.up.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isScene ) {\n\n\t\t\tif ( this.background ) {\n\n\t\t\t\tif ( this.background.isColor ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON();\n\n\t\t\t\t} else if ( this.background.isTexture ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON( meta ).uuid;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( this.environment && this.environment.isTexture && this.environment.isRenderTargetTexture !== true ) {\n\n\t\t\t\tobject.environment = this.environment.toJSON( meta ).uuid;\n\n\t\t\t}\n\n\t\t} else if ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\t\t\tconst nodes = extractFromCache( meta.nodes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\t\t\tif ( nodes.length > 0 ) output.nodes = nodes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.matrixWorldAutoUpdate = source.matrixWorldAutoUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DEFAULT_UP = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nObject3D.DEFAULT_MATRIX_AUTO_UPDATE = true;\nObject3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE = true;\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$2 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nlet warnedGetUV = false;\n\nclass Triangle {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$2.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$2 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$2 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3$1 );\n\n\t\treturn ( _v3$1.x >= 0 ) && ( _v3$1.y >= 0 ) && ( ( _v3$1.x + _v3$1.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) { // @deprecated, r151\n\n\t\tif ( warnedGetUV === false ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation().' );\n\n\t\t\twarnedGetUV = true;\n\n\t\t}\n\n\t\treturn this.getInterpolation( point, p1, p2, p3, uv1, uv2, uv3, target );\n\n\t}\n\n\tstatic getInterpolation( point, p1, p2, p3, v1, v2, v3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3$1 );\n\n\t\ttarget.setScalar( 0 );\n\t\ttarget.addScaledVector( v1, _v3$1.x );\n\t\ttarget.addScaledVector( v2, _v3$1.y );\n\t\ttarget.addScaledVector( v3, _v3$1.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAttributeAndIndices( attribute, i0, i1, i2 ) {\n\n\t\tthis.a.fromBufferAttribute( attribute, i0 );\n\t\tthis.b.fromBufferAttribute( attribute, i1 );\n\t\tthis.c.fromBufferAttribute( attribute, i2 );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) { // @deprecated, r151\n\n\t\tif ( warnedGetUV === false ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation().' );\n\n\t\t\twarnedGetUV = true;\n\n\t\t}\n\n\t\treturn Triangle.getInterpolation( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tgetInterpolation( point, v1, v2, v3, target ) {\n\n\t\treturn Triangle.getInterpolation( point, this.a, this.b, this.c, v1, v2, v3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nlet materialId = 0;\n\nclass Material extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isMaterial = true;\n\n\t\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Material';\n\n\t\tthis.blending = NormalBlending;\n\t\tthis.side = FrontSide;\n\t\tthis.vertexColors = false;\n\n\t\tthis.opacity = 1;\n\t\tthis.transparent = false;\n\n\t\tthis.blendSrc = SrcAlphaFactor;\n\t\tthis.blendDst = OneMinusSrcAlphaFactor;\n\t\tthis.blendEquation = AddEquation;\n\t\tthis.blendSrcAlpha = null;\n\t\tthis.blendDstAlpha = null;\n\t\tthis.blendEquationAlpha = null;\n\n\t\tthis.depthFunc = LessEqualDepth;\n\t\tthis.depthTest = true;\n\t\tthis.depthWrite = true;\n\n\t\tthis.stencilWriteMask = 0xff;\n\t\tthis.stencilFunc = AlwaysStencilFunc;\n\t\tthis.stencilRef = 0;\n\t\tthis.stencilFuncMask = 0xff;\n\t\tthis.stencilFail = KeepStencilOp;\n\t\tthis.stencilZFail = KeepStencilOp;\n\t\tthis.stencilZPass = KeepStencilOp;\n\t\tthis.stencilWrite = false;\n\n\t\tthis.clippingPlanes = null;\n\t\tthis.clipIntersection = false;\n\t\tthis.clipShadows = false;\n\n\t\tthis.shadowSide = null;\n\n\t\tthis.colorWrite = true;\n\n\t\tthis.precision = null; // override the renderer's default precision for this material\n\n\t\tthis.polygonOffset = false;\n\t\tthis.polygonOffsetFactor = 0;\n\t\tthis.polygonOffsetUnits = 0;\n\n\t\tthis.dithering = false;\n\n\t\tthis.alphaToCoverage = false;\n\t\tthis.premultipliedAlpha = false;\n\t\tthis.forceSinglePass = false;\n\n\t\tthis.visible = true;\n\n\t\tthis.toneMapped = true;\n\n\t\tthis.userData = {};\n\n\t\tthis.version = 0;\n\n\t\tthis._alphaTest = 0;\n\n\t}\n\n\tget alphaTest() {\n\n\t\treturn this._alphaTest;\n\n\t}\n\n\tset alphaTest( value ) {\n\n\t\tif ( this._alphaTest > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._alphaTest = value;\n\n\t}\n\n\tonBuild( /* shaderobject, renderer */ ) {}\n\n\tonBeforeRender( /* renderer, scene, camera, geometry, object, group */ ) {}\n\n\tonBeforeCompile( /* shaderobject, renderer */ ) {}\n\n\tcustomProgramCacheKey() {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t}\n\n\tsetValues( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( `THREE.Material: parameter '${ key }' has value of undefined.` );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( `THREE.Material: '${ key }' is not a property of THREE.${ this.type }.` );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRootObject ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen !== undefined ) data.sheen = this.sheen;\n\t\tif ( this.sheenColor && this.sheenColor.isColor ) data.sheenColor = this.sheenColor.getHex();\n\t\tif ( this.sheenRoughness !== undefined ) data.sheenRoughness = this.sheenRoughness;\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.specularIntensity !== undefined ) data.specularIntensity = this.specularIntensity;\n\t\tif ( this.specularColor && this.specularColor.isColor ) data.specularColor = this.specularColor.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.iridescence !== undefined ) data.iridescence = this.iridescence;\n\t\tif ( this.iridescenceIOR !== undefined ) data.iridescenceIOR = this.iridescenceIOR;\n\t\tif ( this.iridescenceThicknessRange !== undefined ) data.iridescenceThicknessRange = this.iridescenceThicknessRange;\n\n\t\tif ( this.iridescenceMap && this.iridescenceMap.isTexture ) {\n\n\t\t\tdata.iridescenceMap = this.iridescenceMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.iridescenceThicknessMap && this.iridescenceThicknessMap.isTexture ) {\n\n\t\t\tdata.iridescenceThicknessMap = this.iridescenceThicknessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\t\tif ( this.specularIntensityMap && this.specularIntensityMap.isTexture ) data.specularIntensityMap = this.specularIntensityMap.toJSON( meta ).uuid;\n\t\tif ( this.specularColorMap && this.specularColorMap.isTexture ) data.specularColorMap = this.specularColorMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.transmission !== undefined ) data.transmission = this.transmission;\n\t\tif ( this.transmissionMap && this.transmissionMap.isTexture ) data.transmissionMap = this.transmissionMap.toJSON( meta ).uuid;\n\t\tif ( this.thickness !== undefined ) data.thickness = this.thickness;\n\t\tif ( this.thicknessMap && this.thicknessMap.isTexture ) data.thicknessMap = this.thicknessMap.toJSON( meta ).uuid;\n\t\tif ( this.attenuationDistance !== undefined && this.attenuationDistance !== Infinity ) data.attenuationDistance = this.attenuationDistance;\n\t\tif ( this.attenuationColor !== undefined ) data.attenuationColor = this.attenuationColor.getHex();\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== undefined && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth !== undefined && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\t\tif ( this.forceSinglePass === true ) data.forceSinglePass = this.forceSinglePass;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( this.fog === false ) data.fog = false;\n\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\t\tthis.forceSinglePass = source.forceSinglePass;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tthis.isColor = true;\n\n\t\tthis.r = 1;\n\t\tthis.g = 1;\n\t\tthis.b = 1;\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex, colorSpace = SRGBColorSpace ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = euclideanModulo( h, 1 );\n\t\ts = clamp( s, 0, 1 );\n\t\tl = clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style, colorSpace = SRGBColorSpace ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^(\\w+)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d*\\.?\\d+)\\%\\s*,\\s*(\\d*\\.?\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseFloat( color[ 2 ] ) / 100;\n\t\t\t\t\t\tconst l = parseFloat( color[ 3 ] ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l, colorSpace );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tconsole.warn( 'THREE.Color: Unknown color model ' + style );\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\treturn this.setRGB(\n\t\t\t\t\tparseInt( hex.charAt( 0 ), 16 ) / 15,\n\t\t\t\t\tparseInt( hex.charAt( 1 ), 16 ) / 15,\n\t\t\t\t\tparseInt( hex.charAt( 2 ), 16 ) / 15,\n\t\t\t\t\tcolorSpace\n\t\t\t\t);\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\treturn this.setHex( parseInt( hex, 16 ), colorSpace );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Invalid hex color ' + style );\n\n\t\t\t}\n\n\t\t} else if ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style, colorSpace );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style, colorSpace = SRGBColorSpace ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex, colorSpace );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex( colorSpace = SRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( _color.copy( this ), colorSpace );\n\n\t\treturn clamp( _color.r * 255, 0, 255 ) << 16 ^ clamp( _color.g * 255, 0, 255 ) << 8 ^ clamp( _color.b * 255, 0, 255 ) << 0;\n\n\t}\n\n\tgetHexString( colorSpace = SRGBColorSpace ) {\n\n\t\treturn ( '000000' + this.getHex( colorSpace ).toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tColorManagement.fromWorkingColorSpace( _color.copy( this ), colorSpace );\n\n\t\tconst r = _color.r, g = _color.g, b = _color.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetRGB( target, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( _color.copy( this ), colorSpace );\n\n\t\ttarget.r = _color.r;\n\t\ttarget.g = _color.g;\n\t\ttarget.b = _color.b;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle( colorSpace = SRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( _color.copy( this ), colorSpace );\n\n\t\tconst r = _color.r, g = _color.g, b = _color.b;\n\n\t\tif ( colorSpace !== SRGBColorSpace ) {\n\n\t\t\t// Requires CSS Color Module Level 4 (https://www.w3.org/TR/css-color-4/).\n\t\t\treturn `color(${ colorSpace } ${ r.toFixed( 3 ) } ${ g.toFixed( 3 ) } ${ b.toFixed( 3 ) })`;\n\n\t\t}\n\n\t\treturn `rgb(${( r * 255 ) | 0},${( g * 255 ) | 0},${( b * 255 ) | 0})`;\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\tthis.r = v.x;\n\t\tthis.g = v.y;\n\t\tthis.b = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\t\tconst e = m.elements;\n\n\t\tthis.r = e[ 0 ] * r + e[ 3 ] * g + e[ 6 ] * b;\n\t\tthis.g = e[ 1 ] * r + e[ 4 ] * g + e[ 7 ] * b;\n\t\tthis.b = e[ 2 ] * r + e[ 5 ] * g + e[ 8 ] * b;\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.r;\n\t\tyield this.g;\n\t\tyield this.b;\n\n\t}\n\n}\n\nconst _color = /*@__PURE__*/ new Color();\n\nColor.NAMES = _colorKeywords;\n\nclass MeshBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshBasicMaterial = true;\n\n\t\tthis.type = 'MeshBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // emissive\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\n// Fast Half Float Conversions, http://www.fox-toolkit.org/ftp/fasthalffloatconversion.pdf\n\nconst _tables = /*@__PURE__*/ _generateTables();\n\nfunction _generateTables() {\n\n\t// float32 to float16 helpers\n\n\tconst buffer = new ArrayBuffer( 4 );\n\tconst floatView = new Float32Array( buffer );\n\tconst uint32View = new Uint32Array( buffer );\n\n\tconst baseTable = new Uint32Array( 512 );\n\tconst shiftTable = new Uint32Array( 512 );\n\n\tfor ( let i = 0; i < 256; ++ i ) {\n\n\t\tconst e = i - 127;\n\n\t\t// very small number (0, -0)\n\n\t\tif ( e < - 27 ) {\n\n\t\t\tbaseTable[ i ] = 0x0000;\n\t\t\tbaseTable[ i | 0x100 ] = 0x8000;\n\t\t\tshiftTable[ i ] = 24;\n\t\t\tshiftTable[ i | 0x100 ] = 24;\n\n\t\t\t// small number (denorm)\n\n\t\t} else if ( e < - 14 ) {\n\n\t\t\tbaseTable[ i ] = 0x0400 >> ( - e - 14 );\n\t\t\tbaseTable[ i | 0x100 ] = ( 0x0400 >> ( - e - 14 ) ) | 0x8000;\n\t\t\tshiftTable[ i ] = - e - 1;\n\t\t\tshiftTable[ i | 0x100 ] = - e - 1;\n\n\t\t\t// normal number\n\n\t\t} else if ( e <= 15 ) {\n\n\t\t\tbaseTable[ i ] = ( e + 15 ) << 10;\n\t\t\tbaseTable[ i | 0x100 ] = ( ( e + 15 ) << 10 ) | 0x8000;\n\t\t\tshiftTable[ i ] = 13;\n\t\t\tshiftTable[ i | 0x100 ] = 13;\n\n\t\t\t// large number (Infinity, -Infinity)\n\n\t\t} else if ( e < 128 ) {\n\n\t\t\tbaseTable[ i ] = 0x7c00;\n\t\t\tbaseTable[ i | 0x100 ] = 0xfc00;\n\t\t\tshiftTable[ i ] = 24;\n\t\t\tshiftTable[ i | 0x100 ] = 24;\n\n\t\t\t// stay (NaN, Infinity, -Infinity)\n\n\t\t} else {\n\n\t\t\tbaseTable[ i ] = 0x7c00;\n\t\t\tbaseTable[ i | 0x100 ] = 0xfc00;\n\t\t\tshiftTable[ i ] = 13;\n\t\t\tshiftTable[ i | 0x100 ] = 13;\n\n\t\t}\n\n\t}\n\n\t// float16 to float32 helpers\n\n\tconst mantissaTable = new Uint32Array( 2048 );\n\tconst exponentTable = new Uint32Array( 64 );\n\tconst offsetTable = new Uint32Array( 64 );\n\n\tfor ( let i = 1; i < 1024; ++ i ) {\n\n\t\tlet m = i << 13; // zero pad mantissa bits\n\t\tlet e = 0; // zero exponent\n\n\t\t// normalized\n\t\twhile ( ( m & 0x00800000 ) === 0 ) {\n\n\t\t\tm <<= 1;\n\t\t\te -= 0x00800000; // decrement exponent\n\n\t\t}\n\n\t\tm &= ~ 0x00800000; // clear leading 1 bit\n\t\te += 0x38800000; // adjust bias\n\n\t\tmantissaTable[ i ] = m | e;\n\n\t}\n\n\tfor ( let i = 1024; i < 2048; ++ i ) {\n\n\t\tmantissaTable[ i ] = 0x38000000 + ( ( i - 1024 ) << 13 );\n\n\t}\n\n\tfor ( let i = 1; i < 31; ++ i ) {\n\n\t\texponentTable[ i ] = i << 23;\n\n\t}\n\n\texponentTable[ 31 ] = 0x47800000;\n\texponentTable[ 32 ] = 0x80000000;\n\n\tfor ( let i = 33; i < 63; ++ i ) {\n\n\t\texponentTable[ i ] = 0x80000000 + ( ( i - 32 ) << 23 );\n\n\t}\n\n\texponentTable[ 63 ] = 0xc7800000;\n\n\tfor ( let i = 1; i < 64; ++ i ) {\n\n\t\tif ( i !== 32 ) {\n\n\t\t\toffsetTable[ i ] = 1024;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tfloatView: floatView,\n\t\tuint32View: uint32View,\n\t\tbaseTable: baseTable,\n\t\tshiftTable: shiftTable,\n\t\tmantissaTable: mantissaTable,\n\t\texponentTable: exponentTable,\n\t\toffsetTable: offsetTable\n\t};\n\n}\n\n// float32 to float16\n\nfunction toHalfFloat( val ) {\n\n\tif ( Math.abs( val ) > 65504 ) console.warn( 'THREE.DataUtils.toHalfFloat(): Value out of range.' );\n\n\tval = clamp( val, - 65504, 65504 );\n\n\t_tables.floatView[ 0 ] = val;\n\tconst f = _tables.uint32View[ 0 ];\n\tconst e = ( f >> 23 ) & 0x1ff;\n\treturn _tables.baseTable[ e ] + ( ( f & 0x007fffff ) >> _tables.shiftTable[ e ] );\n\n}\n\n// float16 to float32\n\nfunction fromHalfFloat( val ) {\n\n\tconst m = val >> 10;\n\t_tables.uint32View[ 0 ] = _tables.mantissaTable[ _tables.offsetTable[ m ] + ( val & 0x3ff ) ] + _tables.exponentTable[ m ];\n\treturn _tables.floatView[ 0 ];\n\n}\n\nconst DataUtils = {\n\ttoHalfFloat: toHalfFloat,\n\tfromHalfFloat: fromHalfFloat,\n};\n\nconst _vector$8 = /*@__PURE__*/ new Vector3();\nconst _vector2$1 = /*@__PURE__*/ new Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized = false ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.isBufferAttribute = true;\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2$1.fromBufferAttribute( this, i );\n\t\t\t\t_vector2$1.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2$1.x, _vector2$1.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$8.fromBufferAttribute( this, i );\n\t\t\t\t_vector$8.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$8.fromBufferAttribute( this, i );\n\n\t\t\t_vector$8.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$8.fromBufferAttribute( this, i );\n\n\t\t\t_vector$8.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$8.fromBufferAttribute( this, i );\n\n\t\t\t_vector$8.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\t// Matching BufferAttribute constructor, do not normalize the array.\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\tlet x = this.array[ index * this.itemSize ];\n\n\t\tif ( this.normalized ) x = denormalize( x, this.array );\n\n\t\treturn x;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tif ( this.normalized ) x = normalize( x, this.array );\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\tlet y = this.array[ index * this.itemSize + 1 ];\n\n\t\tif ( this.normalized ) y = denormalize( y, this.array );\n\n\t\treturn y;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tif ( this.normalized ) y = normalize( y, this.array );\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\tlet z = this.array[ index * this.itemSize + 2 ];\n\n\t\tif ( this.normalized ) z = denormalize( z, this.array );\n\n\t\treturn z;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tif ( this.normalized ) z = normalize( z, this.array );\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\tlet w = this.array[ index * this.itemSize + 3 ];\n\n\t\tif ( this.normalized ) w = denormalize( w, this.array );\n\n\t\treturn w;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tif ( this.normalized ) w = normalize( w, this.array );\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\t\t\tw = normalize( w, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.from( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\n\n\t\treturn data;\n\n\t}\n\n\tcopyColorsArray() { // @deprecated, r144\n\n\t\tconsole.error( 'THREE.BufferAttribute: copyColorsArray() was removed in r144.' );\n\n\t}\n\n\tcopyVector2sArray() { // @deprecated, r144\n\n\t\tconsole.error( 'THREE.BufferAttribute: copyVector2sArray() was removed in r144.' );\n\n\t}\n\n\tcopyVector3sArray() { // @deprecated, r144\n\n\t\tconsole.error( 'THREE.BufferAttribute: copyVector3sArray() was removed in r144.' );\n\n\t}\n\n\tcopyVector4sArray() { // @deprecated, r144\n\n\t\tconsole.error( 'THREE.BufferAttribute: copyVector4sArray() was removed in r144.' );\n\n\t}\n\n}\n\n//\n\nclass Int8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8ClampedArray( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t\tthis.isFloat16BufferAttribute = true;\n\n\t}\n\n\tgetX( index ) {\n\n\t\tlet x = fromHalfFloat( this.array[ index * this.itemSize ] );\n\n\t\tif ( this.normalized ) x = denormalize( x, this.array );\n\n\t\treturn x;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tif ( this.normalized ) x = normalize( x, this.array );\n\n\t\tthis.array[ index * this.itemSize ] = toHalfFloat( x );\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\tlet y = fromHalfFloat( this.array[ index * this.itemSize + 1 ] );\n\n\t\tif ( this.normalized ) y = denormalize( y, this.array );\n\n\t\treturn y;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tif ( this.normalized ) y = normalize( y, this.array );\n\n\t\tthis.array[ index * this.itemSize + 1 ] = toHalfFloat( y );\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\tlet z = fromHalfFloat( this.array[ index * this.itemSize + 2 ] );\n\n\t\tif ( this.normalized ) z = denormalize( z, this.array );\n\n\t\treturn z;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tif ( this.normalized ) z = normalize( z, this.array );\n\n\t\tthis.array[ index * this.itemSize + 2 ] = toHalfFloat( z );\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\tlet w = fromHalfFloat( this.array[ index * this.itemSize + 3 ] );\n\n\t\tif ( this.normalized ) w = denormalize( w, this.array );\n\n\t\treturn w;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tif ( this.normalized ) w = normalize( w, this.array );\n\n\t\tthis.array[ index * this.itemSize + 3 ] = toHalfFloat( w );\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = toHalfFloat( x );\n\t\tthis.array[ index + 1 ] = toHalfFloat( y );\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = toHalfFloat( x );\n\t\tthis.array[ index + 1 ] = toHalfFloat( y );\n\t\tthis.array[ index + 2 ] = toHalfFloat( z );\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\t\t\tw = normalize( w, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = toHalfFloat( x );\n\t\tthis.array[ index + 1 ] = toHalfFloat( y );\n\t\tthis.array[ index + 2 ] = toHalfFloat( z );\n\t\tthis.array[ index + 3 ] = toHalfFloat( w );\n\n\t\treturn this;\n\n\t}\n\n}\n\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float64BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float64Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nlet _id$1 = 0;\n\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _obj = /*@__PURE__*/ new Object3D();\nconst _offset = /*@__PURE__*/ new Vector3();\nconst _box$1 = /*@__PURE__*/ new Box3();\nconst _boxMorphTargets = /*@__PURE__*/ new Box3();\nconst _vector$7 = /*@__PURE__*/ new Vector3();\n\nclass BufferGeometry extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isBufferGeometry = true;\n\n\t\tObject.defineProperty( this, 'id', { value: _id$1 ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\n\t\tthis.morphAttributes = {};\n\t\tthis.morphTargetsRelative = false;\n\n\t\tthis.groups = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\n\t\tthis.userData = {};\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayNeedsUint32( index ) ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetAttribute( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t}\n\n\tsetAttribute( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t}\n\n\tdeleteAttribute( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t}\n\n\thasAttribute( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t}\n\n\taddGroup( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t}\n\n\tclearGroups() {\n\n\t\tthis.groups = [];\n\n\t}\n\n\tsetDrawRange( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\t_m1.makeRotationFromQuaternion( q );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateY( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tscale( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tlookAt( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t}\n\n\tcenter() {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$1.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$7.addVectors( this.boundingBox.min, _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$7 );\n\n\t\t\t\t\t\t_vector$7.addVectors( this.boundingBox.max, _box$1.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$7 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$1.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$7.addVectors( _box$1.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$7 );\n\n\t\t\t\t\t\t_vector$7.addVectors( _box$1.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$7 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$1.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$7.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$7 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$7.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$7.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$7 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeTangents() {\n\n\t\tconst index = this.index;\n\t\tconst attributes = this.attributes;\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( index === null ||\n\t\t\t attributes.position === undefined ||\n\t\t\t attributes.normal === undefined ||\n\t\t\t attributes.uv === undefined ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst indices = index.array;\n\t\tconst positions = attributes.position.array;\n\t\tconst normals = attributes.normal.array;\n\t\tconst uvs = attributes.uv.array;\n\n\t\tconst nVertices = positions.length / 3;\n\n\t\tif ( this.hasAttribute( 'tangent' ) === false ) {\n\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\n\n\t\t}\n\n\t\tconst tangents = this.getAttribute( 'tangent' ).array;\n\n\t\tconst tan1 = [], tan2 = [];\n\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\n\n\t\t\ttan1[ i ] = new Vector3();\n\t\t\ttan2[ i ] = new Vector3();\n\n\t\t}\n\n\t\tconst vA = new Vector3(),\n\t\t\tvB = new Vector3(),\n\t\t\tvC = new Vector3(),\n\n\t\t\tuvA = new Vector2(),\n\t\t\tuvB = new Vector2(),\n\t\t\tuvC = new Vector2(),\n\n\t\t\tsdir = new Vector3(),\n\t\t\ttdir = new Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\n\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\tuvC.fromArray( uvs, c * 2 );\n\n\t\t\tvB.sub( vA );\n\t\t\tvC.sub( vA );\n\n\t\t\tuvB.sub( uvA );\n\t\t\tuvC.sub( uvA );\n\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\n\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\tif ( ! isFinite( r ) ) return;\n\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tlet groups = this.groups;\n\n\t\tif ( groups.length === 0 ) {\n\n\t\t\tgroups = [ {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: indices.length\n\t\t\t} ];\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleTriangle(\n\t\t\t\t\tindices[ j + 0 ],\n\t\t\t\t\tindices[ j + 1 ],\n\t\t\t\t\tindices[ j + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\n\t\tconst n = new Vector3(), n2 = new Vector3();\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.fromArray( normals, v * 3 );\n\t\t\tn2.copy( n );\n\n\t\t\tconst t = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ] = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleVertex( indices[ j + 0 ] );\n\t\t\t\thandleVertex( indices[ j + 1 ] );\n\t\t\t\thandleVertex( indices[ j + 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeVertexNormals() {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tmerge() { // @deprecated, r144\n\n\t\tconsole.error( 'THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead.' );\n\t\treturn this;\n\n\t}\n\n\tnormalizeNormals() {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$7.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$7.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$7.x, _vector$7.y, _vector$7.z );\n\n\t\t}\n\n\t}\n\n\ttoNonIndexed() {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\tindex = indices[ i ] * attribute.data.stride + attribute.offset;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nconst _inverseMatrix$2 = /*@__PURE__*/ new Matrix4();\nconst _ray$2 = /*@__PURE__*/ new Ray();\nconst _sphere$4 = /*@__PURE__*/ new Sphere();\nconst _sphereHitAt = /*@__PURE__*/ new Vector3();\n\nconst _vA$1 = /*@__PURE__*/ new Vector3();\nconst _vB$1 = /*@__PURE__*/ new Vector3();\nconst _vC$1 = /*@__PURE__*/ new Vector3();\n\nconst _tempA = /*@__PURE__*/ new Vector3();\nconst _morphA = /*@__PURE__*/ new Vector3();\n\nconst _uvA$1 = /*@__PURE__*/ new Vector2();\nconst _uvB$1 = /*@__PURE__*/ new Vector2();\nconst _uvC$1 = /*@__PURE__*/ new Vector2();\n\nconst _normalA = /*@__PURE__*/ new Vector3();\nconst _normalB = /*@__PURE__*/ new Vector3();\nconst _normalC = /*@__PURE__*/ new Vector3();\n\nconst _intersectionPoint = /*@__PURE__*/ new Vector3();\nconst _intersectionPointWorld = /*@__PURE__*/ new Vector3();\n\nclass Mesh extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isMesh = true;\n\n\t\tthis.type = 'Mesh';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tgetVertexPosition( index, target ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.attributes.position;\n\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\n\t\ttarget.fromBufferAttribute( position, index );\n\n\t\tconst morphInfluences = this.morphTargetInfluences;\n\n\t\tif ( morphPosition && morphInfluences ) {\n\n\t\t\t_morphA.set( 0, 0, 0 );\n\n\t\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\t\tconst influence = morphInfluences[ i ];\n\t\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t_tempA.fromBufferAttribute( morphAttribute, index );\n\n\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_morphA.addScaledVector( _tempA.sub( target ), influence );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttarget.add( _morphA );\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tthis.applyBoneTransform( index, target );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$4.copy( geometry.boundingSphere );\n\t\t_sphere$4.applyMatrix4( matrixWorld );\n\n\t\t_ray$2.copy( raycaster.ray ).recast( raycaster.near );\n\n\t\tif ( _sphere$4.containsPoint( _ray$2.origin ) === false ) {\n\n\t\t\tif ( _ray$2.intersectSphere( _sphere$4, _sphereHitAt ) === null ) return;\n\n\t\t\tif ( _ray$2.origin.distanceToSquared( _sphereHitAt ) > ( raycaster.far - raycaster.near ) ** 2 ) return;\n\n\t\t}\n\n\t\t//\n\n\t\t_inverseMatrix$2.copy( matrixWorld ).invert();\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray$2.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tconst index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\t\tconst uv = geometry.attributes.uv;\n\t\tconst uv2 = geometry.attributes.uv2;\n\t\tconst normal = geometry.attributes.normal;\n\t\tconst groups = geometry.groups;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\tif ( index !== null ) {\n\n\t\t\t// indexed buffer geometry\n\n\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) ) );\n\n\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\tintersection = checkGeometryIntersection( this, groupMaterial, raycaster, _ray$2, uv, uv2, normal, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\tintersection = checkGeometryIntersection( this, material, raycaster, _ray$2, uv, uv2, normal, a, b, c );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( position !== undefined ) {\n\n\t\t\t// non-indexed buffer geometry\n\n\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) ) );\n\n\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\tintersection = checkGeometryIntersection( this, groupMaterial, raycaster, _ray$2, uv, uv2, normal, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\tconst a = i;\n\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\tintersection = checkGeometryIntersection( this, material, raycaster, _ray$2, uv, uv2, normal, a, b, c );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, ( material.side === FrontSide ), point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkGeometryIntersection( object, material, raycaster, ray, uv, uv2, normal, a, b, c ) {\n\n\tobject.getVertexPosition( a, _vA$1 );\n\tobject.getVertexPosition( b, _vB$1 );\n\tobject.getVertexPosition( c, _vC$1 );\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getInterpolation( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv2, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv2, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getInterpolation( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tif ( normal ) {\n\n\t\t\t_normalA.fromBufferAttribute( normal, a );\n\t\t\t_normalB.fromBufferAttribute( normal, b );\n\t\t\t_normalC.fromBufferAttribute( normal, c );\n\n\t\t\tintersection.normal = Triangle.getInterpolation( _intersectionPoint, _vA$1, _vB$1, _vC$1, _normalA, _normalB, _normalC, new Vector3() );\n\n\t\t\tif ( intersection.normal.dot( ray.direction ) > 0 ) {\n\n\t\t\t\tintersection.normal.multiplyScalar( - 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA$1, _vB$1, _vC$1, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nclass BoxGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new BoxGeometry( data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments );\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tif ( property.isRenderTargetTexture ) {\n\n\t\t\t\t\tconsole.warn( 'UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms().' );\n\t\t\t\t\tdst[ u ][ p ] = null;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t\t}\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\nfunction cloneUniformsGroups( src ) {\n\n\tconst dst = [];\n\n\tfor ( let u = 0; u < src.length; u ++ ) {\n\n\t\tdst.push( src[ u ].clone() );\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction getUnlitUniformColorSpace( renderer ) {\n\n\tif ( renderer.getRenderTarget() === null ) {\n\n\t\t// https://github.com/mrdoob/three.js/pull/23937#issuecomment-1111067398\n\t\treturn renderer.outputEncoding === sRGBEncoding ? SRGBColorSpace : LinearSRGBColorSpace;\n\n\t}\n\n\treturn LinearSRGBColorSpace;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\nclass ShaderMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isShaderMaterial = true;\n\n\t\tthis.type = 'ShaderMaterial';\n\n\t\tthis.defines = {};\n\t\tthis.uniforms = {};\n\t\tthis.uniformsGroups = [];\n\n\t\tthis.vertexShader = default_vertex;\n\t\tthis.fragmentShader = default_fragment;\n\n\t\tthis.linewidth = 1;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false; // set to use scene fog\n\t\tthis.lights = false; // set to use scene lights\n\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\tthis.forceSinglePass = true;\n\n\t\tthis.extensions = {\n\t\t\tderivatives: false, // set to use derivatives\n\t\t\tfragDepth: false, // set to use fragment depth values\n\t\t\tdrawBuffers: false, // set to use draw buffers\n\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t\t};\n\n\t\t// When rendered geometry doesn't include these attributes but the material does,\n\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\t\tthis.defaultAttributeValues = {\n\t\t\t'color': [ 1, 1, 1 ],\n\t\t\t'uv': [ 0, 0 ],\n\t\t\t'uv2': [ 0, 0 ]\n\t\t};\n\n\t\tthis.index0AttributeName = undefined;\n\t\tthis.uniformsNeedUpdate = false;\n\n\t\tthis.glslVersion = null;\n\n\t\tif ( parameters !== undefined ) {\n\n\t\t\tthis.setValues( parameters );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.fragmentShader = source.fragmentShader;\n\t\tthis.vertexShader = source.vertexShader;\n\n\t\tthis.uniforms = cloneUniforms( source.uniforms );\n\t\tthis.uniformsGroups = cloneUniformsGroups( source.uniformsGroups );\n\n\t\tthis.defines = Object.assign( {}, source.defines );\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\t\tthis.clipping = source.clipping;\n\n\t\tthis.extensions = Object.assign( {}, source.extensions );\n\n\t\tthis.glslVersion = source.glslVersion;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.glslVersion = this.glslVersion;\n\t\tdata.uniforms = {};\n\n\t\tfor ( const name in this.uniforms ) {\n\n\t\t\tconst uniform = this.uniforms[ name ];\n\t\t\tconst value = uniform.value;\n\n\t\t\tif ( value && value.isTexture ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 't',\n\t\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isColor ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'c',\n\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v2',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\n\t\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\t\tdata.vertexShader = this.vertexShader;\n\t\tdata.fragmentShader = this.fragmentShader;\n\n\t\tconst extensions = {};\n\n\t\tfor ( const key in this.extensions ) {\n\n\t\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t\t}\n\n\t\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass Camera extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isCamera = true;\n\n\t\tthis.type = 'Camera';\n\n\t\tthis.matrixWorldInverse = new Matrix4();\n\n\t\tthis.projectionMatrix = new Matrix4();\n\t\tthis.projectionMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tsuper.updateWorldMatrix( updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass PerspectiveCamera extends Camera {\n\n\tconstructor( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.isPerspectiveCamera = true;\n\n\t\tthis.type = 'PerspectiveCamera';\n\n\t\tthis.fov = fov;\n\t\tthis.zoom = 1;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.focus = 10;\n\n\t\tthis.aspect = aspect;\n\t\tthis.view = null;\n\n\t\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\t\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength( focalLength ) {\n\n\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength() {\n\n\t\tconst vExtentSlope = Math.tan( DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t}\n\n\tgetEffectiveFOV() {\n\n\t\treturn RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t}\n\n\tgetFilmWidth() {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t}\n\n\tgetFilmHeight() {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t}\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst fov = - 90; // negative fov is not an error\nconst aspect = 1;\n\nclass CubeCamera extends Object3D {\n\n\tconstructor( near, far, renderTarget ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubeCamera';\n\n\t\tthis.renderTarget = renderTarget;\n\n\t\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPX.layers = this.layers;\n\t\tcameraPX.up.set( 0, 1, 0 );\n\t\tcameraPX.lookAt( 1, 0, 0 );\n\t\tthis.add( cameraPX );\n\n\t\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNX.layers = this.layers;\n\t\tcameraNX.up.set( 0, 1, 0 );\n\t\tcameraNX.lookAt( - 1, 0, 0 );\n\t\tthis.add( cameraNX );\n\n\t\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPY.layers = this.layers;\n\t\tcameraPY.up.set( 0, 0, - 1 );\n\t\tcameraPY.lookAt( 0, 1, 0 );\n\t\tthis.add( cameraPY );\n\n\t\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNY.layers = this.layers;\n\t\tcameraNY.up.set( 0, 0, 1 );\n\t\tcameraNY.lookAt( 0, - 1, 0 );\n\t\tthis.add( cameraNY );\n\n\t\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPZ.layers = this.layers;\n\t\tcameraPZ.up.set( 0, 1, 0 );\n\t\tcameraPZ.lookAt( 0, 0, 1 );\n\t\tthis.add( cameraPZ );\n\n\t\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNZ.layers = this.layers;\n\t\tcameraNZ.up.set( 0, 1, 0 );\n\t\tcameraNZ.lookAt( 0, 0, - 1 );\n\t\tthis.add( cameraNZ );\n\n\t}\n\n\tupdate( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst renderTarget = this.renderTarget;\n\n\t\tconst [ cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ ] = this.children;\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst currentToneMapping = renderer.toneMapping;\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.toneMapping = currentToneMapping;\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t\trenderTarget.texture.needsPMREMUpdate = true;\n\n\t}\n\n}\n\nclass CubeTexture extends Texture {\n\n\tconstructor( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\t\timages = images !== undefined ? images : [];\n\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\n\t\tsuper( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isCubeTexture = true;\n\n\t\tthis.flipY = false;\n\n\t}\n\n\tget images() {\n\n\t\treturn this.image;\n\n\t}\n\n\tset images( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n}\n\nclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( size = 1, options = {} ) {\n\n\t\tsuper( size, size, options );\n\n\t\tthis.isWebGLCubeRenderTarget = true;\n\n\t\tconst image = { width: size, height: size, depth: 1 };\n\t\tconst images = [ image, image, image, image, image, image ];\n\n\t\tthis.texture = new CubeTexture( images, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t// and the flag isRenderTargetTexture controls this conversion. The flip is not required when using WebGLCubeRenderTarget.texture\n\t\t// as a cube texture (this is detected when isRenderTargetTexture is set to true for cube textures).\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t}\n\n\tfromEquirectangularTexture( renderer, texture ) {\n\n\t\tthis.texture.type = texture.type;\n\t\tthis.texture.encoding = texture.encoding;\n\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\tthis.texture.minFilter = texture.minFilter;\n\t\tthis.texture.magFilter = texture.magFilter;\n\n\t\tconst shader = {\n\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: { value: null },\n\t\t\t},\n\n\t\t\tvertexShader: /* glsl */`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\n\t\t\tfragmentShader: /* glsl */`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t};\n\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\n\n\t\tconst material = new ShaderMaterial( {\n\n\t\t\tname: 'CubemapFromEquirect',\n\n\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tmaterial.uniforms.tEquirect.value = texture;\n\n\t\tconst mesh = new Mesh( geometry, material );\n\n\t\tconst currentMinFilter = texture.minFilter;\n\n\t\t// Avoid blurred poles\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\t\tconst camera = new CubeCamera( 1, 10, this );\n\t\tcamera.update( renderer, mesh );\n\n\t\ttexture.minFilter = currentMinFilter;\n\n\t\tmesh.geometry.dispose();\n\t\tmesh.material.dispose();\n\n\t\treturn this;\n\n\t}\n\n\tclear( renderer, color, depth, stencil ) {\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( this, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n}\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\n\n\t\tthis.isPlane = true;\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\treturn target.copy( point ).addScaledVector( this.normal, - this.distanceToPoint( point ) );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn target.copy( line.start ).addScaledVector( direction, t );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _sphere$3 = /*@__PURE__*/ new Sphere();\nconst _vector$6 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane() ) {\n\n\t\tthis.planes = [ p0, p1, p2, p3, p4, p5 ];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tif ( object.boundingSphere !== undefined ) {\n\n\t\t\tif ( object.boundingSphere === null ) object.computeBoundingSphere();\n\n\t\t\t_sphere$3.copy( object.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\t} else {\n\n\t\t\tconst geometry = object.geometry;\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\t_sphere$3.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\t}\n\n\t\treturn this.intersectsSphere( _sphere$3 );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere$3.center.set( 0, 0, 0 );\n\t\t_sphere$3.radius = 0.7071067811865476;\n\t\t_sphere$3.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$3 );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$6.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$6.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$6.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$6 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\ttype = 5131;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttype = 5123;\n\n\t\t\t}\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t} else if ( array instanceof Uint8ClampedArray ) {\n\n\t\t\ttype = 5121;\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.WebGLAttributes: Unsupported buffer data format: ' + array );\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t\tattribute.onUploadCallback();\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tconst cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\nclass PlaneGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments );\n\t\tconst gridY = Math.floor( heightSegments );\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t//\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PlaneGeometry( data.width, data.height, data.widthSegments, data.heightSegments );\n\n\t}\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef USE_ALPHATEST\\n\\tif ( diffuseColor.a < alphaTest ) discard;\\n#endif\";\n\nvar alphatest_pars_fragment = \"#ifdef USE_ALPHATEST\\n\\tuniform float alphaTest;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"float G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n} // validated\";\n\nvar iridescence_fragment = \"#ifdef USE_IRIDESCENCE\\n\\tconst mat3 XYZ_TO_REC709 = mat3(\\n\\t\\t 3.2404542, -0.9692660,  0.0556434,\\n\\t\\t-1.5371385,  1.8760108, -0.2040259,\\n\\t\\t-0.4985314,  0.0415560,  1.0572252\\n\\t);\\n\\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\\n\\t\\tvec3 sqrtF0 = sqrt( fresnel0 );\\n\\t\\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\\n\\t}\\n\\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\\n\\t\\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\\n\\t}\\n\\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\\n\\t\\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\\n\\t}\\n\\tvec3 evalSensitivity( float OPD, vec3 shift ) {\\n\\t\\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\\n\\t\\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\\n\\t\\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\\n\\t\\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\\n\\t\\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\\n\\t\\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\\n\\t\\txyz /= 1.0685e-7;\\n\\t\\tvec3 rgb = XYZ_TO_REC709 * xyz;\\n\\t\\treturn rgb;\\n\\t}\\n\\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\\n\\t\\tvec3 I;\\n\\t\\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\\n\\t\\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\\n\\t\\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\\n\\t\\tif ( cosTheta2Sq < 0.0 ) {\\n\\t\\t\\t return vec3( 1.0 );\\n\\t\\t}\\n\\t\\tfloat cosTheta2 = sqrt( cosTheta2Sq );\\n\\t\\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\\n\\t\\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\\n\\t\\tfloat R21 = R12;\\n\\t\\tfloat T121 = 1.0 - R12;\\n\\t\\tfloat phi12 = 0.0;\\n\\t\\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\\n\\t\\tfloat phi21 = PI - phi12;\\n\\t\\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\\t\\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\\n\\t\\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\\n\\t\\tvec3 phi23 = vec3( 0.0 );\\n\\t\\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\\n\\t\\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\\n\\t\\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\\n\\t\\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\\n\\t\\tvec3 phi = vec3( phi21 ) + phi23;\\n\\t\\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\\n\\t\\tvec3 r123 = sqrt( R123 );\\n\\t\\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\\n\\t\\tvec3 C0 = R12 + Rs;\\n\\t\\tI = C0;\\n\\t\\tvec3 Cm = Rs - T121;\\n\\t\\tfor ( int m = 1; m <= 2; ++ m ) {\\n\\t\\t\\tCm *= r123;\\n\\t\\t\\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\\n\\t\\t\\tI += Cm * Sm;\\n\\t\\t}\\n\\t\\treturn max( I, vec3( 0.0 ) );\\n\\t}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vBumpMapUv );\\n\\t\\tvec2 dSTdy = dFdy( vBumpMapUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = dFdx( surf_pos.xyz );\\n\\t\\tvec3 vSigmaY = dFdy( surf_pos.xyz );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nvec3 pow2( const in vec3 x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract( sin( sn ) * c );\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat luminance( const in vec3 rgb ) {\\n\\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\\n\\treturn dot( weights, rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n} // validated\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\\n\\t\\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\\n\\t\\tuv.x *= CUBEUV_TEXEL_WIDTH;\\n\\t\\tuv.y *= CUBEUV_TEXEL_HEIGHT;\\n\\t\\t#ifdef texture2DGradEXT\\n\\t\\t\\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( envMap, uv ).rgb;\\n\\t\\t#endif\\n\\t}\\n\\t#define cubeUV_r0 1.0\\n\\t#define cubeUV_v0 0.339\\n\\t#define cubeUV_m0 - 2.0\\n\\t#define cubeUV_r1 0.8\\n\\t#define cubeUV_v1 0.276\\n\\t#define cubeUV_m1 - 1.0\\n\\t#define cubeUV_r4 0.4\\n\\t#define cubeUV_v4 0.046\\n\\t#define cubeUV_m4 2.0\\n\\t#define cubeUV_r5 0.305\\n\\t#define cubeUV_v5 0.016\\n\\t#define cubeUV_m5 3.0\\n\\t#define cubeUV_r6 0.21\\n\\t#define cubeUV_v6 0.0038\\n\\t#define cubeUV_m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= cubeUV_r1 ) {\\n\\t\\t\\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\\n\\t\\t} else if ( roughness >= cubeUV_r4 ) {\\n\\t\\t\\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\\n\\t\\t} else if ( roughness >= cubeUV_r5 ) {\\n\\t\\t\\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\\n\\t\\t} else if ( roughness >= cubeUV_r6 ) {\\n\\t\\t\\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"vec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tvFogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float vFogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float vFogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn vec3( texture2D( gradientMap, coord ).r );\\n\\t#else\\n\\t\\tvec2 fw = fwidth( coord ) * 0.5;\\n\\t\\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\\n\\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\\n\\treflectedLight.indirectDiffuse += lightMapIrradiance;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_fragment = \"LambertMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_lambert_pars_fragment = \"varying vec3 vViewPosition;\\nstruct LambertMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Lambert\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Lambert\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\\n\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\treturn irradiance;\\n}\\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\t#if defined ( LEGACY_LIGHTS )\\n\\t\\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\t\\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t#else\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tif ( cutoffDistance > 0.0 ) {\\n\\t\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\t}\\n\\t\\treturn distanceFalloff;\\n\\t#endif\\n}\\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\\n\\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tlight.color = directionalLight.color;\\n\\t\\tlight.direction = directionalLight.direction;\\n\\t\\tlight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tlight.color = pointLight.color;\\n\\t\\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat angleCos = dot( light.direction, spotLight.direction );\\n\\t\\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\tif ( spotAttenuation > 0.0 ) {\\n\\t\\t\\tfloat lightDistance = length( lVector );\\n\\t\\t\\tlight.color = spotLight.color * spotAttenuation;\\n\\t\\t\\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t\\t} else {\\n\\t\\t\\tlight.color = vec3( 0.0 );\\n\\t\\t\\tlight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\\n\\t\\tfloat dotNL = dot( normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\tvec3 getIBLIrradiance( const in vec3 normal ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 reflectVec = reflect( - viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\\nmaterial.roughness = min( material.roughness, 1.0 );\\n#ifdef IOR\\n\\tmaterial.ior = ior;\\n\\t#ifdef USE_SPECULAR\\n\\t\\tfloat specularIntensityFactor = specularIntensity;\\n\\t\\tvec3 specularColorFactor = specularColor;\\n\\t\\t#ifdef USE_SPECULAR_COLORMAP\\n\\t\\t\\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\\n\\t\\t#endif\\n\\t\\t#ifdef USE_SPECULAR_INTENSITYMAP\\n\\t\\t\\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\\n\\t\\t#endif\\n\\t\\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\\n\\t#else\\n\\t\\tfloat specularIntensityFactor = 1.0;\\n\\t\\tvec3 specularColorFactor = vec3( 1.0 );\\n\\t\\tmaterial.specularF90 = 1.0;\\n\\t#endif\\n\\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.specularF90 = 1.0;\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\tmaterial.clearcoatF0 = vec3( 0.04 );\\n\\tmaterial.clearcoatF90 = 1.0;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tmaterial.iridescence = iridescence;\\n\\tmaterial.iridescenceIOR = iridescenceIOR;\\n\\t#ifdef USE_IRIDESCENCEMAP\\n\\t\\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\t\\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\\n\\t#else\\n\\t\\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\\n\\t#endif\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheenColor;\\n\\t#ifdef USE_SHEEN_COLORMAP\\n\\t\\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\\n\\t#endif\\n\\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\\n\\t#ifdef USE_SHEEN_ROUGHNESSMAP\\n\\t\\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\\n\\t#endif\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat roughness;\\n\\tvec3 specularColor;\\n\\tfloat specularF90;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat clearcoat;\\n\\t\\tfloat clearcoatRoughness;\\n\\t\\tvec3 clearcoatF0;\\n\\t\\tfloat clearcoatF90;\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tfloat iridescence;\\n\\t\\tfloat iridescenceIOR;\\n\\t\\tfloat iridescenceThickness;\\n\\t\\tvec3 iridescenceFresnel;\\n\\t\\tvec3 iridescenceF0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tvec3 sheenColor;\\n\\t\\tfloat sheenRoughness;\\n\\t#endif\\n\\t#ifdef IOR\\n\\t\\tfloat ior;\\n\\t#endif\\n\\t#ifdef USE_TRANSMISSION\\n\\t\\tfloat transmission;\\n\\t\\tfloat transmissionAlpha;\\n\\t\\tfloat thickness;\\n\\t\\tfloat attenuationDistance;\\n\\t\\tvec3 attenuationColor;\\n\\t#endif\\n};\\nvec3 clearcoatSpecular = vec3( 0.0 );\\nvec3 sheenSpecular = vec3( 0.0 );\\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\\n    float x2 = x * x;\\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\\n}\\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\n#ifdef USE_CLEARCOAT\\n\\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\\n\\t\\tvec3 f0 = material.clearcoatF0;\\n\\t\\tfloat f90 = material.clearcoatF90;\\n\\t\\tfloat roughness = material.clearcoatRoughness;\\n\\t\\tfloat alpha = pow2( roughness );\\n\\t\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\t\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\t\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\t\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\t\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\t\\tvec3 F = F_Schlick( f0, f90, dotVH );\\n\\t\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\t\\tfloat D = D_GGX( alpha, dotNH );\\n\\t\\treturn F * ( V * D );\\n\\t}\\n#endif\\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\\n\\tvec3 f0 = material.specularColor;\\n\\tfloat f90 = material.specularF90;\\n\\tfloat roughness = material.roughness;\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( f0, f90, dotVH );\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tF = mix( F, material.iridescenceFresnel, material.iridescence );\\n\\t#endif\\n\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( V * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie( float roughness, float dotNH ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tfloat invAlpha = 1.0 / alpha;\\n\\tfloat cos2h = dotNH * dotNH;\\n\\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\\n\\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\\n}\\nfloat V_Neubelt( float dotNV, float dotNL ) {\\n\\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\\n}\\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat D = D_Charlie( sheenRoughness, dotNH );\\n\\tfloat V = V_Neubelt( dotNV, dotNL );\\n\\treturn sheenColor * ( D * V );\\n}\\n#endif\\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat r2 = roughness * roughness;\\n\\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\\n\\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\\n\\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\\n\\treturn saturate( DG * RECIPROCAL_PI );\\n}\\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\\n\\treturn fab;\\n}\\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\treturn specularColor * fab.x + specularF90 * fab.y;\\n}\\n#ifdef USE_IRIDESCENCE\\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n#else\\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n#endif\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\\n\\t#else\\n\\t\\tvec3 Fr = specularColor;\\n\\t#endif\\n\\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\\n\\tfloat Ess = fab.x + fab.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.roughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = dotNLcc * directLight.color;\\n\\t\\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\\n\\t#endif\\n\\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\\n\\t#endif\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\\n\\t#else\\n\\t\\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\\n\\t#endif\\n\\tvec3 totalScattering = singleScattering + multiScattering;\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\\n\\treflectedLight.indirectSpecular += radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef USE_CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\\n\\tif ( material.iridescenceThickness == 0.0 ) {\\n\\t\\tmaterial.iridescence = 0.0;\\n\\t} else {\\n\\t\\tmaterial.iridescence = saturate( material.iridescence );\\n\\t}\\n\\tif ( material.iridescence > 0.0 ) {\\n\\t\\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\\n\\t\\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\\n\\t}\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointLightInfo( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\tvec4 spotColor;\\n\\tvec3 spotLightCoord;\\n\\tbool inSpotLightMap;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotLightInfo( spotLight, geometry, directLight );\\n\\t\\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\\n\\t\\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\\n\\t\\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\\n\\t\\t#else\\n\\t\\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\\n\\t\\t#endif\\n\\t\\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\\n\\t\\t\\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\\n\\t\\t\\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\\n\\t\\t\\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\\n\\t\\t\\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\\n\\t\\t#endif\\n\\t\\t#undef SPOT_LIGHT_MAP_INDEX\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getIBLIrradiance( geometry.normal );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\\n\\t#ifdef DECODE_VIDEO_TEXTURE\\n\\t\\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\\n\\t#endif\\n\\tdiffuseColor *= sampledDiffuseColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\t#if defined( USE_POINTS_UV )\\n\\t\\tvec2 uv = vUv;\\n\\t#else\\n\\t\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n\\t#endif\\n#endif\\n#ifdef USE_MAP\\n\\tdiffuseColor *= texture2D( map, uv );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_POINTS_UV )\\n\\tvarying vec2 vUv;\\n#else\\n\\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\t\\tuniform mat3 uvTransform;\\n\\t#endif\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphcolor_vertex = \"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\\n\\tvColor *= morphTargetBaseInfluence;\\n\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t#if defined( USE_COLOR_ALPHA )\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\\n\\t\\t#elif defined( USE_COLOR )\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\\n\\t\\t}\\n\\t#else\\n\\t\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\t\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\t\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\t\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\\n\\t\\tuniform sampler2DArray morphTargetsTexture;\\n\\t\\tuniform ivec2 morphTargetsTextureSize;\\n\\t\\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\\n\\t\\t\\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\\n\\t\\t\\tint y = texelIndex / morphTargetsTextureSize.x;\\n\\t\\t\\tint x = texelIndex - y * morphTargetsTextureSize.x;\\n\\t\\t\\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\\n\\t\\t\\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\\n\\t\\t}\\n\\t#else\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t\\t#else\\n\\t\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\\n\\t\\t}\\n\\t#else\\n\\t\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\t\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\t\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\t\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = dFdx( vViewPosition );\\n\\tvec3 fdy = dFdy( vViewPosition );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal *= faceDirection;\\n\\t#endif\\n#endif\\n#ifdef USE_NORMALMAP_TANGENTSPACE\\n\\t#ifdef USE_TANGENT\\n\\t\\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\\n\\t#else\\n\\t\\tmat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\\n\\t#endif\\n\\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\\n\\t\\ttbn[0] *= faceDirection;\\n\\t\\ttbn[1] *= faceDirection;\\n\\t#endif\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\t#ifdef USE_TANGENT\\n\\t\\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\\n\\t#else\\n\\t\\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\\n\\t#endif\\n\\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\\n\\t\\ttbn2[0] *= faceDirection;\\n\\t\\ttbn2[1] *= faceDirection;\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef USE_NORMALMAP_OBJECTSPACE\\n\\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\\n\\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\tnormal = normalize( tbn * mapN );\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\nvar normal_pars_fragment = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\nvar normal_pars_vertex = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\nvar normal_vertex = \"#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef USE_NORMALMAP_OBJECTSPACE\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\\n\\t\\tvec3 q0 = dFdx( eye_pos.xyz );\\n\\t\\tvec3 q1 = dFdy( eye_pos.xyz );\\n\\t\\tvec2 st0 = dFdx( uv.st );\\n\\t\\tvec2 st1 = dFdy( uv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\\n\\t\\treturn mat3( T * scale, B * scale, N );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\";\n\nvar iridescence_pars_fragment = \"#ifdef USE_IRIDESCENCEMAP\\n\\tuniform sampler2D iridescenceMap;\\n#endif\\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\tuniform sampler2D iridescenceThicknessMap;\\n#endif\";\n\nvar output_fragment = \"#ifdef OPAQUE\\ndiffuseColor.a = 1.0;\\n#endif\\n#ifdef USE_TRANSMISSION\\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\\n#endif\\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec2 packDepthToRG( in highp float v ) {\\n\\treturn packDepthToRGBA( v ).yx;\\n}\\nfloat unpackRGToDepth( const in highp vec2 v ) {\\n\\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\\n\\treturn depth * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * depth - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#if NUM_SPOT_LIGHT_COORDS > 0\\n\\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\\n#endif\\n#if NUM_SPOT_LIGHT_MAPS > 0\\n\\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\\n#endif\\n#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\\n\\t\\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#if NUM_SPOT_LIGHT_COORDS > 0\\n\\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\\n\\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\\n#endif\\n#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\\n\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\tvec4 shadowWorldPosition;\\n#endif\\n#if defined( USE_SHADOWMAP )\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if NUM_SPOT_LIGHT_COORDS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition;\\n\\t\\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\t\\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\\n\\t\\t#endif\\n\\t\\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\tuniform highp sampler2D boneTexture;\\n\\tuniform int boneTextureSize;\\n\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\tfloat j = i * 4.0;\\n\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\ty = dy * ( y + 0.5 );\\n\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\treturn bone;\\n\\t}\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmission_fragment = \"#ifdef USE_TRANSMISSION\\n\\tmaterial.transmission = transmission;\\n\\tmaterial.transmissionAlpha = 1.0;\\n\\tmaterial.thickness = thickness;\\n\\tmaterial.attenuationDistance = attenuationDistance;\\n\\tmaterial.attenuationColor = attenuationColor;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\\n\\t#endif\\n\\tvec3 pos = vWorldPosition;\\n\\tvec3 v = normalize( cameraPosition - pos );\\n\\tvec3 n = inverseTransformDirection( normal, viewMatrix );\\n\\tvec4 transmission = getIBLVolumeRefraction(\\n\\t\\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\\n\\t\\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\\n\\t\\tmaterial.attenuationColor, material.attenuationDistance );\\n\\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\\n\\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\\n#endif\";\n\nvar transmission_pars_fragment = \"#ifdef USE_TRANSMISSION\\n\\tuniform float transmission;\\n\\tuniform float thickness;\\n\\tuniform float attenuationDistance;\\n\\tuniform vec3 attenuationColor;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\tuniform sampler2D transmissionMap;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tuniform sampler2D thicknessMap;\\n\\t#endif\\n\\tuniform vec2 transmissionSamplerSize;\\n\\tuniform sampler2D transmissionSamplerMap;\\n\\tuniform mat4 modelMatrix;\\n\\tuniform mat4 projectionMatrix;\\n\\tvarying vec3 vWorldPosition;\\n\\tfloat w0( float a ) {\\n\\t\\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\\n\\t}\\n\\tfloat w1( float a ) {\\n\\t\\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\\n\\t}\\n\\tfloat w2( float a ){\\n\\t\\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\\n\\t}\\n\\tfloat w3( float a ) {\\n\\t\\treturn ( 1.0 / 6.0 ) * ( a * a * a );\\n\\t}\\n\\tfloat g0( float a ) {\\n\\t\\treturn w0( a ) + w1( a );\\n\\t}\\n\\tfloat g1( float a ) {\\n\\t\\treturn w2( a ) + w3( a );\\n\\t}\\n\\tfloat h0( float a ) {\\n\\t\\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\\n\\t}\\n\\tfloat h1( float a ) {\\n\\t\\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\\n\\t}\\n\\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\\n\\t\\tuv = uv * texelSize.zw + 0.5;\\n\\t\\tvec2 iuv = floor( uv );\\n\\t\\tvec2 fuv = fract( uv );\\n\\t\\tfloat g0x = g0( fuv.x );\\n\\t\\tfloat g1x = g1( fuv.x );\\n\\t\\tfloat h0x = h0( fuv.x );\\n\\t\\tfloat h1x = h1( fuv.x );\\n\\t\\tfloat h0y = h0( fuv.y );\\n\\t\\tfloat h1y = h1( fuv.y );\\n\\t\\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\\n\\t\\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\\n\\t\\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\\n\\t\\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\\n\\t\\t\\n\\t\\tvec2 lodFudge = pow( 1.95, lod ) / fullSize;\\n\\t\\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\\n\\t\\t\\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\\n\\t}\\n\\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\\n\\t\\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\\n\\t\\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\\n\\t\\tvec2 fLodSizeInv = 1.0 / fLodSize;\\n\\t\\tvec2 cLodSizeInv = 1.0 / cLodSize;\\n\\t\\tvec2 fullSize = vec2( textureSize( sampler, 0 ) );\\n\\t\\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\\n\\t\\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\\n\\t\\treturn mix( fSample, cSample, fract( lod ) );\\n\\t}\\n\\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\\n\\t\\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\\n\\t\\tvec3 modelScale;\\n\\t\\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\\n\\t\\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\\n\\t\\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\\n\\t\\treturn normalize( refractionVector ) * thickness * modelScale;\\n\\t}\\n\\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\\n\\t\\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\\n\\t}\\n\\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\\n\\t\\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\\n\\t\\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\\n\\t}\\n\\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\\n\\t\\tif ( isinf( attenuationDistance ) ) {\\n\\t\\t\\treturn radiance;\\n\\t\\t} else {\\n\\t\\t\\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\\n\\t\\t\\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\\t\\t\\treturn transmittance * radiance;\\n\\t\\t}\\n\\t}\\n\\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\\n\\t\\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\\n\\t\\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\\n\\t\\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\\n\\t\\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\\n\\t\\tvec3 refractedRayExit = position + transmissionRay;\\n\\t\\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\\n\\t\\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\\n\\t\\trefractionCoords += 1.0;\\n\\t\\trefractionCoords /= 2.0;\\n\\t\\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\\n\\t\\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\\n\\t\\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\\n\\t\\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\\n\\t}\\n#endif\";\n\nvar uv_pars_fragment = \"#ifdef USE_UV\\n\\tvarying vec2 vUv;\\n#endif\\n#ifdef USE_MAP\\n\\tvarying vec2 vMapUv;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tvarying vec2 vAlphaMapUv;\\n#endif\\n#ifdef USE_LIGHTMAP\\n\\tvarying vec2 vLightMapUv;\\n#endif\\n#ifdef USE_AOMAP\\n\\tvarying vec2 vAoMapUv;\\n#endif\\n#ifdef USE_BUMPMAP\\n\\tvarying vec2 vBumpMapUv;\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tvarying vec2 vNormalMapUv;\\n#endif\\n#ifdef USE_EMISSIVEMAP\\n\\tvarying vec2 vEmissiveMapUv;\\n#endif\\n#ifdef USE_METALNESSMAP\\n\\tvarying vec2 vMetalnessMapUv;\\n#endif\\n#ifdef USE_ROUGHNESSMAP\\n\\tvarying vec2 vRoughnessMapUv;\\n#endif\\n#ifdef USE_CLEARCOATMAP\\n\\tvarying vec2 vClearcoatMapUv;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvarying vec2 vClearcoatNormalMapUv;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tvarying vec2 vClearcoatRoughnessMapUv;\\n#endif\\n#ifdef USE_IRIDESCENCEMAP\\n\\tvarying vec2 vIridescenceMapUv;\\n#endif\\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\tvarying vec2 vIridescenceThicknessMapUv;\\n#endif\\n#ifdef USE_SHEEN_COLORMAP\\n\\tvarying vec2 vSheenColorMapUv;\\n#endif\\n#ifdef USE_SHEEN_ROUGHNESSMAP\\n\\tvarying vec2 vSheenRoughnessMapUv;\\n#endif\\n#ifdef USE_SPECULARMAP\\n\\tvarying vec2 vSpecularMapUv;\\n#endif\\n#ifdef USE_SPECULAR_COLORMAP\\n\\tvarying vec2 vSpecularColorMapUv;\\n#endif\\n#ifdef USE_SPECULAR_INTENSITYMAP\\n\\tvarying vec2 vSpecularIntensityMapUv;\\n#endif\\n#ifdef USE_TRANSMISSIONMAP\\n\\tuniform mat3 transmissionMapTransform;\\n\\tvarying vec2 vTransmissionMapUv;\\n#endif\\n#ifdef USE_THICKNESSMAP\\n\\tuniform mat3 thicknessMapTransform;\\n\\tvarying vec2 vThicknessMapUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\tvarying vec2 vUv;\\n#endif\\n#ifdef USE_UV2\\n\\tattribute vec2 uv2;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform mat3 mapTransform;\\n\\tvarying vec2 vMapUv;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform mat3 alphaMapTransform;\\n\\tvarying vec2 vAlphaMapUv;\\n#endif\\n#ifdef USE_LIGHTMAP\\n\\tuniform mat3 lightMapTransform;\\n\\tvarying vec2 vLightMapUv;\\n#endif\\n#ifdef USE_AOMAP\\n\\tuniform mat3 aoMapTransform;\\n\\tvarying vec2 vAoMapUv;\\n#endif\\n#ifdef USE_BUMPMAP\\n\\tuniform mat3 bumpMapTransform;\\n\\tvarying vec2 vBumpMapUv;\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tuniform mat3 normalMapTransform;\\n\\tvarying vec2 vNormalMapUv;\\n#endif\\n#ifdef USE_DISPLACEMENTMAP\\n\\tuniform mat3 displacementMapTransform;\\n\\tvarying vec2 vDisplacementMapUv;\\n#endif\\n#ifdef USE_EMISSIVEMAP\\n\\tuniform mat3 emissiveMapTransform;\\n\\tvarying vec2 vEmissiveMapUv;\\n#endif\\n#ifdef USE_METALNESSMAP\\n\\tuniform mat3 metalnessMapTransform;\\n\\tvarying vec2 vMetalnessMapUv;\\n#endif\\n#ifdef USE_ROUGHNESSMAP\\n\\tuniform mat3 roughnessMapTransform;\\n\\tvarying vec2 vRoughnessMapUv;\\n#endif\\n#ifdef USE_CLEARCOATMAP\\n\\tuniform mat3 clearcoatMapTransform;\\n\\tvarying vec2 vClearcoatMapUv;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform mat3 clearcoatNormalMapTransform;\\n\\tvarying vec2 vClearcoatNormalMapUv;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform mat3 clearcoatRoughnessMapTransform;\\n\\tvarying vec2 vClearcoatRoughnessMapUv;\\n#endif\\n#ifdef USE_SHEEN_COLORMAP\\n\\tuniform mat3 sheenColorMapTransform;\\n\\tvarying vec2 vSheenColorMapUv;\\n#endif\\n#ifdef USE_SHEEN_ROUGHNESSMAP\\n\\tuniform mat3 sheenRoughnessMapTransform;\\n\\tvarying vec2 vSheenRoughnessMapUv;\\n#endif\\n#ifdef USE_IRIDESCENCEMAP\\n\\tuniform mat3 iridescenceMapTransform;\\n\\tvarying vec2 vIridescenceMapUv;\\n#endif\\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\tuniform mat3 iridescenceThicknessMapTransform;\\n\\tvarying vec2 vIridescenceThicknessMapUv;\\n#endif\\n#ifdef USE_SPECULARMAP\\n\\tuniform mat3 specularMapTransform;\\n\\tvarying vec2 vSpecularMapUv;\\n#endif\\n#ifdef USE_SPECULAR_COLORMAP\\n\\tuniform mat3 specularColorMapTransform;\\n\\tvarying vec2 vSpecularColorMapUv;\\n#endif\\n#ifdef USE_SPECULAR_INTENSITYMAP\\n\\tuniform mat3 specularIntensityMapTransform;\\n\\tvarying vec2 vSpecularIntensityMapUv;\\n#endif\\n#ifdef USE_TRANSMISSIONMAP\\n\\tuniform mat3 transmissionMapTransform;\\n\\tvarying vec2 vTransmissionMapUv;\\n#endif\\n#ifdef USE_THICKNESSMAP\\n\\tuniform mat3 thicknessMapTransform;\\n\\tvarying vec2 vThicknessMapUv;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = vec3( uv, 1 ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_LIGHTMAP\\n\\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_AOMAP\\n\\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_BUMPMAP\\n\\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_DISPLACEMENTMAP\\n\\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_EMISSIVEMAP\\n\\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_METALNESSMAP\\n\\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_ROUGHNESSMAP\\n\\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_CLEARCOATMAP\\n\\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_IRIDESCENCEMAP\\n\\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_SHEEN_COLORMAP\\n\\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_SHEEN_ROUGHNESSMAP\\n\\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_SPECULARMAP\\n\\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_SPECULAR_COLORMAP\\n\\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_SPECULAR_INTENSITYMAP\\n\\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_TRANSMISSIONMAP\\n\\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\\n#endif\\n#ifdef USE_THICKNESSMAP\\n\\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nconst vertex$h = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nconst fragment$h = \"uniform sampler2D t2D;\\nuniform float backgroundIntensity;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\t#ifdef DECODE_VIDEO_TEXTURE\\n\\t\\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\\n\\t#endif\\n\\ttexColor.rgb *= backgroundIntensity;\\n\\tgl_FragColor = texColor;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$g = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nconst fragment$g = \"#ifdef ENVMAP_TYPE_CUBE\\n\\tuniform samplerCube envMap;\\n#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\tuniform sampler2D envMap;\\n#endif\\nuniform float flipEnvMap;\\nuniform float backgroundBlurriness;\\nuniform float backgroundIntensity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\\n\\t#else\\n\\t\\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\t#endif\\n\\ttexColor.rgb *= backgroundIntensity;\\n\\tgl_FragColor = texColor;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$f = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nconst fragment$f = \"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\nvoid main() {\\n\\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\\n\\tgl_FragColor = texColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$e = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nconst fragment$e = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nconst vertex$d = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nconst fragment$d = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nconst vertex$c = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nconst fragment$c = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$b = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$b = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nconst vertex$a = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinbase_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$a = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$9 = \"#define LAMBERT\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$9 = \"#define LAMBERT\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_lambert_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_lambert_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$8 = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nconst fragment$8 = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$7 = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nconst fragment$7 = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n\\t#ifdef OPAQUE\\n\\t\\tgl_FragColor.a = 1.0;\\n\\t#endif\\n}\";\n\nconst vertex$6 = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$6 = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$5 = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifdef USE_TRANSMISSION\\n\\tvarying vec3 vWorldPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n#ifdef USE_TRANSMISSION\\n\\tvWorldPosition = worldPosition.xyz;\\n#endif\\n}\";\n\nconst fragment$5 = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define IOR\\n\\t#define USE_SPECULAR\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef IOR\\n\\tuniform float ior;\\n#endif\\n#ifdef USE_SPECULAR\\n\\tuniform float specularIntensity;\\n\\tuniform vec3 specularColor;\\n\\t#ifdef USE_SPECULAR_COLORMAP\\n\\t\\tuniform sampler2D specularColorMap;\\n\\t#endif\\n\\t#ifdef USE_SPECULAR_INTENSITYMAP\\n\\t\\tuniform sampler2D specularIntensityMap;\\n\\t#endif\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tuniform float iridescence;\\n\\tuniform float iridescenceIOR;\\n\\tuniform float iridescenceThicknessMinimum;\\n\\tuniform float iridescenceThicknessMaximum;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheenColor;\\n\\tuniform float sheenRoughness;\\n\\t#ifdef USE_SHEEN_COLORMAP\\n\\t\\tuniform sampler2D sheenColorMap;\\n\\t#endif\\n\\t#ifdef USE_SHEEN_ROUGHNESSMAP\\n\\t\\tuniform sampler2D sheenRoughnessMap;\\n\\t#endif\\n#endif\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <iridescence_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_physical_pars_fragment>\\n#include <transmission_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <iridescence_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\\n\\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\\n\\t#include <transmission_fragment>\\n\\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\\n\\t#ifdef USE_SHEEN\\n\\t\\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\\n\\t\\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\\n\\t\\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\\n\\t#endif\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$4 = \"#define TOON\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$4 = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$3 = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n#ifdef USE_POINTS_UV\\n\\tvarying vec2 vUv;\\n\\tuniform mat3 uvTransform;\\n#endif\\nvoid main() {\\n\\t#ifdef USE_POINTS_UV\\n\\t\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\t#endif\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$3 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nconst vertex$2 = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$2 = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <logdepthbuf_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nconst vertex$1 = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$1 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\talphatest_pars_fragment: alphatest_pars_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tiridescence_fragment: iridescence_fragment,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_fragment: lights_lambert_fragment,\n\tlights_lambert_pars_fragment: lights_lambert_pars_fragment,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphcolor_vertex: morphcolor_vertex,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormal_pars_fragment: normal_pars_fragment,\n\tnormal_pars_vertex: normal_pars_vertex,\n\tnormal_vertex: normal_vertex,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tiridescence_pars_fragment: iridescence_pars_fragment,\n\toutput_fragment: output_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmission_fragment: transmission_fragment,\n\ttransmission_pars_fragment: transmission_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_vert: vertex$h,\n\tbackground_frag: fragment$h,\n\tbackgroundCube_vert: vertex$g,\n\tbackgroundCube_frag: fragment$g,\n\tcube_vert: vertex$f,\n\tcube_frag: fragment$f,\n\tdepth_vert: vertex$e,\n\tdepth_frag: fragment$e,\n\tdistanceRGBA_vert: vertex$d,\n\tdistanceRGBA_frag: fragment$d,\n\tequirect_vert: vertex$c,\n\tequirect_frag: fragment$c,\n\tlinedashed_vert: vertex$b,\n\tlinedashed_frag: fragment$b,\n\tmeshbasic_vert: vertex$a,\n\tmeshbasic_frag: fragment$a,\n\tmeshlambert_vert: vertex$9,\n\tmeshlambert_frag: fragment$9,\n\tmeshmatcap_vert: vertex$8,\n\tmeshmatcap_frag: fragment$8,\n\tmeshnormal_vert: vertex$7,\n\tmeshnormal_frag: fragment$7,\n\tmeshphong_vert: vertex$6,\n\tmeshphong_frag: fragment$6,\n\tmeshphysical_vert: vertex$5,\n\tmeshphysical_frag: fragment$5,\n\tmeshtoon_vert: vertex$4,\n\tmeshtoon_frag: fragment$4,\n\tpoints_vert: vertex$3,\n\tpoints_frag: fragment$3,\n\tshadow_vert: vertex$2,\n\tshadow_frag: fragment$2,\n\tsprite_vert: vertex$1,\n\tsprite_frag: fragment$1\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tmapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\n\t\talphaMap: { value: null },\n\t\talphaMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\n\t\talphaTest: { value: 0 }\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\t\tspecularMapTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 }, // basic, lambert, phong\n\t\tior: { value: 1.5 }, // physical\n\t\trefractionRatio: { value: 0.98 }, // basic, lambert, phong\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 },\n\t\taoMapTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 },\n\t\tlightMapTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\tnormalScale: { value: /*@__PURE__*/ new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null },\n\t\temissiveMapTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null },\n\t\tmetalnessMapTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null },\n\t\troughnessMapTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: /*@__PURE__*/ new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotLightMap: { value: [] },\n\t\tspotShadowMap: { value: [] },\n\t\tspotLightMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 },\n\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: /*@__PURE__*/ new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\tmapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 }\n\n\t}\n\n};\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: /*@__PURE__*/ new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshnormal_vert,\n\t\tfragmentShader: ShaderChunk.meshnormal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t\tbackgroundIntensity: { value: 1 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\n\tbackgroundCube: {\n\n\t\tuniforms: {\n\t\t\tenvMap: { value: null },\n\t\t\tflipEnvMap: { value: - 1 },\n\t\t\tbackgroundBlurriness: { value: 0 },\n\t\t\tbackgroundIntensity: { value: 1 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.backgroundCube_vert,\n\t\tfragmentShader: ShaderChunk.backgroundCube_frag\n\n\t},\n\n\tcube: {\n\n\t\tuniforms: {\n\t\t\ttCube: { value: null },\n\t\t\ttFlip: { value: - 1 },\n\t\t\topacity: { value: 1.0 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: /*@__PURE__*/ new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: /*@__PURE__*/ new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tclearcoatNormalMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tclearcoatNormalScale: { value: /*@__PURE__*/ new Vector2( 1, 1 ) },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatRoughnessMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tiridescence: { value: 0 },\n\t\t\tiridescenceMap: { value: null },\n\t\t\tiridescenceMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tiridescenceIOR: { value: 1.3 },\n\t\t\tiridescenceThicknessMinimum: { value: 100 },\n\t\t\tiridescenceThicknessMaximum: { value: 400 },\n\t\t\tiridescenceThicknessMap: { value: null },\n\t\t\tiridescenceThicknessMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tsheen: { value: 0 },\n\t\t\tsheenColor: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\tsheenColorMap: { value: null },\n\t\t\tsheenColorMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tsheenRoughness: { value: 1 },\n\t\t\tsheenRoughnessMap: { value: null },\n\t\t\tsheenRoughnessMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t\ttransmissionMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\ttransmissionSamplerSize: { value: /*@__PURE__*/ new Vector2() },\n\t\t\ttransmissionSamplerMap: { value: null },\n\t\t\tthickness: { value: 0 },\n\t\t\tthicknessMap: { value: null },\n\t\t\tthicknessMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tattenuationDistance: { value: 0 },\n\t\t\tattenuationColor: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\tspecularColor: { value: /*@__PURE__*/ new Color( 1, 1, 1 ) },\n\t\t\tspecularColorMap: { value: null },\n\t\t\tspecularColorMapTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tspecularIntensity: { value: 1 },\n\t\t\tspecularIntensityMap: { value: null },\n\t\t\tspecularIntensityMapTransform: { value: /*@__PURE__*/ new Matrix3() }\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nconst _rgb = { r: 0, b: 0, g: 0 };\n\nfunction WebGLBackground( renderer, cubemaps, cubeuvmaps, state, objects, alpha, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = alpha === true ? 0 : 1;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene ) {\n\n\t\tlet forceClear = false;\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tconst usePMREM = scene.backgroundBlurriness > 0; // use PMREM if the user wants to blur the background\n\t\t\tbackground = ( usePMREM ? cubeuvmaps : cubemaps ).get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.backgroundCube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.backgroundCube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.backgroundCube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// add \"envMap\" material property so the renderer can evaluate it like for built-in materials\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background.isRenderTargetTexture === false ) ? - 1 : 1;\n\t\t\tboxMesh.material.uniforms.backgroundBlurriness.value = scene.backgroundBlurriness;\n\t\t\tboxMesh.material.uniforms.backgroundIntensity.value = scene.backgroundIntensity;\n\t\t\tboxMesh.material.toneMapped = ( background.encoding === sRGBEncoding ) ? false : true;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\tboxMesh.layers.enableAll();\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// add \"map\" material property so the renderer can evaluate it like for built-in materials\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\t\t\tplaneMesh.material.uniforms.backgroundIntensity.value = scene.backgroundIntensity;\n\t\t\tplaneMesh.material.toneMapped = ( background.encoding === sRGBEncoding ) ? false : true;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\tplaneMesh.layers.enableAll();\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tcolor.getRGB( _rgb, getUnlitUniformColorSpace( renderer ) );\n\n\t\tstate.buffers.color.setClear( _rgb.r, _rgb.g, _rgb.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha = 1 ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\tlet forceUpdate = false;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( object, geometry, program, index );\n\n\t\t\tif ( updateBuffers ) saveCache( object, geometry, program, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers || forceUpdate ) {\n\n\t\t\tforceUpdate = false;\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( object, geometry, program, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tlet attributesNum = 0;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tconst cachedAttribute = cachedAttributes[ name ];\n\t\t\t\tlet geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) geometryAttribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\t\tif ( geometryAttribute && cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t\t\tattributesNum ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( object, geometry, program, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\t\tlet attributesNum = 0;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tlet attribute = attributes[ name ];\n\n\t\t\t\tif ( attribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) attribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) attribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tconst data = {};\n\t\t\t\tdata.attribute = attribute;\n\n\t\t\t\tif ( attribute && attribute.data ) {\n\n\t\t\t\t\tdata.data = attribute.data;\n\n\t\t\t\t}\n\n\t\t\t\tcache[ name ] = data;\n\n\t\t\t\tattributesNum ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\t\tcurrentState.attributesNum = attributesNum;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tlet geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) geometryAttribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute.location + i, data.meshPerAttribute );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttribute( programAttribute.location + i );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\tvertexAttribPointer(\n\t\t\t\t\t\t\t\tprogramAttribute.location + i,\n\t\t\t\t\t\t\t\tsize / programAttribute.locationSize,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tnormalized,\n\t\t\t\t\t\t\t\tstride * bytesPerElement,\n\t\t\t\t\t\t\t\t( offset + ( size / programAttribute.locationSize ) * i ) * bytesPerElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute.location + i, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttribute( programAttribute.location + i );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\tvertexAttribPointer(\n\t\t\t\t\t\t\t\tprogramAttribute.location + i,\n\t\t\t\t\t\t\t\tsize / programAttribute.locationSize,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tnormalized,\n\t\t\t\t\t\t\t\tsize * bytesPerElement,\n\t\t\t\t\t\t\t\t( size / programAttribute.locationSize ) * i * bytesPerElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute.location, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\t\tforceUpdate = true;\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatibility\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\tconst isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl.constructor.name === 'WebGL2RenderingContext';\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst drawBuffers = isWebGL2 || extensions.has( 'WEBGL_draw_buffers' );\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || extensions.has( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tdrawBuffers: drawBuffers,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\n\t};\n\n\tthis.setGlobalState = function ( planes, camera ) {\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture && texture.isRenderTargetTexture === false ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nclass OrthographicCamera extends Camera {\n\n\tconstructor( left = - 1, right = 1, top = 1, bottom = - 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.isOrthographicCamera = true;\n\n\t\tthis.type = 'OrthographicCamera';\n\n\t\tthis.zoom = 1;\n\t\tthis.view = null;\n\n\t\tthis.left = left;\n\t\tthis.right = right;\n\t\tthis.top = top;\n\t\tthis.bottom = bottom;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t}\n\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst LOD_MIN = 4;\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst _clearColor = /*@__PURE__*/ new Color();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n *\n * Paper: Fast, Accurate Image-Based Lighting\n * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\n*/\n\nclass PMREMGenerator {\n\n\tconstructor( renderer ) {\n\n\t\tthis._renderer = renderer;\n\t\tthis._pingPongRenderTarget = null;\n\n\t\tthis._lodMax = 0;\n\t\tthis._cubeSize = 0;\n\t\tthis._lodPlanes = [];\n\t\tthis._sizeLods = [];\n\t\tthis._sigmas = [];\n\n\t\tthis._blurMaterial = null;\n\t\tthis._cubemapMaterial = null;\n\t\tthis._equirectMaterial = null;\n\n\t\tthis._compileMaterial( this._blurMaterial );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\tthis._setSize( 256 );\n\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\t\tcubeUVRenderTarget.depthBuffer = true;\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * or HDR. The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular( equirectangular, renderTarget = null ) {\n\n\t\treturn this._fromTexture( equirectangular, renderTarget );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * or HDR. The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap( cubemap, renderTarget = null ) {\n\n\t\treturn this._fromTexture( cubemap, renderTarget );\n\n\t}\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader() {\n\n\t\tif ( this._cubemapMaterial === null ) {\n\n\t\t\tthis._cubemapMaterial = _getCubemapMaterial();\n\t\t\tthis._compileMaterial( this._cubemapMaterial );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader() {\n\n\t\tif ( this._equirectMaterial === null ) {\n\n\t\t\tthis._equirectMaterial = _getEquirectMaterial();\n\t\t\tthis._compileMaterial( this._equirectMaterial );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose() {\n\n\t\tthis._dispose();\n\n\t\tif ( this._cubemapMaterial !== null ) this._cubemapMaterial.dispose();\n\t\tif ( this._equirectMaterial !== null ) this._equirectMaterial.dispose();\n\n\t}\n\n\t// private interface\n\n\t_setSize( cubeSize ) {\n\n\t\tthis._lodMax = Math.floor( Math.log2( cubeSize ) );\n\t\tthis._cubeSize = Math.pow( 2, this._lodMax );\n\n\t}\n\n\t_dispose() {\n\n\t\tif ( this._blurMaterial !== null ) this._blurMaterial.dispose();\n\n\t\tif ( this._pingPongRenderTarget !== null ) this._pingPongRenderTarget.dispose();\n\n\t\tfor ( let i = 0; i < this._lodPlanes.length; i ++ ) {\n\n\t\t\tthis._lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t}\n\n\t_cleanup( outputTarget ) {\n\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t}\n\n\t_fromTexture( texture, renderTarget ) {\n\n\t\tif ( texture.mapping === CubeReflectionMapping || texture.mapping === CubeRefractionMapping ) {\n\n\t\t\tthis._setSize( texture.image.length === 0 ? 16 : ( texture.image[ 0 ].width || texture.image[ 0 ].image.width ) );\n\n\t\t} else { // Equirectangular\n\n\t\t\tthis._setSize( texture.image.width / 4 );\n\n\t\t}\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\tconst cubeUVRenderTarget = renderTarget || this._allocateTargets();\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_allocateTargets() {\n\n\t\tconst width = 3 * Math.max( this._cubeSize, 16 * 7 );\n\t\tconst height = 4 * this._cubeSize;\n\n\t\tconst params = {\n\t\t\tmagFilter: LinearFilter,\n\t\t\tminFilter: LinearFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: HalfFloatType,\n\t\t\tformat: RGBAFormat,\n\t\t\tencoding: LinearEncoding,\n\t\t\tdepthBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( width, height, params );\n\n\t\tif ( this._pingPongRenderTarget === null || this._pingPongRenderTarget.width !== width || this._pingPongRenderTarget.height !== height ) {\n\n\t\t\tif ( this._pingPongRenderTarget !== null ) {\n\n\t\t\t\tthis._dispose();\n\n\t\t\t}\n\n\t\t\tthis._pingPongRenderTarget = _createRenderTarget( width, height, params );\n\n\t\t\tconst { _lodMax } = this;\n\t\t\t( { sizeLods: this._sizeLods, lodPlanes: this._lodPlanes, sigmas: this._sigmas } = _createPlanes( _lodMax ) );\n\n\t\t\tthis._blurMaterial = _getBlurShader( _lodMax, width, height );\n\n\t\t}\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_compileMaterial( material ) {\n\n\t\tconst tmpMesh = new Mesh( this._lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t}\n\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst originalAutoClear = renderer.autoClear;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\trenderer.getClearColor( _clearColor );\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.autoClear = false;\n\n\t\tconst backgroundMaterial = new MeshBasicMaterial( {\n\t\t\tname: 'PMREM.Background',\n\t\t\tside: BackSide,\n\t\t\tdepthWrite: false,\n\t\t\tdepthTest: false,\n\t\t} );\n\n\t\tconst backgroundBox = new Mesh( new BoxGeometry(), backgroundMaterial );\n\n\t\tlet useSolidColor = false;\n\t\tconst background = scene.background;\n\n\t\tif ( background ) {\n\n\t\t\tif ( background.isColor ) {\n\n\t\t\t\tbackgroundMaterial.color.copy( background );\n\t\t\t\tscene.background = null;\n\t\t\t\tuseSolidColor = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tbackgroundMaterial.color.copy( _clearColor );\n\t\t\tuseSolidColor = true;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\n\t\t\tif ( col === 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col === 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\tconst size = this._cubeSize;\n\n\t\t\t_setViewport( cubeUVRenderTarget, col * size, i > 2 ? size : 0, size, size );\n\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\n\t\t\tif ( useSolidColor ) {\n\n\t\t\t\trenderer.render( backgroundBox, cubeCamera );\n\n\t\t\t}\n\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\tbackgroundBox.geometry.dispose();\n\t\tbackgroundBox.material.dispose();\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.autoClear = originalAutoClear;\n\t\tscene.background = background;\n\n\t}\n\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tconst isCubeTexture = ( texture.mapping === CubeReflectionMapping || texture.mapping === CubeRefractionMapping );\n\n\t\tif ( isCubeTexture ) {\n\n\t\t\tif ( this._cubemapMaterial === null ) {\n\n\t\t\t\tthis._cubemapMaterial = _getCubemapMaterial();\n\n\t\t\t}\n\n\t\t\tthis._cubemapMaterial.uniforms.flipEnvMap.value = ( texture.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t} else {\n\n\t\t\tif ( this._equirectMaterial === null ) {\n\n\t\t\t\tthis._equirectMaterial = _getEquirectMaterial();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = isCubeTexture ? this._cubemapMaterial : this._equirectMaterial;\n\t\tconst mesh = new Mesh( this._lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tconst size = this._cubeSize;\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * size, 2 * size );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t}\n\n\t_applyPMREM( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < this._lodPlanes.length; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( this._sigmas[ i ] * this._sigmas[ i ] - this._sigmas[ i - 1 ] * this._sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t}\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t}\n\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( this._lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = this._sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i === 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tconst { _lodMax } = this;\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = _lodMax - lodIn;\n\n\t\tconst outputSize = this._sizeLods[ lodOut ];\n\t\tconst x = 3 * outputSize * ( lodOut > _lodMax - LOD_MIN ? lodOut - _lodMax + LOD_MIN : 0 );\n\t\tconst y = 4 * ( this._cubeSize - outputSize );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n}\n\n\n\nfunction _createPlanes( lodMax ) {\n\n\tconst lodPlanes = [];\n\tconst sizeLods = [];\n\tconst sigmas = [];\n\n\tlet lod = lodMax;\n\n\tconst totalLods = lodMax - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n\tfor ( let i = 0; i < totalLods; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\tsizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > lodMax - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - lodMax + LOD_MIN - 1 ];\n\n\t\t} else if ( i === 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\tsigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 2 );\n\t\tconst min = - texelSize;\n\t\tconst max = 1 + texelSize;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\tlodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { lodPlanes, sizeLods, sigmas };\n\n}\n\nfunction _createRenderTarget( width, height, params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( width, height, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( lodMax, width, height ) {\n\n\tconst weights = new Float32Array( MAX_SAMPLES );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new ShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: {\n\t\t\t'n': MAX_SAMPLES,\n\t\t\t'CUBEUV_TEXEL_WIDTH': 1.0 / width,\n\t\t\t'CUBEUV_TEXEL_HEIGHT': 1.0 / height,\n\t\t\t'CUBEUV_MAX_MIP': `${lodMax}.0`,\n\t\t},\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectMaterial() {\n\n\treturn new ShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n}\n\nfunction _getCubemapMaterial() {\n\n\treturn new ShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'flipEnvMap': { value: - 1 }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn /* glsl */`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction WebGLCubeUVMaps( renderer ) {\n\n\tlet cubeUVmaps = new WeakMap();\n\n\tlet pmremGenerator = null;\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tconst isEquirectMap = ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping );\n\t\t\tconst isCubeMap = ( mapping === CubeReflectionMapping || mapping === CubeRefractionMapping );\n\n\t\t\t// equirect/cube map to cubeUV conversion\n\n\t\t\tif ( isEquirectMap || isCubeMap ) {\n\n\t\t\t\tif ( texture.isRenderTargetTexture && texture.needsPMREMUpdate === true ) {\n\n\t\t\t\t\ttexture.needsPMREMUpdate = false;\n\n\t\t\t\t\tlet renderTarget = cubeUVmaps.get( texture );\n\n\t\t\t\t\tif ( pmremGenerator === null ) pmremGenerator = new PMREMGenerator( renderer );\n\n\t\t\t\t\trenderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular( texture, renderTarget ) : pmremGenerator.fromCubemap( texture, renderTarget );\n\t\t\t\t\tcubeUVmaps.set( texture, renderTarget );\n\n\t\t\t\t\treturn renderTarget.texture;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cubeUVmaps.has( texture ) ) {\n\n\t\t\t\t\t\treturn cubeUVmaps.get( texture ).texture;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\t\tif ( ( isEquirectMap && image && image.height > 0 ) || ( isCubeMap && image && isCubeTextureComplete( image ) ) ) {\n\n\t\t\t\t\t\t\tif ( pmremGenerator === null ) pmremGenerator = new PMREMGenerator( renderer );\n\n\t\t\t\t\t\t\tconst renderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular( texture ) : pmremGenerator.fromCubemap( texture );\n\t\t\t\t\t\t\tcubeUVmaps.set( texture, renderTarget );\n\n\t\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\t\treturn renderTarget.texture;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction isCubeTextureComplete( image ) {\n\n\t\tlet count = 0;\n\t\tconst length = 6;\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tif ( image[ i ] !== undefined ) count ++;\n\n\t\t}\n\n\t\treturn count === length;\n\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemapUV = cubeUVmaps.get( texture );\n\n\t\tif ( cubemapUV !== undefined ) {\n\n\t\t\tcubeUVmaps.delete( texture );\n\t\t\tcubemapUV.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubeUVmaps = new WeakMap();\n\n\t\tif ( pmremGenerator !== null ) {\n\n\t\t\tpmremGenerator.dispose();\n\t\t\tpmremGenerator = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\tfunction getExtension( name ) {\n\n\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t\tlet extension;\n\n\t\tswitch ( name ) {\n\n\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\textension = gl.getExtension( name );\n\n\t\t}\n\n\t\textensions[ name ] = extension;\n\n\t\treturn extension;\n\n\t}\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\treturn getExtension( name ) !== null;\n\n\t\t},\n\n\t\tinit: function ( capabilities ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgetExtension( 'EXT_color_buffer_float' );\n\n\t\t\t} else {\n\n\t\t\t\tgetExtension( 'WEBGL_depth_texture' );\n\t\t\t\tgetExtension( 'OES_texture_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tgetExtension( 'OES_standard_derivatives' );\n\t\t\t\tgetExtension( 'OES_element_index_uint' );\n\t\t\t\tgetExtension( 'OES_vertex_array_object' );\n\t\t\t\tgetExtension( 'ANGLE_instanced_arrays' );\n\n\t\t\t}\n\n\t\t\tgetExtension( 'OES_texture_float_linear' );\n\t\t\tgetExtension( 'EXT_color_buffer_half_float' );\n\t\t\tgetExtension( 'WEBGL_multisampled_render_to_texture' );\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tconst extension = getExtension( name );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = {};\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\tattributes.remove( geometry.index );\n\n\t\t}\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tattributes.remove( geometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tconst attribute = wireframeAttributes.get( geometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( geometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tif ( geometries[ geometry.id ] === true ) return geometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries[ geometry.id ] = true;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayNeedsUint32( indices ) ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl, capabilities, textures ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\tconst morphTextures = new WeakMap();\n\tconst morph = new Vector4();\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\tif ( capabilities.isWebGL2 === true ) {\n\n\t\t\t// instead of using attributes, the WebGL 2 code path encodes morph targets\n\t\t\t// into an array of data textures. Each layer represents a single morph target.\n\n\t\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\t\tlet entry = morphTextures.get( geometry );\n\n\t\t\tif ( entry === undefined || entry.count !== morphTargetsCount ) {\n\n\t\t\t\tif ( entry !== undefined ) entry.texture.dispose();\n\n\t\t\t\tconst hasMorphPosition = geometry.morphAttributes.position !== undefined;\n\t\t\t\tconst hasMorphNormals = geometry.morphAttributes.normal !== undefined;\n\t\t\t\tconst hasMorphColors = geometry.morphAttributes.color !== undefined;\n\n\t\t\t\tconst morphTargets = geometry.morphAttributes.position || [];\n\t\t\t\tconst morphNormals = geometry.morphAttributes.normal || [];\n\t\t\t\tconst morphColors = geometry.morphAttributes.color || [];\n\n\t\t\t\tlet vertexDataCount = 0;\n\n\t\t\t\tif ( hasMorphPosition === true ) vertexDataCount = 1;\n\t\t\t\tif ( hasMorphNormals === true ) vertexDataCount = 2;\n\t\t\t\tif ( hasMorphColors === true ) vertexDataCount = 3;\n\n\t\t\t\tlet width = geometry.attributes.position.count * vertexDataCount;\n\t\t\t\tlet height = 1;\n\n\t\t\t\tif ( width > capabilities.maxTextureSize ) {\n\n\t\t\t\t\theight = Math.ceil( width / capabilities.maxTextureSize );\n\t\t\t\t\twidth = capabilities.maxTextureSize;\n\n\t\t\t\t}\n\n\t\t\t\tconst buffer = new Float32Array( width * height * 4 * morphTargetsCount );\n\n\t\t\t\tconst texture = new DataArrayTexture( buffer, width, height, morphTargetsCount );\n\t\t\t\ttexture.type = FloatType;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t// fill buffer\n\n\t\t\t\tconst vertexDataStride = vertexDataCount * 4;\n\n\t\t\t\tfor ( let i = 0; i < morphTargetsCount; i ++ ) {\n\n\t\t\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\t\t\tconst morphNormal = morphNormals[ i ];\n\t\t\t\t\tconst morphColor = morphColors[ i ];\n\n\t\t\t\t\tconst offset = width * height * 4 * i;\n\n\t\t\t\t\tfor ( let j = 0; j < morphTarget.count; j ++ ) {\n\n\t\t\t\t\t\tconst stride = j * vertexDataStride;\n\n\t\t\t\t\t\tif ( hasMorphPosition === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphTarget, j );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 0 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 1 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 2 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 3 ] = 0;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( hasMorphNormals === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphNormal, j );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 4 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 5 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 6 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 7 ] = 0;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( hasMorphColors === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphColor, j );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 8 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 9 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 10 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 11 ] = ( morphColor.itemSize === 4 ) ? morph.w : 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tentry = {\n\t\t\t\t\tcount: morphTargetsCount,\n\t\t\t\t\ttexture: texture,\n\t\t\t\t\tsize: new Vector2( width, height )\n\t\t\t\t};\n\n\t\t\t\tmorphTextures.set( geometry, entry );\n\n\t\t\t\tfunction disposeTexture() {\n\n\t\t\t\t\ttexture.dispose();\n\n\t\t\t\t\tmorphTextures.delete( geometry );\n\n\t\t\t\t\tgeometry.removeEventListener( 'dispose', disposeTexture );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.addEventListener( 'dispose', disposeTexture );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\tfor ( let i = 0; i < objectInfluences.length; i ++ ) {\n\n\t\t\t\tmorphInfluencesSum += objectInfluences[ i ];\n\n\t\t\t}\n\n\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', objectInfluences );\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetsTexture', entry.texture, textures );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetsTextureSize', entry.size );\n\n\n\t\t} else {\n\n\t\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\t\tlet influences = influencesList[ geometry.id ];\n\n\t\t\tif ( influences === undefined || influences.length !== length ) {\n\n\t\t\t\t// initialise list\n\n\t\t\t\tinfluences = [];\n\n\t\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t\t}\n\n\t\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t\t}\n\n\t\t\t// Collect influences\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tconst influence = influences[ i ];\n\n\t\t\t\tinfluence[ 0 ] = i;\n\t\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t\t}\n\n\t\t\tinfluences.sort( absNumericalSort );\n\n\t\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tworkInfluences.sort( numericalSort );\n\n\t\t\tconst morphTargets = geometry.morphAttributes.position;\n\t\t\tconst morphNormals = geometry.morphAttributes.normal;\n\n\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\t\tconst influence = workInfluences[ i ];\n\t\t\t\tconst index = influence[ 0 ];\n\t\t\t\tconst value = influence[ 1 ];\n\n\t\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\n\n\t\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\n\n\t\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\n\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\t\t}\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\tfunction onInstancedMeshDispose( event ) {\n\n\t\tconst instancedMesh = event.target;\n\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\tattributes.remove( instancedMesh.instanceMatrix );\n\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = /*@__PURE__*/ new Texture();\nconst emptyArrayTexture = /*@__PURE__*/ new DataArrayTexture();\nconst empty3dTexture = /*@__PURE__*/ new Data3DTexture();\nconst emptyCubeTexture = /*@__PURE__*/ new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or THREE.MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single integer / boolean\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single integer / boolean vector (from flat array or THREE.VectorN)\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2i( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2iv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3i( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3iv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4i( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4iv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single unsigned integer\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single unsigned integer vector (from flat array or THREE.VectorN)\n\nfunction setValueV2ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2ui( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2uiv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3ui( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3uiv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4ui( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4uiv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || empty3dTexture, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTextureCube( v || emptyCubeTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyArrayTexture, unit );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\t\tcase 0x8dc6: return setValueV2ui; // _VEC2\n\t\tcase 0x8dc7: return setValueV3ui; // _VEC3\n\t\tcase 0x8dc8: return setValueV4ui; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n\n// Array of scalars\n\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Array of vectors (from flat array or array of THREE.VectorN)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (from flat array or array of THREE.MatrixN)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of integer / boolean\n\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of integer / boolean vectors (from flat array)\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Array of unsigned integer\n\nfunction setValueV1uiArray( gl, v ) {\n\n\tgl.uniform1uiv( this.addr, v );\n\n}\n\n// Array of unsigned integer vectors (from flat array)\n\nfunction setValueV2uiArray( gl, v ) {\n\n\tgl.uniform2uiv( this.addr, v );\n\n}\n\nfunction setValueV3uiArray( gl, v ) {\n\n\tgl.uniform3uiv( this.addr, v );\n\n}\n\nfunction setValueV4uiArray( gl, v ) {\n\n\tgl.uniform4uiv( this.addr, v );\n\n}\n\n\n// Array of textures (2D / 3D / Cube / 2DArray)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tif ( ! arraysEqual( cache, units ) ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT3DArray( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tif ( ! arraysEqual( cache, units ) ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture3D( v[ i ] || empty3dTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tif ( ! arraysEqual( cache, units ) ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT2DArrayArray( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tif ( ! arraysEqual( cache, units ) ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture2DArray( v[ i ] || emptyArrayTexture, units[ i ] );\n\n\t}\n\n}\n\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x1405: return setValueV1uiArray; // UINT\n\t\tcase 0x8dc6: return setValueV2uiArray; // _VEC2\n\t\tcase 0x8dc7: return setValueV3uiArray; // _VEC3\n\t\tcase 0x8dc8: return setValueV4uiArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3DArray;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArrayArray;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nclass SingleUniform {\n\n\tconstructor( id, activeInfo, addr ) {\n\n\t\tthis.id = id;\n\t\tthis.addr = addr;\n\t\tthis.cache = [];\n\t\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t\t// this.path = activeInfo.name; // DEBUG\n\n\t}\n\n}\n\nclass PureArrayUniform {\n\n\tconstructor( id, activeInfo, addr ) {\n\n\t\tthis.id = id;\n\t\tthis.addr = addr;\n\t\tthis.cache = [];\n\t\tthis.size = activeInfo.size;\n\t\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t\t// this.path = activeInfo.name; // DEBUG\n\n\t}\n\n}\n\nclass StructuredUniform {\n\n\tconstructor( id ) {\n\n\t\tthis.id = id;\n\n\t\tthis.seq = [];\n\t\tthis.map = {};\n\n\t}\n\n\tsetValue( gl, value, textures ) {\n\n\t\tconst seq = this.seq;\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ];\n\t\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t\t}\n\n\t}\n\n}\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nclass WebGLUniforms {\n\n\tconstructor( gl, program ) {\n\n\t\tthis.seq = [];\n\t\tthis.map = {};\n\n\t\tconst n = gl.getProgramParameter( program, 35718 );\n\n\t\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\t\tparseUniform( info, addr, this );\n\n\t\t}\n\n\t}\n\n\tsetValue( gl, name, value, textures ) {\n\n\t\tconst u = this.map[ name ];\n\n\t\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n\t}\n\n\tsetOptional( gl, object, name ) {\n\n\t\tconst v = object[ name ];\n\n\t\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n\t}\n\n\tstatic upload( gl, seq, values, textures ) {\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ],\n\t\t\t\tv = values[ u.id ];\n\n\t\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tstatic seqWithValue( seq, values ) {\n\n\t\tconst r = [];\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ];\n\t\t\tif ( u.id in values ) r.push( u );\n\n\t\t}\n\n\t\treturn r;\n\n\t}\n\n}\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction handleSource( string, errorLine ) {\n\n\tconst lines = string.split( '\\n' );\n\tconst lines2 = [];\n\n\tconst from = Math.max( errorLine - 6, 0 );\n\tconst to = Math.min( errorLine + 6, lines.length );\n\n\tfor ( let i = from; i < to; i ++ ) {\n\n\t\tconst line = i + 1;\n\t\tlines2.push( `${line === errorLine ? '>' : ' '} ${line}: ${lines[ i ]}` );\n\n\t}\n\n\treturn lines2.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst errors = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && errors === '' ) return '';\n\n\tconst errorMatches = /ERROR: 0:(\\d+)/.exec( errors );\n\tif ( errorMatches ) {\n\n\t\t// --enable-privileged-webgl-extension\n\t\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\t\tconst errorLine = parseInt( errorMatches[ 1 ] );\n\t\treturn type.toUpperCase() + '\\n\\n' + errors + '\\n\\n' + handleSource( gl.getShaderSource( shader ), errorLine );\n\n\t} else {\n\n\t\treturn errors;\n\n\t}\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || !! parameters.envMapCubeUVHeight || parameters.bumpMap || parameters.normalMapTangentSpace || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap || parameters.transmission ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\tlet locationSize = 1;\n\t\tif ( info.type === 35674 ) locationSize = 2;\n\t\tif ( info.type === 35675 ) locationSize = 3;\n\t\tif ( info.type === 35676 ) locationSize = 4;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = {\n\t\t\ttype: info.type,\n\t\t\tlocation: gl.getAttribLocation( program, name ),\n\t\t\tlocationSize: locationSize\n\t\t};\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\tconst numSpotLightCoords = parameters.numSpotLightShadows + parameters.numSpotLightMaps - parameters.numSpotLightShadowsWithMaps;\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_SPOT_LIGHT_MAPS/g, parameters.numSpotLightMaps )\n\t\t.replace( /NUM_SPOT_LIGHT_COORDS/g, numSpotLightCoords )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g, parameters.numSpotLightShadowsWithMaps )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string.replace( unrollLoopPattern, loopReplacer );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\tif ( parameters.precision === 'highp' ) {\n\n\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\n\t} else if ( parameters.precision === 'mediump' ) {\n\n\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\n\t} else if ( parameters.precision === 'lowp' ) {\n\n\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction generateCubeUVSize( parameters ) {\n\n\tconst imageHeight = parameters.envMapCubeUVHeight;\n\n\tif ( imageHeight === null ) return null;\n\n\tconst maxMip = Math.log2( imageHeight ) - 2;\n\n\tconst texelHeight = 1.0 / imageHeight;\n\n\tconst texelWidth = 1.0 / ( 3 * Math.max( Math.pow( 2, maxMip ), 7 * 16 ) );\n\n\treturn { texelWidth, texelHeight, maxMip };\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\t// TODO Send this event to Three.js DevTools\n\t// console.log( 'WebGLProgram', cacheKey );\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\tconst envMapCubeUVSize = generateCubeUVSize( parameters );\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.useFog && parameters.fog ? '#define USE_FOG' : '',\n\t\t\tparameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\tparameters.normalMapObjectSpace ? '#define USE_NORMALMAP_OBJECTSPACE' : '',\n\t\t\tparameters.normalMapTangentSpace ? '#define USE_NORMALMAP_TANGENTSPACE' : '',\n\t\t\tparameters.displacementMap ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\n\t\t\tparameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '',\n\t\t\tparameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '',\n\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularColorMap ? '#define USE_SPECULAR_COLORMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULAR_INTENSITYMAP' : '',\n\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.sheenColorMap ? '#define USE_SHEEN_COLORMAP' : '',\n\t\t\tparameters.sheenRoughnessMap ? '#define USE_SHEEN_ROUGHNESSMAP' : '',\n\n\t\t\t//\n\n\t\t\tparameters.mapUv ? '#define MAP_UV ' + parameters.mapUv : '',\n\t\t\tparameters.alphaMapUv ? '#define ALPHAMAP_UV ' + parameters.alphaMapUv : '',\n\t\t\tparameters.lightMapUv ? '#define LIGHTMAP_UV ' + parameters.lightMapUv : '',\n\t\t\tparameters.aoMapUv ? '#define AOMAP_UV ' + parameters.aoMapUv : '',\n\t\t\tparameters.emissiveMapUv ? '#define EMISSIVEMAP_UV ' + parameters.emissiveMapUv : '',\n\t\t\tparameters.bumpMapUv ? '#define BUMPMAP_UV ' + parameters.bumpMapUv : '',\n\t\t\tparameters.normalMapUv ? '#define NORMALMAP_UV ' + parameters.normalMapUv : '',\n\t\t\tparameters.displacementMapUv ? '#define DISPLACEMENTMAP_UV ' + parameters.displacementMapUv : '',\n\n\t\t\tparameters.metalnessMapUv ? '#define METALNESSMAP_UV ' + parameters.metalnessMapUv : '',\n\t\t\tparameters.roughnessMapUv ? '#define ROUGHNESSMAP_UV ' + parameters.roughnessMapUv : '',\n\n\t\t\tparameters.clearcoatMapUv ? '#define CLEARCOATMAP_UV ' + parameters.clearcoatMapUv : '',\n\t\t\tparameters.clearcoatNormalMapUv ? '#define CLEARCOAT_NORMALMAP_UV ' + parameters.clearcoatNormalMapUv : '',\n\t\t\tparameters.clearcoatRoughnessMapUv ? '#define CLEARCOAT_ROUGHNESSMAP_UV ' + parameters.clearcoatRoughnessMapUv : '',\n\n\t\t\tparameters.iridescenceMapUv ? '#define IRIDESCENCEMAP_UV ' + parameters.iridescenceMapUv : '',\n\t\t\tparameters.iridescenceThicknessMapUv ? '#define IRIDESCENCE_THICKNESSMAP_UV ' + parameters.iridescenceThicknessMapUv : '',\n\n\t\t\tparameters.sheenColorMapUv ? '#define SHEEN_COLORMAP_UV ' + parameters.sheenColorMapUv : '',\n\t\t\tparameters.sheenRoughnessMapUv ? '#define SHEEN_ROUGHNESSMAP_UV ' + parameters.sheenRoughnessMapUv : '',\n\n\t\t\tparameters.specularMapUv ? '#define SPECULARMAP_UV ' + parameters.specularMapUv : '',\n\t\t\tparameters.specularColorMapUv ? '#define SPECULAR_COLORMAP_UV ' + parameters.specularColorMapUv : '',\n\t\t\tparameters.specularIntensityMapUv ? '#define SPECULAR_INTENSITYMAP_UV ' + parameters.specularIntensityMapUv : '',\n\n\t\t\tparameters.transmissionMapUv ? '#define TRANSMISSIONMAP_UV ' + parameters.transmissionMapUv : '',\n\t\t\tparameters.thicknessMapUv ? '#define THICKNESSMAP_UV ' + parameters.thicknessMapUv : '',\n\n\t\t\t//\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs2 ? '#define USE_UV2' : '',\n\n\t\t\tparameters.pointsUvs ? '#define USE_POINTS_UV' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\t( parameters.morphColors && parameters.isWebGL2 ) ? '#define USE_MORPHCOLORS' : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_TEXTURE' : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_TEXTURE_STRIDE ' + parameters.morphTextureStride : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_COUNT ' + parameters.morphTargetsCount : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if defined( USE_COLOR_ALPHA )',\n\n\t\t\t'\tattribute vec4 color;',\n\n\t\t\t'#elif defined( USE_COLOR )',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.useFog && parameters.fog ? '#define USE_FOG' : '',\n\t\t\tparameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_TEXEL_WIDTH ' + envMapCubeUVSize.texelWidth : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_TEXEL_HEIGHT ' + envMapCubeUVSize.texelHeight : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_MAX_MIP ' + envMapCubeUVSize.maxMip + '.0' : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\tparameters.normalMapObjectSpace ? '#define USE_NORMALMAP_OBJECTSPACE' : '',\n\t\t\tparameters.normalMapTangentSpace ? '#define USE_NORMALMAP_TANGENTSPACE' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\n\t\t\tparameters.clearcoat ? '#define USE_CLEARCOAT' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\n\t\t\tparameters.iridescence ? '#define USE_IRIDESCENCE' : '',\n\t\t\tparameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '',\n\t\t\tparameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '',\n\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularColorMap ? '#define USE_SPECULAR_COLORMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULAR_INTENSITYMAP' : '',\n\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.alphaTest ? '#define USE_ALPHATEST' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\t\t\tparameters.sheenColorMap ? '#define USE_SHEEN_COLORMAP' : '',\n\t\t\tparameters.sheenRoughnessMap ? '#define USE_SHEEN_ROUGHNESSMAP' : '',\n\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.decodeVideoTexture ? '#define DECODE_VIDEO_TEXTURE' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs2 ? '#define USE_UV2' : '',\n\n\t\t\tparameters.pointsUvs ? '#define USE_POINTS_UV' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.useLegacyLights ? '#define LEGACY_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\t\t\tparameters.opaque ? '#define OPAQUE' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.useDepthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'precision mediump sampler2DArray;',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'layout(location = 0) out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tif ( typeof renderer.debug.onShaderError === 'function' ) {\n\n\t\t\t\trenderer.debug.onShaderError( gl, program, glVertexShader, glFragmentShader );\n\n\t\t\t} else {\n\n\t\t\t\t// default error reporting\n\n\t\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\t\tconsole.error(\n\t\t\t\t\t'THREE.WebGLProgram: Shader Error ' + gl.getError() + ' - ' +\n\t\t\t\t\t'VALIDATE_STATUS ' + gl.getProgramParameter( program, 35715 ) + '\\n\\n' +\n\t\t\t\t\t'Program Info Log: ' + programLog + '\\n' +\n\t\t\t\t\tvertexErrors + '\\n' +\n\t\t\t\t\tfragmentErrors\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Program Info Log:', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nlet _id = 0;\n\nclass WebGLShaderCache {\n\n\tconstructor() {\n\n\t\tthis.shaderCache = new Map();\n\t\tthis.materialCache = new Map();\n\n\t}\n\n\tupdate( material ) {\n\n\t\tconst vertexShader = material.vertexShader;\n\t\tconst fragmentShader = material.fragmentShader;\n\n\t\tconst vertexShaderStage = this._getShaderStage( vertexShader );\n\t\tconst fragmentShaderStage = this._getShaderStage( fragmentShader );\n\n\t\tconst materialShaders = this._getShaderCacheForMaterial( material );\n\n\t\tif ( materialShaders.has( vertexShaderStage ) === false ) {\n\n\t\t\tmaterialShaders.add( vertexShaderStage );\n\t\t\tvertexShaderStage.usedTimes ++;\n\n\t\t}\n\n\t\tif ( materialShaders.has( fragmentShaderStage ) === false ) {\n\n\t\t\tmaterialShaders.add( fragmentShaderStage );\n\t\t\tfragmentShaderStage.usedTimes ++;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( material ) {\n\n\t\tconst materialShaders = this.materialCache.get( material );\n\n\t\tfor ( const shaderStage of materialShaders ) {\n\n\t\t\tshaderStage.usedTimes --;\n\n\t\t\tif ( shaderStage.usedTimes === 0 ) this.shaderCache.delete( shaderStage.code );\n\n\t\t}\n\n\t\tthis.materialCache.delete( material );\n\n\t\treturn this;\n\n\t}\n\n\tgetVertexShaderID( material ) {\n\n\t\treturn this._getShaderStage( material.vertexShader ).id;\n\n\t}\n\n\tgetFragmentShaderID( material ) {\n\n\t\treturn this._getShaderStage( material.fragmentShader ).id;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shaderCache.clear();\n\t\tthis.materialCache.clear();\n\n\t}\n\n\t_getShaderCacheForMaterial( material ) {\n\n\t\tconst cache = this.materialCache;\n\t\tlet set = cache.get( material );\n\n\t\tif ( set === undefined ) {\n\n\t\t\tset = new Set();\n\t\t\tcache.set( material, set );\n\n\t\t}\n\n\t\treturn set;\n\n\t}\n\n\t_getShaderStage( code ) {\n\n\t\tconst cache = this.shaderCache;\n\t\tlet stage = cache.get( code );\n\n\t\tif ( stage === undefined ) {\n\n\t\t\tstage = new WebGLShaderStage( code );\n\t\t\tcache.set( code, stage );\n\n\t\t}\n\n\t\treturn stage;\n\n\t}\n\n}\n\nclass WebGLShaderStage {\n\n\tconstructor( code ) {\n\n\t\tthis.id = _id ++;\n\n\t\tthis.code = code;\n\t\tthis.usedTimes = 0;\n\n\t}\n\n}\n\nfunction WebGLPrograms( renderer, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst _programLayers = new Layers();\n\tconst _customShaders = new WebGLShaderCache();\n\tconst programs = [];\n\n\tconst IS_WEBGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst SUPPORTS_VERTEX_TEXTURES = capabilities.vertexTextures;\n\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tfunction getChannel( value ) {\n\n\t\tif ( value === 1 ) return 'uv2';\n\n\t\treturn 'uv';\n\n\t}\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst geometry = object.geometry;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\t\tconst envMapCubeUVHeight = ( !! envMap ) && ( envMap.mapping === CubeUVReflectionMapping ) ? envMap.image.height : null;\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\tlet morphTextureStride = 0;\n\n\t\tif ( geometry.morphAttributes.position !== undefined ) morphTextureStride = 1;\n\t\tif ( geometry.morphAttributes.normal !== undefined ) morphTextureStride = 2;\n\t\tif ( geometry.morphAttributes.color !== undefined ) morphTextureStride = 3;\n\n\t\t//\n\n\t\tlet vertexShader, fragmentShader;\n\t\tlet customVertexShaderID, customFragmentShaderID;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t\t_customShaders.update( material );\n\n\t\t\tcustomVertexShaderID = _customShaders.getVertexShaderID( material );\n\t\t\tcustomFragmentShaderID = _customShaders.getFragmentShaderID( material );\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst IS_INSTANCEDMESH = object.isInstancedMesh === true;\n\n\t\tconst HAS_MAP = !! material.map;\n\t\tconst HAS_MATCAP = !! material.matcap;\n\t\tconst HAS_ENVMAP = !! envMap;\n\t\tconst HAS_AOMAP = !! material.aoMap;\n\t\tconst HAS_LIGHTMAP = !! material.lightMap;\n\t\tconst HAS_BUMPMAP = !! material.bumpMap;\n\t\tconst HAS_NORMALMAP = !! material.normalMap;\n\t\tconst HAS_DISPLACEMENTMAP = !! material.displacementMap;\n\t\tconst HAS_EMISSIVEMAP = !! material.emissiveMap;\n\n\t\tconst HAS_METALNESSMAP = !! material.metalnessMap;\n\t\tconst HAS_ROUGHNESSMAP = !! material.roughnessMap;\n\n\t\tconst HAS_CLEARCOAT = material.clearcoat > 0;\n\t\tconst HAS_IRIDESCENCE = material.iridescence > 0;\n\t\tconst HAS_SHEEN = material.sheen > 0;\n\t\tconst HAS_TRANSMISSION = material.transmission > 0;\n\n\t\tconst HAS_CLEARCOATMAP = HAS_CLEARCOAT && !! material.clearcoatMap;\n\t\tconst HAS_CLEARCOAT_NORMALMAP = HAS_CLEARCOAT && !! material.clearcoatNormalMap;\n\t\tconst HAS_CLEARCOAT_ROUGHNESSMAP = HAS_CLEARCOAT && !! material.clearcoatRoughnessMap;\n\n\t\tconst HAS_IRIDESCENCEMAP = HAS_IRIDESCENCE && !! material.iridescenceMap;\n\t\tconst HAS_IRIDESCENCE_THICKNESSMAP = HAS_IRIDESCENCE && !! material.iridescenceThicknessMap;\n\n\t\tconst HAS_SHEEN_COLORMAP = HAS_SHEEN && !! material.sheenColorMap;\n\t\tconst HAS_SHEEN_ROUGHNESSMAP = HAS_SHEEN && !! material.sheenRoughnessMap;\n\n\t\tconst HAS_SPECULARMAP = !! material.specularMap;\n\t\tconst HAS_SPECULAR_COLORMAP = !! material.specularColorMap;\n\t\tconst HAS_SPECULAR_INTENSITYMAP = !! material.specularIntensityMap;\n\n\t\tconst HAS_TRANSMISSIONMAP = HAS_TRANSMISSION && !! material.transmissionMap;\n\t\tconst HAS_THICKNESSMAP = HAS_TRANSMISSION && !! material.thicknessMap;\n\n\t\tconst HAS_GRADIENTMAP = !! material.gradientMap;\n\n\t\tconst HAS_ALPHAMAP = !! material.alphaMap;\n\n\t\tconst HAS_ALPHATEST = material.alphaTest > 0;\n\n\t\tconst HAS_EXTENSIONS = !! material.extensions;\n\n\t\tconst HAS_ATTRIBUTE_UV2 = !! geometry.attributes.uv2;\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: IS_WEBGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tcustomVertexShaderID: customVertexShaderID,\n\t\t\tcustomFragmentShaderID: customFragmentShaderID,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: IS_INSTANCEDMESH,\n\t\t\tinstancingColor: IS_INSTANCEDMESH && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: SUPPORTS_VERTEX_TEXTURES,\n\t\t\toutputEncoding: ( currentRenderTarget === null ) ? renderer.outputEncoding : ( currentRenderTarget.isXRRenderTarget === true ? currentRenderTarget.texture.encoding : LinearEncoding ),\n\n\t\t\tmap: HAS_MAP,\n\t\t\tmatcap: HAS_MATCAP,\n\t\t\tenvMap: HAS_ENVMAP,\n\t\t\tenvMapMode: HAS_ENVMAP && envMap.mapping,\n\t\t\tenvMapCubeUVHeight: envMapCubeUVHeight,\n\t\t\taoMap: HAS_AOMAP,\n\t\t\tlightMap: HAS_LIGHTMAP,\n\t\t\tbumpMap: HAS_BUMPMAP,\n\t\t\tnormalMap: HAS_NORMALMAP,\n\t\t\tdisplacementMap: SUPPORTS_VERTEX_TEXTURES && HAS_DISPLACEMENTMAP,\n\t\t\temissiveMap: HAS_EMISSIVEMAP,\n\n\t\t\tnormalMapObjectSpace: HAS_NORMALMAP && material.normalMapType === ObjectSpaceNormalMap,\n\t\t\tnormalMapTangentSpace: HAS_NORMALMAP && material.normalMapType === TangentSpaceNormalMap,\n\n\t\t\tdecodeVideoTexture: HAS_MAP && ( material.map.isVideoTexture === true ) && ( material.map.encoding === sRGBEncoding ),\n\n\t\t\tmetalnessMap: HAS_METALNESSMAP,\n\t\t\troughnessMap: HAS_ROUGHNESSMAP,\n\n\t\t\tclearcoat: HAS_CLEARCOAT,\n\t\t\tclearcoatMap: HAS_CLEARCOATMAP,\n\t\t\tclearcoatNormalMap: HAS_CLEARCOAT_NORMALMAP,\n\t\t\tclearcoatRoughnessMap: HAS_CLEARCOAT_ROUGHNESSMAP,\n\n\t\t\tiridescence: HAS_IRIDESCENCE,\n\t\t\tiridescenceMap: HAS_IRIDESCENCEMAP,\n\t\t\tiridescenceThicknessMap: HAS_IRIDESCENCE_THICKNESSMAP,\n\n\t\t\tsheen: HAS_SHEEN,\n\t\t\tsheenColorMap: HAS_SHEEN_COLORMAP,\n\t\t\tsheenRoughnessMap: HAS_SHEEN_ROUGHNESSMAP,\n\n\t\t\tspecularMap: HAS_SPECULARMAP,\n\t\t\tspecularColorMap: HAS_SPECULAR_COLORMAP,\n\t\t\tspecularIntensityMap: HAS_SPECULAR_INTENSITYMAP,\n\n\t\t\ttransmission: HAS_TRANSMISSION,\n\t\t\ttransmissionMap: HAS_TRANSMISSIONMAP,\n\t\t\tthicknessMap: HAS_THICKNESSMAP,\n\n\t\t\tgradientMap: HAS_GRADIENTMAP,\n\n\t\t\topaque: material.transparent === false && material.blending === NormalBlending,\n\n\t\t\talphaMap: HAS_ALPHAMAP,\n\t\t\talphaTest: HAS_ALPHATEST,\n\n\t\t\tcombine: material.combine,\n\n\t\t\t//\n\n\t\t\tmapUv: HAS_MAP && getChannel( material.map.channel ),\n\t\t\taoMapUv: HAS_AOMAP && getChannel( material.aoMap.channel ),\n\t\t\tlightMapUv: HAS_LIGHTMAP && getChannel( material.lightMap.channel ),\n\t\t\tbumpMapUv: HAS_BUMPMAP && getChannel( material.bumpMap.channel ),\n\t\t\tnormalMapUv: HAS_NORMALMAP && getChannel( material.normalMap.channel ),\n\t\t\tdisplacementMapUv: HAS_DISPLACEMENTMAP && getChannel( material.displacementMap.channel ),\n\t\t\temissiveMapUv: HAS_EMISSIVEMAP && getChannel( material.emissiveMap.channel ),\n\n\t\t\tmetalnessMapUv: HAS_METALNESSMAP && getChannel( material.metalnessMap.channel ),\n\t\t\troughnessMapUv: HAS_ROUGHNESSMAP && getChannel( material.roughnessMap.channel ),\n\n\t\t\tclearcoatMapUv: HAS_CLEARCOATMAP && getChannel( material.clearcoatMap.channel ),\n\t\t\tclearcoatNormalMapUv: HAS_CLEARCOAT_NORMALMAP && getChannel( material.clearcoatNormalMap.channel ),\n\t\t\tclearcoatRoughnessMapUv: HAS_CLEARCOAT_ROUGHNESSMAP && getChannel( material.clearcoatRoughnessMap.channel ),\n\n\t\t\tiridescenceMapUv: HAS_IRIDESCENCEMAP && getChannel( material.iridescenceMap.channel ),\n\t\t\tiridescenceThicknessMapUv: HAS_IRIDESCENCE_THICKNESSMAP && getChannel( material.iridescenceThicknessMap.channel ),\n\n\t\t\tsheenColorMapUv: HAS_SHEEN_COLORMAP && getChannel( material.sheenColorMap.channel ),\n\t\t\tsheenRoughnessMapUv: HAS_SHEEN_ROUGHNESSMAP && getChannel( material.sheenRoughnessMap.channel ),\n\n\t\t\tspecularMapUv: HAS_SPECULARMAP && getChannel( material.specularMap.channel ),\n\t\t\tspecularColorMapUv: HAS_SPECULAR_COLORMAP && getChannel( material.specularColorMap.channel ),\n\t\t\tspecularIntensityMapUv: HAS_SPECULAR_INTENSITYMAP && getChannel( material.specularIntensityMap.channel ),\n\n\t\t\ttransmissionMapUv: HAS_TRANSMISSIONMAP && getChannel( material.transmissionMap.channel ),\n\t\t\tthicknessMapUv: HAS_THICKNESSMAP && getChannel( material.thicknessMap.channel ),\n\n\t\t\talphaMapUv: HAS_ALPHAMAP && getChannel( material.alphaMap.channel ),\n\n\t\t\t//\n\n\t\t\tvertexTangents: HAS_NORMALMAP && !! geometry.attributes.tangent,\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexAlphas: material.vertexColors === true && !! geometry.attributes.color && geometry.attributes.color.itemSize === 4,\n\t\t\tvertexUvs2: HAS_ATTRIBUTE_UV2,\n\n\t\t\tpointsUvs: object.isPoints === true && !! geometry.attributes.uv && ( HAS_MAP || HAS_ALPHAMAP ),\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog === true,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading === true,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation === true,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: object.isSkinnedMesh === true,\n\n\t\t\tmorphTargets: geometry.morphAttributes.position !== undefined,\n\t\t\tmorphNormals: geometry.morphAttributes.normal !== undefined,\n\t\t\tmorphColors: geometry.morphAttributes.color !== undefined,\n\t\t\tmorphTargetsCount: morphTargetsCount,\n\t\t\tmorphTextureStride: morphTextureStride,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumSpotLightMaps: lights.spotLightMap.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\t\t\tnumSpotLightShadowsWithMaps: lights.numSpotLightShadowsWithMaps,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tuseLegacyLights: renderer.useLegacyLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tuseDepthPacking: material.depthPacking >= 0,\n\t\t\tdepthPacking: material.depthPacking || 0,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: HAS_EXTENSIONS && material.extensions.derivatives === true,\n\t\t\textensionFragDepth: HAS_EXTENSIONS && material.extensions.fragDepth === true,\n\t\t\textensionDrawBuffers: HAS_EXTENSIONS && material.extensions.drawBuffers === true,\n\t\t\textensionShaderTextureLOD: HAS_EXTENSIONS && material.extensions.shaderTextureLOD === true,\n\n\t\t\trendererExtensionFragDepth: IS_WEBGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: IS_WEBGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: IS_WEBGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.customVertexShaderID );\n\t\t\tarray.push( parameters.customFragmentShaderID );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tgetProgramCacheKeyParameters( array, parameters );\n\t\t\tgetProgramCacheKeyBooleans( array, parameters );\n\t\t\tarray.push( renderer.outputEncoding );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getProgramCacheKeyParameters( array, parameters ) {\n\n\t\tarray.push( parameters.precision );\n\t\tarray.push( parameters.outputEncoding );\n\t\tarray.push( parameters.envMapMode );\n\t\tarray.push( parameters.envMapCubeUVHeight );\n\t\tarray.push( parameters.mapUv );\n\t\tarray.push( parameters.alphaMapUv );\n\t\tarray.push( parameters.lightMapUv );\n\t\tarray.push( parameters.aoMapUv );\n\t\tarray.push( parameters.bumpMapUv );\n\t\tarray.push( parameters.normalMapUv );\n\t\tarray.push( parameters.displacementMapUv );\n\t\tarray.push( parameters.emissiveMapUv );\n\t\tarray.push( parameters.metalnessMapUv );\n\t\tarray.push( parameters.roughnessMapUv );\n\t\tarray.push( parameters.clearcoatMapUv );\n\t\tarray.push( parameters.clearcoatNormalMapUv );\n\t\tarray.push( parameters.clearcoatRoughnessMapUv );\n\t\tarray.push( parameters.iridescenceMapUv );\n\t\tarray.push( parameters.iridescenceThicknessMapUv );\n\t\tarray.push( parameters.sheenColorMapUv );\n\t\tarray.push( parameters.sheenRoughnessMapUv );\n\t\tarray.push( parameters.specularMapUv );\n\t\tarray.push( parameters.specularColorMapUv );\n\t\tarray.push( parameters.specularIntensityMapUv );\n\t\tarray.push( parameters.transmissionMapUv );\n\t\tarray.push( parameters.thicknessMapUv );\n\t\tarray.push( parameters.combine );\n\t\tarray.push( parameters.fogExp2 );\n\t\tarray.push( parameters.sizeAttenuation );\n\t\tarray.push( parameters.morphTargetsCount );\n\t\tarray.push( parameters.morphAttributeCount );\n\t\tarray.push( parameters.numDirLights );\n\t\tarray.push( parameters.numPointLights );\n\t\tarray.push( parameters.numSpotLights );\n\t\tarray.push( parameters.numSpotLightMaps );\n\t\tarray.push( parameters.numHemiLights );\n\t\tarray.push( parameters.numRectAreaLights );\n\t\tarray.push( parameters.numDirLightShadows );\n\t\tarray.push( parameters.numPointLightShadows );\n\t\tarray.push( parameters.numSpotLightShadows );\n\t\tarray.push( parameters.numSpotLightShadowsWithMaps );\n\t\tarray.push( parameters.shadowMapType );\n\t\tarray.push( parameters.toneMapping );\n\t\tarray.push( parameters.numClippingPlanes );\n\t\tarray.push( parameters.numClipIntersection );\n\t\tarray.push( parameters.depthPacking );\n\n\t}\n\n\tfunction getProgramCacheKeyBooleans( array, parameters ) {\n\n\t\t_programLayers.disableAll();\n\n\t\tif ( parameters.isWebGL2 )\n\t\t\t_programLayers.enable( 0 );\n\t\tif ( parameters.supportsVertexTextures )\n\t\t\t_programLayers.enable( 1 );\n\t\tif ( parameters.instancing )\n\t\t\t_programLayers.enable( 2 );\n\t\tif ( parameters.instancingColor )\n\t\t\t_programLayers.enable( 3 );\n\t\tif ( parameters.matcap )\n\t\t\t_programLayers.enable( 4 );\n\t\tif ( parameters.envMap )\n\t\t\t_programLayers.enable( 5 );\n\t\tif ( parameters.normalMapObjectSpace )\n\t\t\t_programLayers.enable( 6 );\n\t\tif ( parameters.normalMapTangentSpace )\n\t\t\t_programLayers.enable( 7 );\n\t\tif ( parameters.clearcoat )\n\t\t\t_programLayers.enable( 8 );\n\t\tif ( parameters.iridescence )\n\t\t\t_programLayers.enable( 9 );\n\t\tif ( parameters.alphaTest )\n\t\t\t_programLayers.enable( 10 );\n\t\tif ( parameters.vertexColors )\n\t\t\t_programLayers.enable( 11 );\n\t\tif ( parameters.vertexAlphas )\n\t\t\t_programLayers.enable( 12 );\n\t\tif ( parameters.vertexUvs2 )\n\t\t\t_programLayers.enable( 13 );\n\t\tif ( parameters.vertexTangents )\n\t\t\t_programLayers.enable( 14 );\n\n\t\tarray.push( _programLayers.mask );\n\t\t_programLayers.disableAll();\n\n\t\tif ( parameters.fog )\n\t\t\t_programLayers.enable( 0 );\n\t\tif ( parameters.useFog )\n\t\t\t_programLayers.enable( 1 );\n\t\tif ( parameters.flatShading )\n\t\t\t_programLayers.enable( 2 );\n\t\tif ( parameters.logarithmicDepthBuffer )\n\t\t\t_programLayers.enable( 3 );\n\t\tif ( parameters.skinning )\n\t\t\t_programLayers.enable( 4 );\n\t\tif ( parameters.morphTargets )\n\t\t\t_programLayers.enable( 5 );\n\t\tif ( parameters.morphNormals )\n\t\t\t_programLayers.enable( 6 );\n\t\tif ( parameters.morphColors )\n\t\t\t_programLayers.enable( 7 );\n\t\tif ( parameters.premultipliedAlpha )\n\t\t\t_programLayers.enable( 8 );\n\t\tif ( parameters.shadowMapEnabled )\n\t\t\t_programLayers.enable( 9 );\n\t\tif ( parameters.useLegacyLights )\n\t\t\t_programLayers.enable( 10 );\n\t\tif ( parameters.doubleSided )\n\t\t\t_programLayers.enable( 11 );\n\t\tif ( parameters.flipSided )\n\t\t\t_programLayers.enable( 12 );\n\t\tif ( parameters.useDepthPacking )\n\t\t\t_programLayers.enable( 13 );\n\t\tif ( parameters.dithering )\n\t\t\t_programLayers.enable( 14 );\n\t\tif ( parameters.transmission )\n\t\t\t_programLayers.enable( 15 );\n\t\tif ( parameters.sheen )\n\t\t\t_programLayers.enable( 16 );\n\t\tif ( parameters.decodeVideoTexture )\n\t\t\t_programLayers.enable( 17 );\n\t\tif ( parameters.opaque )\n\t\t\t_programLayers.enable( 18 );\n\t\tif ( parameters.pointsUvs )\n\t\t\t_programLayers.enable( 19 );\n\n\t\tarray.push( _programLayers.mask );\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\tfunction releaseShaderCache( material ) {\n\n\t\t_customShaders.remove( material );\n\n\t}\n\n\tfunction dispose() {\n\n\t\t_customShaders.dispose();\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\treleaseShaderCache: releaseShaderCache,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transmissive = [];\n\tconst transparent = [];\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransmissive.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.push( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.push( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.push( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.unshift( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.unshift( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.unshift( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transmissive.length > 1 ) transmissive.sort( customTransparentSort || reversePainterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransmissive: transmissive,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, renderCallDepth ) {\n\n\t\tconst listArray = lists.get( scene );\n\t\tlet list;\n\n\t\tif ( listArray === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists.set( scene, [ list ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= listArray.length ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tlistArray.push( list );\n\n\t\t\t} else {\n\n\t\t\t\tlist = listArray[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingAndTexturingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 2 : 0 ) - ( lightA.castShadow ? 2 : 0 ) + ( lightB.map ? 1 : 0 ) - ( lightA.map ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1,\n\t\t\tnumSpotMaps: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotLightMap: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotLightMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: [],\n\t\tnumSpotLightShadowsWithMaps: 0\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights, useLegacyLights ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\t\tlet numSpotMaps = 0;\n\t\tlet numSpotShadowsWithMaps = 0;\n\n\t\t// ordering : [shadow casting + map texturing, map texturing, shadow casting, none ]\n\t\tlights.sort( shadowCastingAndTexturingLightsFirst );\n\n\t\t// artist-friendly light intensity scaling factor\n\t\tconst scaleFactor = ( useLegacyLights === true ) ? Math.PI : 1;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity * scaleFactor;\n\t\t\t\tg += color.g * intensity * scaleFactor;\n\t\t\t\tb += color.b * intensity * scaleFactor;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity * scaleFactor );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity * scaleFactor );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\tif ( light.map ) {\n\n\t\t\t\t\tstate.spotLightMap[ numSpotMaps ] = light.map;\n\t\t\t\t\tnumSpotMaps ++;\n\n\t\t\t\t\t// make sure the lightMatrix is up to date\n\t\t\t\t\t// TODO : do it if required only\n\t\t\t\t\tshadow.updateMatrices( light );\n\n\t\t\t\t\tif ( light.castShadow ) numSpotShadowsWithMaps ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spotLightMatrix[ spotLength ] = shadow.matrix;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity * scaleFactor );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity * scaleFactor );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity * scaleFactor );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ||\n\t\t\thash.numSpotMaps !== numSpotMaps ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotLightMatrix.length = numSpotShadows + numSpotMaps - numSpotShadowsWithMaps;\n\t\t\tstate.spotLightMap.length = numSpotMaps;\n\t\t\tstate.numSpotLightShadowsWithMaps = numSpotShadowsWithMaps;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\t\t\thash.numSpotMaps = numSpotMaps;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\tfunction setupView( lights, camera ) {\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tif ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = state.directional[ directionalLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = state.spot[ spotLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = state.rectArea[ rectAreaLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = state.point[ pointLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = state.hemi[ hemiLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tsetupView: setupView,\n\t\tstate: state\n\t};\n\n}\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( useLegacyLights ) {\n\n\t\tlights.setup( lightsArray, useLegacyLights );\n\n\t}\n\n\tfunction setupLightsView( camera ) {\n\n\t\tlights.setupView( lightsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\t\tsetupLightsView: setupLightsView,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, renderCallDepth = 0 ) {\n\n\t\tconst renderStateArray = renderStates.get( scene );\n\t\tlet renderState;\n\n\t\tif ( renderStateArray === undefined ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, [ renderState ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= renderStateArray.length ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStateArray.push( renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStateArray[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nclass MeshDepthMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshDepthMaterial = true;\n\n\t\tthis.type = 'MeshDepthMaterial';\n\n\t\tthis.depthPacking = BasicDepthPacking;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.depthPacking = source.depthPacking;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshDistanceMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshDistanceMaterial = true;\n\n\t\tthis.type = 'MeshDistanceMaterial';\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst vertex = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nconst fragment = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tconst float samples = float( VSM_SAMPLES );\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\\n\\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\\n\\tfor ( float i = 0.0; i < samples; i ++ ) {\\n\\t\\tfloat uvOffset = uvStart + i * uvStride;\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean / samples;\\n\\tsquared_mean = squared_mean / samples;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nfunction WebGLShadowMap( _renderer, _objects, _capabilities ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterial = new MeshDepthMaterial( { depthPacking: RGBADepthPacking } ),\n\t\t_distanceMaterial = new MeshDistanceMaterial(),\n\n\t\t_materialCache = {},\n\n\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\tconst shadowSide = { [ FrontSide ]: BackSide, [ BackSide ]: FrontSide, [ DoubleSide ]: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\t\tdefines: {\n\t\t\tVSM_SAMPLES: 8\n\t\t},\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vertex,\n\t\tfragmentShader: fragment\n\n\t} );\n\n\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t'position',\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( _maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( _maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = ( this.type !== VSMShadowMap ) ? { minFilter: NearestFilter, magFilter: NearestFilter } : {};\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( shadow.isPointLightShadow !== true && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\tif ( shadowMaterialVertical.defines.VSM_SAMPLES !== shadow.blurSamples ) {\n\n\t\t\tshadowMaterialVertical.defines.VSM_SAMPLES = shadow.blurSamples;\n\t\t\tshadowMaterialHorizontal.defines.VSM_SAMPLES = shadow.blurSamples;\n\n\t\t\tshadowMaterialVertical.needsUpdate = true;\n\t\t\tshadowMaterialHorizontal.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( shadow.mapPass === null ) {\n\n\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y );\n\n\t\t}\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizontal pass\n\n\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterial( object, material, light, type ) {\n\n\t\tlet result = null;\n\n\t\tconst customMaterial = ( light.isPointLight === true ) ? object.customDistanceMaterial : object.customDepthMaterial;\n\n\t\tif ( customMaterial !== undefined ) {\n\n\t\t\tresult = customMaterial;\n\n\t\t} else {\n\n\t\t\tresult = ( light.isPointLight === true ) ? _distanceMaterial : _depthMaterial;\n\n\t\t\tif ( ( _renderer.localClippingEnabled && material.clipShadows === true && Array.isArray( material.clippingPlanes ) && material.clippingPlanes.length !== 0 ) ||\n\t\t\t\t( material.displacementMap && material.displacementScale !== 0 ) ||\n\t\t\t\t( material.alphaMap && material.alphaTest > 0 ) ||\n\t\t\t\t( material.map && material.alphaTest > 0 ) ) {\n\n\t\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t\t// appropriate state\n\n\t\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t\t}\n\n\t\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t\t}\n\n\t\t\t\tresult = cachedMaterial;\n\n\t\t\t}\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.alphaMap = material.alphaMap;\n\t\tresult.alphaTest = material.alphaTest;\n\t\tresult.map = material.map;\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.displacementMap = material.displacementMap;\n\t\tresult.displacementScale = material.displacementScale;\n\t\tresult.displacementBias = material.displacementBias;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tconst materialProperties = _renderer.properties.get( result );\n\t\t\tmaterialProperties.light = light;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, groupMaterial, light, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, material, light, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tconst uboBindings = new WeakMap();\n\tconst uboProgramMap = new WeakMap();\n\n\tlet enabledCapabilities = {};\n\n\tlet currentBoundFramebuffers = {};\n\tlet currentDrawbuffers = new WeakMap();\n\tlet defaultDrawbuffers = [];\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = false;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL ES (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst scissorParam = gl.getParameter( 3088 );\n\tconst viewportParam = gl.getParameter( 2978 );\n\n\tconst currentScissor = new Vector4().fromArray( scissorParam );\n\tconst currentViewport = new Vector4().fromArray( viewportParam );\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction bindFramebuffer( target, framebuffer ) {\n\n\t\tif ( currentBoundFramebuffers[ target ] !== framebuffer ) {\n\n\t\t\tgl.bindFramebuffer( target, framebuffer );\n\n\t\t\tcurrentBoundFramebuffers[ target ] = framebuffer;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t// 36009 is equivalent to 36160\n\n\t\t\t\tif ( target === 36009 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36160 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t\tif ( target === 36160 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36009 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction drawBuffers( renderTarget, framebuffer ) {\n\n\t\tlet drawBuffers = defaultDrawbuffers;\n\n\t\tlet needsUpdate = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tdrawBuffers = currentDrawbuffers.get( framebuffer );\n\n\t\t\tif ( drawBuffers === undefined ) {\n\n\t\t\t\tdrawBuffers = [];\n\t\t\t\tcurrentDrawbuffers.set( framebuffer, drawBuffers );\n\n\t\t\t}\n\n\t\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\tif ( drawBuffers.length !== textures.length || drawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tdrawBuffers[ i ] = 36064 + i;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tdrawBuffers.length = textures.length;\n\n\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( drawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\tdrawBuffers[ 0 ] = 36064;\n\n\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( drawBuffers[ 0 ] !== 1029 ) {\n\n\t\t\t\tdrawBuffers[ 0 ] = 1029;\n\n\t\t\t\tneedsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgl.drawBuffers( drawBuffers );\n\n\t\t\t} else {\n\n\t\t\t\textensions.get( 'WEBGL_draw_buffers' ).drawBuffersWEBGL( drawBuffers );\n\n\t\t\t}\n\n\t\t}\n\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled === true ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( currentBlendingEnabled === false ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 769, 0, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 769, 0, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = false;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\tmaterial.alphaToCoverage === true\n\t\t\t? enable( 32926 )\n\t\t\t: disable( 32926 );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture, webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) {\n\n\t\t\tif ( currentTextureSlot === null ) {\n\n\t\t\t\twebglSlot = 33984 + maxTextures - 1;\n\n\t\t\t} else {\n\n\t\t\t\twebglSlot = currentTextureSlot;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ webglSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ webglSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\t\tgl.activeTexture( webglSlot );\n\t\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t\t}\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texSubImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texSubImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texSubImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texSubImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexSubImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexSubImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexSubImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexSubImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texStorage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texStorage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texStorage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texStorage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\tfunction updateUBOMapping( uniformsGroup, program ) {\n\n\t\tlet mapping = uboProgramMap.get( program );\n\n\t\tif ( mapping === undefined ) {\n\n\t\t\tmapping = new WeakMap();\n\n\t\t\tuboProgramMap.set( program, mapping );\n\n\t\t}\n\n\t\tlet blockIndex = mapping.get( uniformsGroup );\n\n\t\tif ( blockIndex === undefined ) {\n\n\t\t\tblockIndex = gl.getUniformBlockIndex( program, uniformsGroup.name );\n\n\t\t\tmapping.set( uniformsGroup, blockIndex );\n\n\t\t}\n\n\t}\n\n\tfunction uniformBlockBinding( uniformsGroup, program ) {\n\n\t\tconst mapping = uboProgramMap.get( program );\n\t\tconst blockIndex = mapping.get( uniformsGroup );\n\n\t\tif ( uboBindings.get( program ) !== blockIndex ) {\n\n\t\t\t// bind shader specific block index to global block point\n\t\t\tgl.uniformBlockBinding( program, blockIndex, uniformsGroup.__bindingPointIndex );\n\n\t\t\tuboBindings.set( program, blockIndex );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\t// reset state\n\n\t\tgl.disable( 3042 );\n\t\tgl.disable( 2884 );\n\t\tgl.disable( 2929 );\n\t\tgl.disable( 32823 );\n\t\tgl.disable( 3089 );\n\t\tgl.disable( 2960 );\n\t\tgl.disable( 32926 );\n\n\t\tgl.blendEquation( 32774 );\n\t\tgl.blendFunc( 1, 0 );\n\t\tgl.blendFuncSeparate( 1, 0, 1, 0 );\n\n\t\tgl.colorMask( true, true, true, true );\n\t\tgl.clearColor( 0, 0, 0, 0 );\n\n\t\tgl.depthMask( true );\n\t\tgl.depthFunc( 513 );\n\t\tgl.clearDepth( 1 );\n\n\t\tgl.stencilMask( 0xffffffff );\n\t\tgl.stencilFunc( 519, 0, 0xffffffff );\n\t\tgl.stencilOp( 7680, 7680, 7680 );\n\t\tgl.clearStencil( 0 );\n\n\t\tgl.cullFace( 1029 );\n\t\tgl.frontFace( 2305 );\n\n\t\tgl.polygonOffset( 0, 0 );\n\n\t\tgl.activeTexture( 33984 );\n\n\t\tgl.bindFramebuffer( 36160, null );\n\n\t\tif ( isWebGL2 === true ) {\n\n\t\t\tgl.bindFramebuffer( 36009, null );\n\t\t\tgl.bindFramebuffer( 36008, null );\n\n\t\t}\n\n\t\tgl.useProgram( null );\n\n\t\tgl.lineWidth( 1 );\n\n\t\tgl.scissor( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tgl.viewport( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\t// reset internals\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentBoundFramebuffers = {};\n\t\tcurrentDrawbuffers = new WeakMap();\n\t\tdefaultDrawbuffers = [];\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlendingEnabled = false;\n\t\tcurrentBlending = null;\n\t\tcurrentBlendEquation = null;\n\t\tcurrentBlendSrc = null;\n\t\tcurrentBlendDst = null;\n\t\tcurrentBlendEquationAlpha = null;\n\t\tcurrentBlendSrcAlpha = null;\n\t\tcurrentBlendDstAlpha = null;\n\t\tcurrentPremultipledAlpha = false;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcurrentLineWidth = null;\n\n\t\tcurrentPolygonOffsetFactor = null;\n\t\tcurrentPolygonOffsetUnits = null;\n\n\t\tcurrentScissor.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tcurrentViewport.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tbindFramebuffer: bindFramebuffer,\n\t\tdrawBuffers: drawBuffers,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\tcompressedTexImage3D: compressedTexImage3D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tupdateUBOMapping: updateUBOMapping,\n\t\tuniformBlockBinding: uniformBlockBinding,\n\n\t\ttexStorage2D: texStorage2D,\n\t\ttexStorage3D: texStorage3D,\n\t\ttexSubImage2D: texSubImage2D,\n\t\ttexSubImage3D: texSubImage3D,\n\t\tcompressedTexSubImage2D: compressedTexSubImage2D,\n\t\tcompressedTexSubImage3D: compressedTexSubImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\tconst multisampledRTTExt = extensions.has( 'WEBGL_multisampled_render_to_texture' ) ? extensions.get( 'WEBGL_multisampled_render_to_texture' ) : null;\n\tconst supportsInvalidateFramebuffer = typeof navigator === 'undefined' ? false : /OculusBrowser/g.test( navigator.userAgent );\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\tconst _sources = new WeakMap(); // maps WebglTexture objects to instances of Source\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t// eslint-disable-next-line compat/compat\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( '2d' ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\t// eslint-disable-next-line compat/compat\n\t\t\tnew OffscreenCanvas( width, height ) : createElementNS( 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo$1( image ) {\n\n\t\treturn isPowerOfTwo( image.width ) && isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType, encoding, forceLinearEncoding = false ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 33319 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33328;\n\t\t\tif ( glType === 5131 ) internalFormat = 33327;\n\t\t\tif ( glType === 5121 ) internalFormat = 33323;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = ( encoding === sRGBEncoding && forceLinearEncoding === false ) ? 35907 : 32856;\n\t\t\tif ( glType === 32819 ) internalFormat = 32854;\n\t\t\tif ( glType === 32820 ) internalFormat = 32855;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 33327 || internalFormat === 33328 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\tfunction getMipLevels( texture, image, supportsMips ) {\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) === true || ( texture.isFramebufferTexture && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) ) {\n\n\t\t\treturn Math.log2( Math.max( image.width, image.height ) ) + 1;\n\n\t\t} else if ( texture.mipmaps !== undefined && texture.mipmaps.length > 0 ) {\n\n\t\t\t// user-defined mipmaps\n\n\t\t\treturn texture.mipmaps.length;\n\n\t\t} else if ( texture.isCompressedTexture && Array.isArray( texture.image ) ) {\n\n\t\t\treturn image.mipmaps.length;\n\n\t\t} else {\n\n\t\t\t// texture without mipmaps (only base level)\n\n\t\t\treturn 1;\n\n\t\t}\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t// check if it's necessary to remove the WebGLTexture object\n\n\t\tconst source = texture.source;\n\t\tconst webglTextures = _sources.get( source );\n\n\t\tif ( webglTextures ) {\n\n\t\t\tconst webglTexture = webglTextures[ textureProperties.__cacheKey ];\n\t\t\twebglTexture.usedTimes --;\n\n\t\t\t// the WebGLTexture object is not used anymore, remove it\n\n\t\t\tif ( webglTexture.usedTimes === 0 ) {\n\n\t\t\t\tdeleteTexture( texture );\n\n\t\t\t}\n\n\t\t\t// remove the weak map entry if no WebGLTexture uses the source anymore\n\n\t\t\tif ( Object.keys( webglTextures ).length === 0 ) {\n\n\t\t\t\t_sources.delete( source );\n\n\t\t\t}\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deleteTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tconst source = texture.source;\n\t\tconst webglTextures = _sources.get( source );\n\t\tdelete webglTextures[ textureProperties.__cacheKey ];\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t\tinfo.memory.textures --;\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) {\n\n\t\t\t\tfor ( let i = 0; i < renderTargetProperties.__webglColorRenderbuffer.length; i ++ ) {\n\n\t\t\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer[ i ] ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\tfor ( let i = 0, il = texture.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachmentProperties = properties.get( texture[ i ] );\n\n\t\t\t\tif ( attachmentProperties.__webglTexture ) {\n\n\t\t\t\t\t_gl.deleteTexture( attachmentProperties.__webglTexture );\n\n\t\t\t\t\tinfo.memory.textures --;\n\n\t\t\t\t}\n\n\t\t\t\tproperties.remove( texture[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\tfunction getTextureCacheKey( texture ) {\n\n\t\tconst array = [];\n\n\t\tarray.push( texture.wrapS );\n\t\tarray.push( texture.wrapT );\n\t\tarray.push( texture.wrapR || 0 );\n\t\tarray.push( texture.magFilter );\n\t\tarray.push( texture.minFilter );\n\t\tarray.push( texture.anisotropy );\n\t\tarray.push( texture.internalFormat );\n\t\tarray.push( texture.format );\n\t\tarray.push( texture.type );\n\t\tarray.push( texture.generateMipmaps );\n\t\tarray.push( texture.premultiplyAlpha );\n\t\tarray.push( texture.flipY );\n\t\tarray.push( texture.unpackAlignment );\n\t\tarray.push( texture.encoding );\n\n\t\treturn array.join();\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.isRenderTargetTexture === false && texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but no image data found.' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture, 33984 + slot );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture, 33984 + slot );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture, 33984 + slot );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture, 33984 + slot );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tif ( texture.magFilter === NearestFilter ) return;\n\t\t\tif ( texture.minFilter !== NearestMipmapLinearFilter && texture.minFilter !== LinearMipmapLinearFilter ) return;\n\t\t\tif ( texture.type === FloatType && extensions.has( 'OES_texture_float_linear' ) === false ) return; // verify extension for WebGL 1 and WebGL 2\n\t\t\tif ( isWebGL2 === false && ( texture.type === HalfFloatType && extensions.has( 'OES_texture_half_float_linear' ) === false ) ) return; // verify extension for WebGL 1 only\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tlet forceUpload = false;\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t}\n\n\t\t// create Source <-> WebGLTextures mapping if necessary\n\n\t\tconst source = texture.source;\n\t\tlet webglTextures = _sources.get( source );\n\n\t\tif ( webglTextures === undefined ) {\n\n\t\t\twebglTextures = {};\n\t\t\t_sources.set( source, webglTextures );\n\n\t\t}\n\n\t\t// check if there is already a WebGLTexture object for the given texture parameters\n\n\t\tconst textureCacheKey = getTextureCacheKey( texture );\n\n\t\tif ( textureCacheKey !== textureProperties.__cacheKey ) {\n\n\t\t\t// if not, create a new instance of WebGLTexture\n\n\t\t\tif ( webglTextures[ textureCacheKey ] === undefined ) {\n\n\t\t\t\t// create new entry\n\n\t\t\t\twebglTextures[ textureCacheKey ] = {\n\t\t\t\t\ttexture: _gl.createTexture(),\n\t\t\t\t\tusedTimes: 0\n\t\t\t\t};\n\n\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t// when a new instance of WebGLTexture was created, a texture upload is required\n\t\t\t\t// even if the image contents are identical\n\n\t\t\t\tforceUpload = true;\n\n\t\t\t}\n\n\t\t\twebglTextures[ textureCacheKey ].usedTimes ++;\n\n\t\t\t// every time the texture cache key changes, it's necessary to check if an instance of\n\t\t\t// WebGLTexture can be deleted in order to avoid a memory leak.\n\n\t\t\tconst webglTexture = webglTextures[ textureProperties.__cacheKey ];\n\n\t\t\tif ( webglTexture !== undefined ) {\n\n\t\t\t\twebglTextures[ textureProperties.__cacheKey ].usedTimes --;\n\n\t\t\t\tif ( webglTexture.usedTimes === 0 ) {\n\n\t\t\t\t\tdeleteTexture( texture );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// store references to cache key and WebGLTexture object\n\n\t\t\ttextureProperties.__cacheKey = textureCacheKey;\n\t\t\ttextureProperties.__webglTexture = webglTextures[ textureCacheKey ].texture;\n\n\t\t}\n\n\t\treturn forceUpload;\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataArrayTexture || texture.isCompressedArrayTexture ) textureType = 35866;\n\t\tif ( texture.isData3DTexture ) textureType = 32879;\n\n\t\tconst forceUpload = initTexture( textureProperties, texture );\n\t\tconst source = texture.source;\n\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture, 33984 + slot );\n\n\t\tconst sourceProperties = properties.get( source );\n\n\t\tif ( source.version !== sourceProperties.__version || forceUpload === true ) {\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo$1( texture.image ) === false;\n\t\t\tlet image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\t\t\timage = verifyColorSpace( texture, image );\n\n\t\t\tconst supportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format, texture.encoding );\n\n\t\t\tlet glType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding, texture.isVideoTexture );\n\n\t\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\t\tlet mipmap;\n\t\t\tconst mipmaps = texture.mipmaps;\n\n\t\t\tconst useTexStorage = ( isWebGL2 && texture.isVideoTexture !== true );\n\t\t\tconst allocateMemory = ( sourceProperties.__version === undefined ) || ( forceUpload === true );\n\t\t\tconst levels = getMipLevels( texture, image, supportsMips );\n\n\t\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t\t// populate depth texture with dummy data\n\n\t\t\t\tglInternalFormat = 6402;\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// validation checks for WebGL 1\n\n\t\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\t\ttexture.type = UnsignedIntType;\n\t\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t//\n\n\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, 1, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage2D( 3553, 0, 0, 0, image.width, image.height, glFormat, glType, image.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\t\tif ( texture.isCompressedArrayTexture ) {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage3D( 35866, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height, image.depth );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexSubImage3D( 35866, i, 0, 0, 0, mipmap.width, mipmap.height, image.depth, glFormat, mipmap.data, 0, 0 );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage3D( 35866, i, glInternalFormat, mipmap.width, mipmap.height, image.depth, 0, mipmap.data, 0, 0 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage3D( 35866, i, 0, 0, 0, mipmap.width, mipmap.height, image.depth, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage3D( 35866, i, glInternalFormat, mipmap.width, mipmap.height, image.depth, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isDataArrayTexture ) {\n\n\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage3D( 35866, levels, glInternalFormat, image.width, image.height, image.depth );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.texSubImage3D( 35866, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isData3DTexture ) {\n\n\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage3D( 32879, levels, glInternalFormat, image.width, image.height, image.depth );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.texSubImage3D( 32879, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isFramebufferTexture ) {\n\n\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tlet width = image.width, height = image.height;\n\n\t\t\t\t\t\tfor ( let i = 0; i < levels; i ++ ) {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, width, height, 0, glFormat, glType, null );\n\n\t\t\t\t\t\t\twidth >>= 1;\n\t\t\t\t\t\t\theight >>= 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, glFormat, glType, mipmap );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage2D( 3553, 0, 0, 0, glFormat, glType, image );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( textureType );\n\n\t\t\t}\n\n\t\t\tsourceProperties.__version = source.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tconst forceUpload = initTexture( textureProperties, texture );\n\t\tconst source = texture.source;\n\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture, 33984 + slot );\n\n\t\tconst sourceProperties = properties.get( source );\n\n\t\tif ( source.version !== sourceProperties.__version || forceUpload === true ) {\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\t\tconst isCompressed = ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture );\n\t\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\tconst cubeImage = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t}\n\n\t\t\t\tcubeImage[ i ] = verifyColorSpace( texture, cubeImage[ i ] );\n\n\t\t\t}\n\n\t\t\tconst image = cubeImage[ 0 ],\n\t\t\t\tsupportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format, texture.encoding ),\n\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\n\t\t\tconst useTexStorage = ( isWebGL2 && texture.isVideoTexture !== true );\n\t\t\tconst allocateMemory = ( sourceProperties.__version === undefined ) || ( forceUpload === true );\n\t\t\tlet levels = getMipLevels( texture, image, supportsMips );\n\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tlet mipmaps;\n\n\t\t\tif ( isCompressed ) {\n\n\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\tstate.texStorage2D( 34067, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D( 34069 + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t// TODO: Uniformly handle mipmap definitions\n\t\t\t\t\t// Normal textures and compressed cube textures define base level + mips with their mipmap array\n\t\t\t\t\t// Uncompressed cube textures use their mipmap array only for mips (no base level)\n\n\t\t\t\t\tif ( mipmaps.length > 0 ) levels ++;\n\n\t\t\t\t\tstate.texStorage2D( 34067, levels, glInternalFormat, cubeImage[ 0 ].width, cubeImage[ 0 ].height );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, 0, 0, 0, cubeImage[ i ].width, cubeImage[ i ].height, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j + 1, 0, 0, mipmapImage.width, mipmapImage.height, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, 0, 0, 0, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j + 1, 0, 0, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\tgenerateMipmap( 34067 );\n\n\t\t\t}\n\n\t\t\tsourceProperties.__version = source.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, texture, attachment, textureTarget ) {\n\n\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\tconst glType = utils.convert( texture.type );\n\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tif ( ! renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\tif ( textureTarget === 32879 || textureTarget === 35866 ) {\n\n\t\t\t\tstate.texImage3D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null );\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0, getRenderTargetSamples( renderTarget ) );\n\n\t\t} else if ( textureTarget === 3553 || ( textureTarget >= 34069 && textureTarget <= 34074 ) ) { // see #24753\n\n\t\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0 );\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample || useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\tif ( isMultisample && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else if ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [ renderTarget.texture ];\n\n\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\tconst texture = textures[ i ];\n\n\t\t\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\tif ( isMultisample && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else if ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, 36096, 3553, webglDepthTexture, 0, samples );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t\t}\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, 33306, 3553, webglDepthTexture, 0, samples );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture && ! renderTargetProperties.__autoAllocateDepthBuffer ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// rebind framebuffer with external textures\n\tfunction rebindTextures( renderTarget, colorTexture, depthTexture ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tif ( colorTexture !== undefined ) {\n\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, renderTarget.texture, 36064, 3553 );\n\n\t\t}\n\n\t\tif ( depthTexture !== undefined ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets !== true ) {\n\n\t\t\tif ( textureProperties.__webglTexture === undefined ) {\n\n\t\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultipleRenderTargets = ( renderTarget.isWebGLMultipleRenderTargets === true );\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tif ( capabilities.drawBuffers ) {\n\n\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst attachmentProperties = properties.get( textures[ i ] );\n\n\t\t\t\t\t\tif ( attachmentProperties.__webglTexture === undefined ) {\n\n\t\t\t\t\t\t\tattachmentProperties.__webglTexture = _gl.createTexture();\n\n\t\t\t\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ( isWebGL2 && renderTarget.samples > 0 ) && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\tconst textures = isMultipleRenderTargets ? texture : [ texture ];\n\n\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = [];\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tconst texture = textures[ i ];\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer[ i ] = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding, renderTarget.isXRRenderTarget === true );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t}\n\n\t\t\t\tstate.bindFramebuffer( 36160, null );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, texture, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067 );\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t} else if ( isMultipleRenderTargets ) {\n\n\t\t\tconst textures = renderTarget.texture;\n\n\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachment = textures[ i ];\n\t\t\t\tconst attachmentProperties = properties.get( attachment );\n\n\t\t\t\tstate.bindTexture( 3553, attachmentProperties.__webglTexture );\n\t\t\t\tsetTextureParameters( 3553, attachment, supportsMips );\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, attachment, 36064 + i, 3553 );\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( attachment, supportsMips ) ) {\n\n\t\t\t\t\tgenerateMipmap( 3553 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t} else {\n\n\t\t\tlet glTextureType = 3553;\n\n\t\t\tif ( renderTarget.isWebGL3DRenderTarget || renderTarget.isWebGLArrayRenderTarget ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tglTextureType = renderTarget.isWebGL3DRenderTarget ? 32879 : 35866;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( glTextureType, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( glTextureType, texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, texture, 36064, glTextureType );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( glTextureType );\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [ renderTarget.texture ];\n\n\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\tconst texture = textures[ i ];\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\t\tgenerateMipmap( target );\n\t\t\t\tstate.unbindTexture();\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( ( isWebGL2 && renderTarget.samples > 0 ) && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets ? renderTarget.texture : [ renderTarget.texture ];\n\t\t\tconst width = renderTarget.width;\n\t\t\tconst height = renderTarget.height;\n\t\t\tlet mask = 16384;\n\t\t\tconst invalidationArray = [];\n\t\t\tconst depthStyle = renderTarget.stencilBuffer ? 33306 : 36096;\n\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\t\tconst isMultipleRenderTargets = ( renderTarget.isWebGLMultipleRenderTargets === true );\n\n\t\t\t// If MRT we need to remove FBO attachments\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, null );\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064 + i, 3553, null, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\tinvalidationArray.push( 36064 + i );\n\n\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\tinvalidationArray.push( depthStyle );\n\n\t\t\t\t}\n\n\t\t\t\tconst ignoreDepthValues = ( renderTargetProperties.__ignoreDepthValues !== undefined ) ? renderTargetProperties.__ignoreDepthValues : false;\n\n\t\t\t\tif ( ignoreDepthValues === false ) {\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t}\n\n\t\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36008, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( ignoreDepthValues === true ) {\n\n\t\t\t\t\t_gl.invalidateFramebuffer( 36008, [ depthStyle ] );\n\t\t\t\t\t_gl.invalidateFramebuffer( 36009, [ depthStyle ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\t\tconst webglTexture = properties.get( textures[ i ] ).__webglTexture;\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064, 3553, webglTexture, 0 );\n\n\t\t\t\t}\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\tif ( supportsInvalidateFramebuffer ) {\n\n\t\t\t\t\t_gl.invalidateFramebuffer( 36008, invalidationArray );\n\n\t\t\t\t}\n\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36008, null );\n\t\t\tstate.bindFramebuffer( 36009, null );\n\n\t\t\t// If MRT since pre-blit we removed the FBO we need to reconstruct the attachments\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t\tconst webglTexture = properties.get( textures[ i ] ).__webglTexture;\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064 + i, 3553, webglTexture, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn Math.min( maxSamples, renderTarget.samples );\n\n\t}\n\n\tfunction useMultisampledRTT( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\treturn isWebGL2 && renderTarget.samples > 0 && extensions.has( 'WEBGL_multisampled_render_to_texture' ) === true && renderTargetProperties.__useRenderToTexture !== false;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\tfunction verifyColorSpace( texture, image ) {\n\n\t\tconst encoding = texture.encoding;\n\t\tconst format = texture.format;\n\t\tconst type = texture.type;\n\n\t\tif ( texture.isCompressedTexture === true || texture.isVideoTexture === true || texture.format === _SRGBAFormat ) return image;\n\n\t\tif ( encoding !== LinearEncoding ) {\n\n\t\t\t// sRGB\n\n\t\t\tif ( encoding === sRGBEncoding ) {\n\n\t\t\t\tif ( isWebGL2 === false ) {\n\n\t\t\t\t\t// in WebGL 1, try to use EXT_sRGB extension and unsized formats\n\n\t\t\t\t\tif ( extensions.has( 'EXT_sRGB' ) === true && format === RGBAFormat ) {\n\n\t\t\t\t\t\ttexture.format = _SRGBAFormat;\n\n\t\t\t\t\t\t// it's not possible to generate mips in WebGL 1 with this extension\n\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// slow fallback (CPU decode)\n\n\t\t\t\t\t\timage = ImageUtils.sRGBToLinear( image );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// in WebGL 2 uncompressed textures can only be sRGB encoded if they have the RGBA8 format\n\n\t\t\t\t\tif ( format !== RGBAFormat || type !== UnsignedByteType ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.WebGLTextures: Unsupported texture encoding:', encoding );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.rebindTextures = rebindTextures;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\tthis.setupDepthRenderbuffer = setupDepthRenderbuffer;\n\tthis.setupFrameBufferTexture = setupFrameBufferTexture;\n\tthis.useMultisampledRTT = useMultisampledRTT;\n\n}\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p, encoding = null ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\n\t\t// WebGL 1 sRGB fallback\n\n\t\tif ( p === _SRGBAFormat ) {\n\n\t\t\textension = extensions.get( 'EXT_sRGB' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.SRGB_ALPHA_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedFormat ) return 6403;\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\t// S3TC\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format || p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\tif ( encoding === sRGBEncoding ) {\n\n\t\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc_srgb' );\n\n\t\t\t\tif ( extension !== null ) {\n\n\t\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_SRGB_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\t\tif ( extension !== null ) {\n\n\t\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// PVRTC\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format || p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ETC1\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ETC2\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ETC2 : extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC : extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ASTC\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGBA_ASTC_4x4_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR : extension.COMPRESSED_RGBA_ASTC_4x4_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_5x4_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR : extension.COMPRESSED_RGBA_ASTC_5x4_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_5x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR : extension.COMPRESSED_RGBA_ASTC_5x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_6x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR : extension.COMPRESSED_RGBA_ASTC_6x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_6x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR : extension.COMPRESSED_RGBA_ASTC_6x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR : extension.COMPRESSED_RGBA_ASTC_8x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR : extension.COMPRESSED_RGBA_ASTC_8x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x8_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR : extension.COMPRESSED_RGBA_ASTC_8x8_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR : extension.COMPRESSED_RGBA_ASTC_10x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR : extension.COMPRESSED_RGBA_ASTC_10x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x8_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR : extension.COMPRESSED_RGBA_ASTC_10x8_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x10_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR : extension.COMPRESSED_RGBA_ASTC_10x10_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_12x10_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR : extension.COMPRESSED_RGBA_ASTC_12x10_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_12x12_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR : extension.COMPRESSED_RGBA_ASTC_12x12_KHR;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// BPTC\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGBA_BPTC_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT : extension.COMPRESSED_RGBA_BPTC_UNORM_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// RGTC\n\n\t\tif ( p === RED_RGTC1_Format || p === SIGNED_RED_RGTC1_Format || p === RED_GREEN_RGTC2_Format || p === SIGNED_RED_GREEN_RGTC2_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_rgtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGBA_BPTC_Format ) return extension.COMPRESSED_RED_RGTC1_EXT;\n\t\t\t\tif ( p === SIGNED_RED_RGTC1_Format ) return extension.COMPRESSED_SIGNED_RED_RGTC1_EXT;\n\t\t\t\tif ( p === RED_GREEN_RGTC2_Format ) return extension.COMPRESSED_RED_GREEN_RGTC2_EXT;\n\t\t\t\tif ( p === SIGNED_RED_GREEN_RGTC2_Format ) return extension.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// if \"p\" can't be resolved, assume the user defines a WebGL constant as a string (fallback/workaround for packed RGB formats)\n\n\t\treturn ( gl[ p ] !== undefined ) ? gl[ p ] : null;\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\nclass ArrayCamera extends PerspectiveCamera {\n\n\tconstructor( array = [] ) {\n\n\t\tsuper();\n\n\t\tthis.isArrayCamera = true;\n\n\t\tthis.cameras = array;\n\n\t}\n\n}\n\nclass Group extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isGroup = true;\n\n\t\tthis.type = 'Group';\n\n\t}\n\n}\n\nconst _moveEvent = { type: 'move' };\n\nclass WebXRController {\n\n\tconstructor() {\n\n\t\tthis._targetRay = null;\n\t\tthis._grip = null;\n\t\tthis._hand = null;\n\n\t}\n\n\tgetHandSpace() {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = {};\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t}\n\n\tgetTargetRaySpace() {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t}\n\n\tgetGripSpace() {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\tthis._grip.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tconnect( inputSource ) {\n\n\t\tif ( inputSource && inputSource.hand ) {\n\n\t\t\tconst hand = this._hand;\n\n\t\t\tif ( hand ) {\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Initialize hand with joints when connected\n\t\t\t\t\tthis._getHandJoint( hand, inputjoint );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tupdate( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\tconst jointPose = frame.getJointPose( inputjoint, referenceSpace );\n\n\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\tconst joint = this._getHandJoint( hand, inputjoint );\n\n\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t}\n\n\t\t\t\t// Custom events\n\n\t\t\t\t// Check pinchz\n\t\t\t\tconst indexTip = hand.joints[ 'index-finger-tip' ];\n\t\t\t\tconst thumbTip = hand.joints[ 'thumb-tip' ];\n\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t\tif ( gripPose.linearVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\tgrip.linearVelocity.copy( gripPose.linearVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( gripPose.angularVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\tgrip.angularVelocity.copy( gripPose.angularVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\t// Some runtimes (namely Vive Cosmos with Vive OpenXR Runtime) have only grip space and ray space is equal to it\n\t\t\t\tif ( inputPose === null && gripPose !== null ) {\n\n\t\t\t\t\tinputPose = gripPose;\n\n\t\t\t\t}\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\tif ( inputPose.linearVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\ttargetRay.linearVelocity.copy( inputPose.linearVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( inputPose.angularVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\ttargetRay.angularVelocity.copy( inputPose.angularVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchEvent( _moveEvent );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// private method\n\n\t_getHandJoint( hand, inputjoint ) {\n\n\t\tif ( hand.joints[ inputjoint.jointName ] === undefined ) {\n\n\t\t\tconst joint = new Group();\n\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\tjoint.visible = false;\n\t\t\thand.joints[ inputjoint.jointName ] = joint;\n\n\t\t\thand.add( joint );\n\n\t\t}\n\n\t\treturn hand.joints[ inputjoint.jointName ];\n\n\t}\n\n}\n\nclass DepthTexture extends Texture {\n\n\tconstructor( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\t\tformat = format !== undefined ? format : DepthFormat;\n\n\t\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t\t}\n\n\t\tif ( type === undefined && format === DepthFormat ) type = UnsignedIntType;\n\t\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isDepthTexture = true;\n\n\t\tthis.image = { width: width, height: height };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.flipY = false;\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n\n}\n\nclass WebXRManager extends EventDispatcher {\n\n\tconstructor( renderer, gl ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\n\t\tlet session = null;\n\t\tlet framebufferScaleFactor = 1.0;\n\n\t\tlet referenceSpace = null;\n\t\tlet referenceSpaceType = 'local-floor';\n\t\t// Set default foveation to maximum.\n\t\tlet foveation = 1.0;\n\t\tlet customReferenceSpace = null;\n\n\t\tlet pose = null;\n\t\tlet glBinding = null;\n\t\tlet glProjLayer = null;\n\t\tlet glBaseLayer = null;\n\t\tlet xrFrame = null;\n\t\tconst attributes = gl.getContextAttributes();\n\t\tlet initialRenderTarget = null;\n\t\tlet newRenderTarget = null;\n\n\t\tconst controllers = [];\n\t\tconst controllerInputSources = [];\n\n\t\tconst planes = new Set();\n\t\tconst planesLastChangedTimes = new Map();\n\n\t\t//\n\n\t\tconst cameraL = new PerspectiveCamera();\n\t\tcameraL.layers.enable( 1 );\n\t\tcameraL.viewport = new Vector4();\n\n\t\tconst cameraR = new PerspectiveCamera();\n\t\tcameraR.layers.enable( 2 );\n\t\tcameraR.viewport = new Vector4();\n\n\t\tconst cameras = [ cameraL, cameraR ];\n\n\t\tconst cameraVR = new ArrayCamera();\n\t\tcameraVR.layers.enable( 1 );\n\t\tcameraVR.layers.enable( 2 );\n\n\t\tlet _currentDepthNear = null;\n\t\tlet _currentDepthFar = null;\n\n\t\t//\n\n\t\tthis.cameraAutoUpdate = true;\n\t\tthis.enabled = false;\n\n\t\tthis.isPresenting = false;\n\n\t\tthis.getController = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getTargetRaySpace();\n\n\t\t};\n\n\t\tthis.getControllerGrip = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getGripSpace();\n\n\t\t};\n\n\t\tthis.getHand = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getHandSpace();\n\n\t\t};\n\n\t\t//\n\n\t\tfunction onSessionEvent( event ) {\n\n\t\t\tconst controllerIndex = controllerInputSources.indexOf( event.inputSource );\n\n\t\t\tif ( controllerIndex === - 1 ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst controller = controllers[ controllerIndex ];\n\n\t\t\tif ( controller !== undefined ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onSessionEnd() {\n\n\t\t\tsession.removeEventListener( 'select', onSessionEvent );\n\t\t\tsession.removeEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.removeEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeeze', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeezestart', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeezeend', onSessionEvent );\n\t\t\tsession.removeEventListener( 'end', onSessionEnd );\n\t\t\tsession.removeEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst inputSource = controllerInputSources[ i ];\n\n\t\t\t\tif ( inputSource === null ) continue;\n\n\t\t\t\tcontrollerInputSources[ i ] = null;\n\n\t\t\t\tcontrollers[ i ].disconnect( inputSource );\n\n\t\t\t}\n\n\t\t\t_currentDepthNear = null;\n\t\t\t_currentDepthFar = null;\n\n\t\t\t// restore framebuffer/rendering state\n\n\t\t\trenderer.setRenderTarget( initialRenderTarget );\n\n\t\t\tglBaseLayer = null;\n\t\t\tglProjLayer = null;\n\t\t\tglBinding = null;\n\t\t\tsession = null;\n\t\t\tnewRenderTarget = null;\n\n\t\t\t//\n\n\t\t\tanimation.stop();\n\n\t\t\tscope.isPresenting = false;\n\n\t\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t\t}\n\n\t\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\t\tframebufferScaleFactor = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\t\treferenceSpaceType = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getReferenceSpace = function () {\n\n\t\t\treturn customReferenceSpace || referenceSpace;\n\n\t\t};\n\n\t\tthis.setReferenceSpace = function ( space ) {\n\n\t\t\tcustomReferenceSpace = space;\n\n\t\t};\n\n\t\tthis.getBaseLayer = function () {\n\n\t\t\treturn glProjLayer !== null ? glProjLayer : glBaseLayer;\n\n\t\t};\n\n\t\tthis.getBinding = function () {\n\n\t\t\treturn glBinding;\n\n\t\t};\n\n\t\tthis.getFrame = function () {\n\n\t\t\treturn xrFrame;\n\n\t\t};\n\n\t\tthis.getSession = function () {\n\n\t\t\treturn session;\n\n\t\t};\n\n\t\tthis.setSession = async function ( value ) {\n\n\t\t\tsession = value;\n\n\t\t\tif ( session !== null ) {\n\n\t\t\t\tinitialRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\t\t\t\tsession.addEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\t\tawait gl.makeXRCompatible();\n\n\t\t\t\t}\n\n\t\t\t\tif ( ( session.renderState.layers === undefined ) || ( renderer.capabilities.isWebGL2 === false ) ) {\n\n\t\t\t\t\tconst layerInit = {\n\t\t\t\t\t\tantialias: ( session.renderState.layers === undefined ) ? attributes.antialias : true,\n\t\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBaseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\t\tsession.updateRenderState( { baseLayer: glBaseLayer } );\n\n\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(\n\t\t\t\t\t\tglBaseLayer.framebufferWidth,\n\t\t\t\t\t\tglBaseLayer.framebufferHeight,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\tencoding: renderer.outputEncoding,\n\t\t\t\t\t\t\tstencilBuffer: attributes.stencil\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlet depthFormat = null;\n\t\t\t\t\tlet depthType = null;\n\t\t\t\t\tlet glDepthFormat = null;\n\n\t\t\t\t\tif ( attributes.depth ) {\n\n\t\t\t\t\t\tglDepthFormat = attributes.stencil ? 35056 : 33190;\n\t\t\t\t\t\tdepthFormat = attributes.stencil ? DepthStencilFormat : DepthFormat;\n\t\t\t\t\t\tdepthType = attributes.stencil ? UnsignedInt248Type : UnsignedIntType;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst projectionlayerInit = {\n\t\t\t\t\t\tcolorFormat: 32856,\n\t\t\t\t\t\tdepthFormat: glDepthFormat,\n\t\t\t\t\t\tscaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBinding = new XRWebGLBinding( session, gl );\n\n\t\t\t\t\tglProjLayer = glBinding.createProjectionLayer( projectionlayerInit );\n\n\t\t\t\t\tsession.updateRenderState( { layers: [ glProjLayer ] } );\n\n\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(\n\t\t\t\t\t\tglProjLayer.textureWidth,\n\t\t\t\t\t\tglProjLayer.textureHeight,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\tdepthTexture: new DepthTexture( glProjLayer.textureWidth, glProjLayer.textureHeight, depthType, undefined, undefined, undefined, undefined, undefined, undefined, depthFormat ),\n\t\t\t\t\t\t\tstencilBuffer: attributes.stencil,\n\t\t\t\t\t\t\tencoding: renderer.outputEncoding,\n\t\t\t\t\t\t\tsamples: attributes.antialias ? 4 : 0\n\t\t\t\t\t\t} );\n\n\t\t\t\t\tconst renderTargetProperties = renderer.properties.get( newRenderTarget );\n\t\t\t\t\trenderTargetProperties.__ignoreDepthValues = glProjLayer.ignoreDepthValues;\n\n\t\t\t\t}\n\n\t\t\t\tnewRenderTarget.isXRRenderTarget = true; // TODO Remove this when possible, see #23278\n\n\t\t\t\tthis.setFoveation( foveation );\n\n\t\t\t\tcustomReferenceSpace = null;\n\t\t\t\treferenceSpace = await session.requestReferenceSpace( referenceSpaceType );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t\tscope.isPresenting = true;\n\n\t\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction onInputSourcesChange( event ) {\n\n\t\t\t// Notify disconnected\n\n\t\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.removed[ i ];\n\t\t\t\tconst index = controllerInputSources.indexOf( inputSource );\n\n\t\t\t\tif ( index >= 0 ) {\n\n\t\t\t\t\tcontrollerInputSources[ index ] = null;\n\t\t\t\t\tcontrollers[ index ].disconnect( inputSource );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Notify connected\n\n\t\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.added[ i ];\n\n\t\t\t\tlet controllerIndex = controllerInputSources.indexOf( inputSource );\n\n\t\t\t\tif ( controllerIndex === - 1 ) {\n\n\t\t\t\t\t// Assign input source a controller that currently has no input source\n\n\t\t\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\t\t\tif ( i >= controllerInputSources.length ) {\n\n\t\t\t\t\t\t\tcontrollerInputSources.push( inputSource );\n\t\t\t\t\t\t\tcontrollerIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t} else if ( controllerInputSources[ i ] === null ) {\n\n\t\t\t\t\t\t\tcontrollerInputSources[ i ] = inputSource;\n\t\t\t\t\t\t\tcontrollerIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// If all controllers do currently receive input we ignore new ones\n\n\t\t\t\t\tif ( controllerIndex === - 1 ) break;\n\n\t\t\t\t}\n\n\t\t\t\tconst controller = controllers[ controllerIndex ];\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.connect( inputSource );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst cameraLPos = new Vector3();\n\t\tconst cameraRPos = new Vector3();\n\n\t\t/**\n\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t * the cameras' projection and world matrices have already been set.\n\t\t * And that near and far planes are identical for both cameras.\n\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t */\n\t\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t\t// VR systems will have identical far and near planes, and\n\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t// Use the left camera for these values.\n\t\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\t\tconst left = near * leftFov;\n\t\t\tconst right = near * rightFov;\n\n\t\t\t// Calculate the new camera's position offset from the\n\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t\t// TODO: Better way to apply this offset?\n\t\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.translateX( xOffset );\n\t\t\tcamera.translateZ( zOffset );\n\t\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t\t// Find the union of the frustum values of the cameras and scale\n\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t// although must now be relative to the new union camera.\n\t\t\tconst near2 = near + zOffset;\n\t\t\tconst far2 = far + zOffset;\n\t\t\tconst left2 = left - xOffset;\n\t\t\tconst right2 = right + ( ipd - xOffset );\n\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\t\t\tcamera.projectionMatrixInverse.copy( camera.projectionMatrix ).invert();\n\n\t\t}\n\n\t\tfunction updateCamera( camera, parent ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t\t}\n\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t}\n\n\t\tthis.updateCamera = function ( camera ) {\n\n\t\t\tif ( session === null ) return;\n\n\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\t\tsession.updateRenderState( {\n\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t} );\n\n\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t\t}\n\n\t\t\tconst parent = camera.parent;\n\t\t\tconst cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\t// update projection matrix for proper view frustum culling\n\n\t\t\tif ( cameras.length === 2 ) {\n\n\t\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\t} else {\n\n\t\t\t\t// assume single camera setup (AR)\n\n\t\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t\t}\n\n\t\t\t// update user camera and its children\n\n\t\t\tupdateUserCamera( camera, cameraVR, parent );\n\n\t\t};\n\n\t\tfunction updateUserCamera( camera, cameraVR, parent ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tcamera.matrix.copy( cameraVR.matrixWorld );\n\n\t\t\t} else {\n\n\t\t\t\tcamera.matrix.copy( parent.matrixWorld );\n\t\t\t\tcamera.matrix.invert();\n\t\t\t\tcamera.matrix.multiply( cameraVR.matrixWorld );\n\n\t\t\t}\n\n\t\t\tcamera.matrix.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.updateMatrixWorld( true );\n\n\t\t\tconst children = camera.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\tcamera.projectionMatrix.copy( cameraVR.projectionMatrix );\n\t\t\tcamera.projectionMatrixInverse.copy( cameraVR.projectionMatrixInverse );\n\n\t\t\tif ( camera.isPerspectiveCamera ) {\n\n\t\t\t\tcamera.fov = RAD2DEG * 2 * Math.atan( 1 / camera.projectionMatrix.elements[ 5 ] );\n\t\t\t\tcamera.zoom = 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.getCamera = function () {\n\n\t\t\treturn cameraVR;\n\n\t\t};\n\n\t\tthis.getFoveation = function () {\n\n\t\t\tif ( glProjLayer === null && glBaseLayer === null ) {\n\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\treturn foveation;\n\n\t\t};\n\n\t\tthis.setFoveation = function ( value ) {\n\n\t\t\t// 0 = no foveation = full resolution\n\t\t\t// 1 = maximum foveation = the edges render at lower resolution\n\n\t\t\tfoveation = value;\n\n\t\t\tif ( glProjLayer !== null ) {\n\n\t\t\t\tglProjLayer.fixedFoveation = value;\n\n\t\t\t}\n\n\t\t\tif ( glBaseLayer !== null && glBaseLayer.fixedFoveation !== undefined ) {\n\n\t\t\t\tglBaseLayer.fixedFoveation = value;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getPlanes = function () {\n\n\t\t\treturn planes;\n\n\t\t};\n\n\t\t// Animation Loop\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame( time, frame ) {\n\n\t\t\tpose = frame.getViewerPose( customReferenceSpace || referenceSpace );\n\t\t\txrFrame = frame;\n\n\t\t\tif ( pose !== null ) {\n\n\t\t\t\tconst views = pose.views;\n\n\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\trenderer.setRenderTargetFramebuffer( newRenderTarget, glBaseLayer.framebuffer );\n\t\t\t\t\trenderer.setRenderTarget( newRenderTarget );\n\n\t\t\t\t}\n\n\t\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\t\tconst view = views[ i ];\n\n\t\t\t\t\tlet viewport = null;\n\n\t\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\t\tviewport = glBaseLayer.getViewport( view );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst glSubImage = glBinding.getViewSubImage( glProjLayer, view );\n\t\t\t\t\t\tviewport = glSubImage.viewport;\n\n\t\t\t\t\t\t// For side-by-side projection, we only produce a single texture for both eyes.\n\t\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\t\trenderer.setRenderTargetTextures(\n\t\t\t\t\t\t\t\tnewRenderTarget,\n\t\t\t\t\t\t\t\tglSubImage.colorTexture,\n\t\t\t\t\t\t\t\tglProjLayer.ignoreDepthValues ? undefined : glSubImage.depthStencilTexture );\n\n\t\t\t\t\t\t\trenderer.setRenderTarget( newRenderTarget );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlet camera = cameras[ i ];\n\n\t\t\t\t\tif ( camera === undefined ) {\n\n\t\t\t\t\t\tcamera = new PerspectiveCamera();\n\t\t\t\t\t\tcamera.layers.enable( i );\n\t\t\t\t\t\tcamera.viewport = new Vector4();\n\t\t\t\t\t\tcameras[ i ] = camera;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\t\tcamera.matrix.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\t\tcamera.projectionMatrixInverse.copy( camera.projectionMatrix ).invert();\n\t\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\t\t\t\t\t\tcameraVR.matrix.decompose( cameraVR.position, cameraVR.quaternion, cameraVR.scale );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst inputSource = controllerInputSources[ i ];\n\t\t\t\tconst controller = controllers[ i ];\n\n\t\t\t\tif ( inputSource !== null && controller !== undefined ) {\n\n\t\t\t\t\tcontroller.update( inputSource, frame, customReferenceSpace || referenceSpace );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t\t\tif ( frame.detectedPlanes ) {\n\n\t\t\t\tscope.dispatchEvent( { type: 'planesdetected', data: frame.detectedPlanes } );\n\n\t\t\t\tlet planesToRemove = null;\n\n\t\t\t\tfor ( const plane of planes ) {\n\n\t\t\t\t\tif ( ! frame.detectedPlanes.has( plane ) ) {\n\n\t\t\t\t\t\tif ( planesToRemove === null ) {\n\n\t\t\t\t\t\t\tplanesToRemove = [];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tplanesToRemove.push( plane );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( planesToRemove !== null ) {\n\n\t\t\t\t\tfor ( const plane of planesToRemove ) {\n\n\t\t\t\t\t\tplanes.delete( plane );\n\t\t\t\t\t\tplanesLastChangedTimes.delete( plane );\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'planeremoved', data: plane } );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( const plane of frame.detectedPlanes ) {\n\n\t\t\t\t\tif ( ! planes.has( plane ) ) {\n\n\t\t\t\t\t\tplanes.add( plane );\n\t\t\t\t\t\tplanesLastChangedTimes.set( plane, frame.lastChangedTime );\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'planeadded', data: plane } );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst lastKnownTime = planesLastChangedTimes.get( plane );\n\n\t\t\t\t\t\tif ( plane.lastChangedTime > lastKnownTime ) {\n\n\t\t\t\t\t\t\tplanesLastChangedTimes.set( plane, plane.lastChangedTime );\n\t\t\t\t\t\t\tscope.dispatchEvent( { type: 'planechanged', data: plane } );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\txrFrame = null;\n\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\n\t\tanimation.setAnimationLoop( onAnimationFrame );\n\n\t\tthis.setAnimationLoop = function ( callback ) {\n\n\t\t\tonAnimationFrameCallback = callback;\n\n\t\t};\n\n\t\tthis.dispose = function () {};\n\n\t}\n\n}\n\nfunction WebGLMaterials( renderer, properties ) {\n\n\tfunction refreshTransformUniform( map, uniform ) {\n\n\t\tif ( map.matrixAutoUpdate === true ) {\n\n\t\t\tmap.updateMatrix();\n\n\t\t}\n\n\t\tuniform.value.copy( map.matrix );\n\n\t}\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tfog.color.getRGB( uniforms.fogColor.value, getUnlitUniformColorSpace( renderer ) );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height, transmissionRenderTarget ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material, transmissionRenderTarget );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t\trefreshTransformUniform( material.map, uniforms.mapTransform );\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t\trefreshTransformUniform( material.alphaMap, uniforms.alphaMapTransform );\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\n\t\t\trefreshTransformUniform( material.bumpMap, uniforms.bumpMapTransform );\n\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.bumpScale.value *= - 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\n\t\t\trefreshTransformUniform( material.normalMap, uniforms.normalMapTransform );\n\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.normalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\n\t\t\trefreshTransformUniform( material.displacementMap, uniforms.displacementMapTransform );\n\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t\trefreshTransformUniform( material.emissiveMap, uniforms.emissiveMapTransform );\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t\trefreshTransformUniform( material.specularMap, uniforms.specularMapTransform );\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.ior.value = material.ior;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\n\t\t\t// artist-friendly light intensity scaling factor\n\t\t\tconst scaleFactor = ( renderer.useLegacyLights === true ) ? Math.PI : 1;\n\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity * scaleFactor;\n\n\t\t\trefreshTransformUniform( material.lightMap, uniforms.lightMapTransform );\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t\trefreshTransformUniform( material.aoMap, uniforms.aoMapTransform );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t\trefreshTransformUniform( material.map, uniforms.mapTransform );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t\trefreshTransformUniform( material.map, uniforms.uvTransform );\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t\trefreshTransformUniform( material.map, uniforms.mapTransform );\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t\trefreshTransformUniform( material.metalnessMap, uniforms.metalnessMapTransform );\n\n\t\t}\n\n\t\tuniforms.roughness.value = material.roughness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t\trefreshTransformUniform( material.roughnessMap, uniforms.roughnessMapTransform );\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material, transmissionRenderTarget ) {\n\n\t\tuniforms.ior.value = material.ior; // also part of uniforms common\n\n\t\tif ( material.sheen > 0 ) {\n\n\t\t\tuniforms.sheenColor.value.copy( material.sheenColor ).multiplyScalar( material.sheen );\n\n\t\t\tuniforms.sheenRoughness.value = material.sheenRoughness;\n\n\t\t\tif ( material.sheenColorMap ) {\n\n\t\t\t\tuniforms.sheenColorMap.value = material.sheenColorMap;\n\n\t\t\t\trefreshTransformUniform( material.sheenColorMap, uniforms.sheenColorMapTransform );\n\n\t\t\t}\n\n\t\t\tif ( material.sheenRoughnessMap ) {\n\n\t\t\t\tuniforms.sheenRoughnessMap.value = material.sheenRoughnessMap;\n\n\t\t\t\trefreshTransformUniform( material.sheenRoughnessMap, uniforms.sheenRoughnessMapTransform );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.clearcoat > 0 ) {\n\n\t\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\n\t\t\tif ( material.clearcoatMap ) {\n\n\t\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t\t\trefreshTransformUniform( material.clearcoatMap, uniforms.clearcoatMapTransform );\n\n\t\t\t}\n\n\t\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t\t\trefreshTransformUniform( material.clearcoatRoughnessMap, uniforms.clearcoatRoughnessMapTransform );\n\n\t\t\t}\n\n\t\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\t\trefreshTransformUniform( material.clearcoatNormalMap, uniforms.clearcoatNormalMapTransform );\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\n\t\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.iridescence > 0 ) {\n\n\t\t\tuniforms.iridescence.value = material.iridescence;\n\t\t\tuniforms.iridescenceIOR.value = material.iridescenceIOR;\n\t\t\tuniforms.iridescenceThicknessMinimum.value = material.iridescenceThicknessRange[ 0 ];\n\t\t\tuniforms.iridescenceThicknessMaximum.value = material.iridescenceThicknessRange[ 1 ];\n\n\t\t\tif ( material.iridescenceMap ) {\n\n\t\t\t\tuniforms.iridescenceMap.value = material.iridescenceMap;\n\n\t\t\t\trefreshTransformUniform( material.iridescenceMap, uniforms.iridescenceMapTransform );\n\n\t\t\t}\n\n\t\t\tif ( material.iridescenceThicknessMap ) {\n\n\t\t\t\tuniforms.iridescenceThicknessMap.value = material.iridescenceThicknessMap;\n\n\t\t\t\trefreshTransformUniform( material.iridescenceThicknessMap, uniforms.iridescenceThicknessMapTransform );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.transmission > 0 ) {\n\n\t\t\tuniforms.transmission.value = material.transmission;\n\t\t\tuniforms.transmissionSamplerMap.value = transmissionRenderTarget.texture;\n\t\t\tuniforms.transmissionSamplerSize.value.set( transmissionRenderTarget.width, transmissionRenderTarget.height );\n\n\t\t\tif ( material.transmissionMap ) {\n\n\t\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t\t\trefreshTransformUniform( material.transmissionMap, uniforms.transmissionMapTransform );\n\n\t\t\t}\n\n\t\t\tuniforms.thickness.value = material.thickness;\n\n\t\t\tif ( material.thicknessMap ) {\n\n\t\t\t\tuniforms.thicknessMap.value = material.thicknessMap;\n\n\t\t\t\trefreshTransformUniform( material.thicknessMap, uniforms.thicknessMapTransform );\n\n\t\t\t}\n\n\t\t\tuniforms.attenuationDistance.value = material.attenuationDistance;\n\t\t\tuniforms.attenuationColor.value.copy( material.attenuationColor );\n\n\t\t}\n\n\t\tuniforms.specularIntensity.value = material.specularIntensity;\n\t\tuniforms.specularColor.value.copy( material.specularColor );\n\n\t\tif ( material.specularColorMap ) {\n\n\t\t\tuniforms.specularColorMap.value = material.specularColorMap;\n\n\t\t\trefreshTransformUniform( material.specularColorMap, uniforms.specularColorMapTransform );\n\n\t\t}\n\n\t\tif ( material.specularIntensityMap ) {\n\n\t\t\tuniforms.specularIntensityMap.value = material.specularIntensityMap;\n\n\t\t\trefreshTransformUniform( material.specularIntensityMap, uniforms.specularIntensityMapTransform );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tconst light = properties.get( material ).light;\n\n\t\tuniforms.referencePosition.value.setFromMatrixPosition( light.matrixWorld );\n\t\tuniforms.nearDistance.value = light.shadow.camera.near;\n\t\tuniforms.farDistance.value = light.shadow.camera.far;\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nfunction WebGLUniformsGroups( gl, info, capabilities, state ) {\n\n\tlet buffers = {};\n\tlet updateList = {};\n\tlet allocatedBindingPoints = [];\n\n\tconst maxBindingPoints = ( capabilities.isWebGL2 ) ? gl.getParameter( 35375 ) : 0; // binding points are global whereas block indices are per shader program\n\n\tfunction bind( uniformsGroup, program ) {\n\n\t\tconst webglProgram = program.program;\n\t\tstate.uniformBlockBinding( uniformsGroup, webglProgram );\n\n\t}\n\n\tfunction update( uniformsGroup, program ) {\n\n\t\tlet buffer = buffers[ uniformsGroup.id ];\n\n\t\tif ( buffer === undefined ) {\n\n\t\t\tprepareUniformsGroup( uniformsGroup );\n\n\t\t\tbuffer = createBuffer( uniformsGroup );\n\t\t\tbuffers[ uniformsGroup.id ] = buffer;\n\n\t\t\tuniformsGroup.addEventListener( 'dispose', onUniformsGroupsDispose );\n\n\t\t}\n\n\t\t// ensure to update the binding points/block indices mapping for this program\n\n\t\tconst webglProgram = program.program;\n\t\tstate.updateUBOMapping( uniformsGroup, webglProgram );\n\n\t\t// update UBO once per frame\n\n\t\tconst frame = info.render.frame;\n\n\t\tif ( updateList[ uniformsGroup.id ] !== frame ) {\n\n\t\t\tupdateBufferData( uniformsGroup );\n\n\t\t\tupdateList[ uniformsGroup.id ] = frame;\n\n\t\t}\n\n\t}\n\n\tfunction createBuffer( uniformsGroup ) {\n\n\t\t// the setup of an UBO is independent of a particular shader program but global\n\n\t\tconst bindingPointIndex = allocateBindingPointIndex();\n\t\tuniformsGroup.__bindingPointIndex = bindingPointIndex;\n\n\t\tconst buffer = gl.createBuffer();\n\t\tconst size = uniformsGroup.__size;\n\t\tconst usage = uniformsGroup.usage;\n\n\t\tgl.bindBuffer( 35345, buffer );\n\t\tgl.bufferData( 35345, size, usage );\n\t\tgl.bindBuffer( 35345, null );\n\t\tgl.bindBufferBase( 35345, bindingPointIndex, buffer );\n\n\t\treturn buffer;\n\n\t}\n\n\tfunction allocateBindingPointIndex() {\n\n\t\tfor ( let i = 0; i < maxBindingPoints; i ++ ) {\n\n\t\t\tif ( allocatedBindingPoints.indexOf( i ) === - 1 ) {\n\n\t\t\t\tallocatedBindingPoints.push( i );\n\t\t\t\treturn i;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconsole.error( 'THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached.' );\n\n\t\treturn 0;\n\n\t}\n\n\tfunction updateBufferData( uniformsGroup ) {\n\n\t\tconst buffer = buffers[ uniformsGroup.id ];\n\t\tconst uniforms = uniformsGroup.uniforms;\n\t\tconst cache = uniformsGroup.__cache;\n\n\t\tgl.bindBuffer( 35345, buffer );\n\n\t\tfor ( let i = 0, il = uniforms.length; i < il; i ++ ) {\n\n\t\t\tconst uniform = uniforms[ i ];\n\n\t\t\t// partly update the buffer if necessary\n\n\t\t\tif ( hasUniformChanged( uniform, i, cache ) === true ) {\n\n\t\t\t\tconst offset = uniform.__offset;\n\n\t\t\t\tconst values = Array.isArray( uniform.value ) ? uniform.value : [ uniform.value ];\n\n\t\t\t\tlet arrayOffset = 0;\n\n\t\t\t\tfor ( let i = 0; i < values.length; i ++ ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tconst info = getUniformSize( value );\n\n\t\t\t\t\tif ( typeof value === 'number' ) {\n\n\t\t\t\t\t\tuniform.__data[ 0 ] = value;\n\t\t\t\t\t\tgl.bufferSubData( 35345, offset + arrayOffset, uniform.__data );\n\n\t\t\t\t\t} else if ( value.isMatrix3 ) {\n\n\t\t\t\t\t\t// manually converting 3x3 to 3x4\n\n\t\t\t\t\t\tuniform.__data[ 0 ] = value.elements[ 0 ];\n\t\t\t\t\t\tuniform.__data[ 1 ] = value.elements[ 1 ];\n\t\t\t\t\t\tuniform.__data[ 2 ] = value.elements[ 2 ];\n\t\t\t\t\t\tuniform.__data[ 3 ] = value.elements[ 0 ];\n\t\t\t\t\t\tuniform.__data[ 4 ] = value.elements[ 3 ];\n\t\t\t\t\t\tuniform.__data[ 5 ] = value.elements[ 4 ];\n\t\t\t\t\t\tuniform.__data[ 6 ] = value.elements[ 5 ];\n\t\t\t\t\t\tuniform.__data[ 7 ] = value.elements[ 0 ];\n\t\t\t\t\t\tuniform.__data[ 8 ] = value.elements[ 6 ];\n\t\t\t\t\t\tuniform.__data[ 9 ] = value.elements[ 7 ];\n\t\t\t\t\t\tuniform.__data[ 10 ] = value.elements[ 8 ];\n\t\t\t\t\t\tuniform.__data[ 11 ] = value.elements[ 0 ];\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvalue.toArray( uniform.__data, arrayOffset );\n\n\t\t\t\t\t\tarrayOffset += info.storage / Float32Array.BYTES_PER_ELEMENT;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tgl.bufferSubData( 35345, offset, uniform.__data );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgl.bindBuffer( 35345, null );\n\n\t}\n\n\tfunction hasUniformChanged( uniform, index, cache ) {\n\n\t\tconst value = uniform.value;\n\n\t\tif ( cache[ index ] === undefined ) {\n\n\t\t\t// cache entry does not exist so far\n\n\t\t\tif ( typeof value === 'number' ) {\n\n\t\t\t\tcache[ index ] = value;\n\n\t\t\t} else {\n\n\t\t\t\tconst values = Array.isArray( value ) ? value : [ value ];\n\n\t\t\t\tconst tempValues = [];\n\n\t\t\t\tfor ( let i = 0; i < values.length; i ++ ) {\n\n\t\t\t\t\ttempValues.push( values[ i ].clone() );\n\n\t\t\t\t}\n\n\t\t\t\tcache[ index ] = tempValues;\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t} else {\n\n\t\t\t// compare current value with cached entry\n\n\t\t\tif ( typeof value === 'number' ) {\n\n\t\t\t\tif ( cache[ index ] !== value ) {\n\n\t\t\t\t\tcache[ index ] = value;\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst cachedObjects = Array.isArray( cache[ index ] ) ? cache[ index ] : [ cache[ index ] ];\n\t\t\t\tconst values = Array.isArray( value ) ? value : [ value ];\n\n\t\t\t\tfor ( let i = 0; i < cachedObjects.length; i ++ ) {\n\n\t\t\t\t\tconst cachedObject = cachedObjects[ i ];\n\n\t\t\t\t\tif ( cachedObject.equals( values[ i ] ) === false ) {\n\n\t\t\t\t\t\tcachedObject.copy( values[ i ] );\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction prepareUniformsGroup( uniformsGroup ) {\n\n\t\t// determine total buffer size according to the STD140 layout\n\t\t// Hint: STD140 is the only supported layout in WebGL 2\n\n\t\tconst uniforms = uniformsGroup.uniforms;\n\n\t\tlet offset = 0; // global buffer offset in bytes\n\t\tconst chunkSize = 16; // size of a chunk in bytes\n\t\tlet chunkOffset = 0; // offset within a single chunk in bytes\n\n\t\tfor ( let i = 0, l = uniforms.length; i < l; i ++ ) {\n\n\t\t\tconst uniform = uniforms[ i ];\n\n\t\t\tconst infos = {\n\t\t\t\tboundary: 0, // bytes\n\t\t\t\tstorage: 0 // bytes\n\t\t\t};\n\n\t\t\tconst values = Array.isArray( uniform.value ) ? uniform.value : [ uniform.value ];\n\n\t\t\tfor ( let j = 0, jl = values.length; j < jl; j ++ ) {\n\n\t\t\t\tconst value = values[ j ];\n\n\t\t\t\tconst info = getUniformSize( value );\n\n\t\t\t\tinfos.boundary += info.boundary;\n\t\t\t\tinfos.storage += info.storage;\n\n\t\t\t}\n\n\t\t\t// the following two properties will be used for partial buffer updates\n\n\t\t\tuniform.__data = new Float32Array( infos.storage / Float32Array.BYTES_PER_ELEMENT );\n\t\t\tuniform.__offset = offset;\n\n\t\t\t//\n\n\t\t\tif ( i > 0 ) {\n\n\t\t\t\tchunkOffset = offset % chunkSize;\n\n\t\t\t\tconst remainingSizeInChunk = chunkSize - chunkOffset;\n\n\t\t\t\t// check for chunk overflow\n\n\t\t\t\tif ( chunkOffset !== 0 && ( remainingSizeInChunk - infos.boundary ) < 0 ) {\n\n\t\t\t\t\t// add padding and adjust offset\n\n\t\t\t\t\toffset += ( chunkSize - chunkOffset );\n\t\t\t\t\tuniform.__offset = offset;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\toffset += infos.storage;\n\n\t\t}\n\n\t\t// ensure correct final padding\n\n\t\tchunkOffset = offset % chunkSize;\n\n\t\tif ( chunkOffset > 0 ) offset += ( chunkSize - chunkOffset );\n\n\t\t//\n\n\t\tuniformsGroup.__size = offset;\n\t\tuniformsGroup.__cache = {};\n\n\t\treturn this;\n\n\t}\n\n\tfunction getUniformSize( value ) {\n\n\t\tconst info = {\n\t\t\tboundary: 0, // bytes\n\t\t\tstorage: 0 // bytes\n\t\t};\n\n\t\t// determine sizes according to STD140\n\n\t\tif ( typeof value === 'number' ) {\n\n\t\t\t// float/int\n\n\t\t\tinfo.boundary = 4;\n\t\t\tinfo.storage = 4;\n\n\t\t} else if ( value.isVector2 ) {\n\n\t\t\t// vec2\n\n\t\t\tinfo.boundary = 8;\n\t\t\tinfo.storage = 8;\n\n\t\t} else if ( value.isVector3 || value.isColor ) {\n\n\t\t\t// vec3\n\n\t\t\tinfo.boundary = 16;\n\t\t\tinfo.storage = 12; // evil: vec3 must start on a 16-byte boundary but it only consumes 12 bytes\n\n\t\t} else if ( value.isVector4 ) {\n\n\t\t\t// vec4\n\n\t\t\tinfo.boundary = 16;\n\t\t\tinfo.storage = 16;\n\n\t\t} else if ( value.isMatrix3 ) {\n\n\t\t\t// mat3 (in STD140 a 3x3 matrix is represented as 3x4)\n\n\t\t\tinfo.boundary = 48;\n\t\t\tinfo.storage = 48;\n\n\t\t} else if ( value.isMatrix4 ) {\n\n\t\t\t// mat4\n\n\t\t\tinfo.boundary = 64;\n\t\t\tinfo.storage = 64;\n\n\t\t} else if ( value.isTexture ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group.' );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Unsupported uniform value type.', value );\n\n\t\t}\n\n\t\treturn info;\n\n\t}\n\n\tfunction onUniformsGroupsDispose( event ) {\n\n\t\tconst uniformsGroup = event.target;\n\n\t\tuniformsGroup.removeEventListener( 'dispose', onUniformsGroupsDispose );\n\n\t\tconst index = allocatedBindingPoints.indexOf( uniformsGroup.__bindingPointIndex );\n\t\tallocatedBindingPoints.splice( index, 1 );\n\n\t\tgl.deleteBuffer( buffers[ uniformsGroup.id ] );\n\n\t\tdelete buffers[ uniformsGroup.id ];\n\t\tdelete updateList[ uniformsGroup.id ];\n\n\t}\n\n\tfunction dispose() {\n\n\t\tfor ( const id in buffers ) {\n\n\t\t\tgl.deleteBuffer( buffers[ id ] );\n\n\t\t}\n\n\t\tallocatedBindingPoints = [];\n\t\tbuffers = {};\n\t\tupdateList = {};\n\n\t}\n\n\treturn {\n\n\t\tbind: bind,\n\t\tupdate: update,\n\n\t\tdispose: dispose\n\n\t};\n\n}\n\nfunction createCanvasElement() {\n\n\tconst canvas = createElementNS( 'canvas' );\n\tcanvas.style.display = 'block';\n\treturn canvas;\n\n}\n\nclass WebGLRenderer {\n\n\tconstructor( parameters = {} ) {\n\n\t\tconst {\n\t\t\tcanvas = createCanvasElement(),\n\t\t\tcontext = null,\n\t\t\tdepth = true,\n\t\t\tstencil = true,\n\t\t\talpha = false,\n\t\t\tantialias = false,\n\t\t\tpremultipliedAlpha = true,\n\t\t\tpreserveDrawingBuffer = false,\n\t\t\tpowerPreference = 'default',\n\t\t\tfailIfMajorPerformanceCaveat = false,\n\t\t} = parameters;\n\n\t\tthis.isWebGLRenderer = true;\n\n\t\tlet _alpha;\n\n\t\tif ( context !== null ) {\n\n\t\t\t_alpha = context.getContextAttributes().alpha;\n\n\t\t} else {\n\n\t\t\t_alpha = alpha;\n\n\t\t}\n\n\t\tlet currentRenderList = null;\n\t\tlet currentRenderState = null;\n\n\t\t// render() can be called from within a callback triggered by another render.\n\t\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\t\tconst renderListStack = [];\n\t\tconst renderStateStack = [];\n\n\t\t// public properties\n\n\t\tthis.domElement = canvas;\n\n\t\t// Debug configuration container\n\t\tthis.debug = {\n\n\t\t\t/**\n\t\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t\t * @type {boolean}\n\t\t\t */\n\t\t\tcheckShaderErrors: true,\n\t\t\t/**\n\t\t\t * Callback for custom error reporting.\n\t\t\t * @type {?Function}\n\t\t\t */\n\t\t\tonShaderError: null\n\t\t};\n\n\t\t// clearing\n\n\t\tthis.autoClear = true;\n\t\tthis.autoClearColor = true;\n\t\tthis.autoClearDepth = true;\n\t\tthis.autoClearStencil = true;\n\n\t\t// scene graph\n\n\t\tthis.sortObjects = true;\n\n\t\t// user-defined clipping\n\n\t\tthis.clippingPlanes = [];\n\t\tthis.localClippingEnabled = false;\n\n\t\t// physically based shading\n\n\t\tthis.outputEncoding = LinearEncoding;\n\n\t\t// physical lights\n\n\t\tthis.useLegacyLights = true;\n\n\t\t// tone mapping\n\n\t\tthis.toneMapping = NoToneMapping;\n\t\tthis.toneMappingExposure = 1.0;\n\n\t\t// internal properties\n\n\t\tconst _this = this;\n\n\t\tlet _isContextLost = false;\n\n\t\t// internal state cache\n\n\t\tlet _currentActiveCubeFace = 0;\n\t\tlet _currentActiveMipmapLevel = 0;\n\t\tlet _currentRenderTarget = null;\n\t\tlet _currentMaterialId = - 1;\n\n\t\tlet _currentCamera = null;\n\n\t\tconst _currentViewport = new Vector4();\n\t\tconst _currentScissor = new Vector4();\n\t\tlet _currentScissorTest = null;\n\n\t\t//\n\n\t\tlet _width = canvas.width;\n\t\tlet _height = canvas.height;\n\n\t\tlet _pixelRatio = 1;\n\t\tlet _opaqueSort = null;\n\t\tlet _transparentSort = null;\n\n\t\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\t\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\t\tlet _scissorTest = false;\n\n\t\t// frustum\n\n\t\tconst _frustum = new Frustum();\n\n\t\t// clipping\n\n\t\tlet _clippingEnabled = false;\n\t\tlet _localClippingEnabled = false;\n\n\t\t// transmission\n\n\t\tlet _transmissionRenderTarget = null;\n\n\t\t// camera matrices cache\n\n\t\tconst _projScreenMatrix = new Matrix4();\n\n\t\tconst _vector3 = new Vector3();\n\n\t\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\t\tfunction getTargetPixelRatio() {\n\n\t\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t\t}\n\n\t\t// initialize\n\n\t\tlet _gl = context;\n\n\t\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\t\tconst contextName = contextNames[ i ];\n\t\t\t\tconst context = canvas.getContext( contextName, contextAttributes );\n\t\t\t\tif ( context !== null ) return context;\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\ttry {\n\n\t\t\tconst contextAttributes = {\n\t\t\t\talpha: true,\n\t\t\t\tdepth,\n\t\t\t\tstencil,\n\t\t\t\tantialias,\n\t\t\t\tpremultipliedAlpha,\n\t\t\t\tpreserveDrawingBuffer,\n\t\t\t\tpowerPreference,\n\t\t\t\tfailIfMajorPerformanceCaveat,\n\t\t\t};\n\n\t\t\t// OffscreenCanvas does not have setAttribute, see #22811\n\t\t\tif ( 'setAttribute' in canvas ) canvas.setAttribute( 'data-engine', `three.js r${REVISION}` );\n\n\t\t\t// event listeners must be registered before WebGL context is created, see #12753\n\t\t\tcanvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t\tcanvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\t\t\tcanvas.addEventListener( 'webglcontextcreationerror', onContextCreationError, false );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\t\tcontextNames.shift();\n\n\t\t\t\t}\n\n\t\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\t\tif ( _gl === null ) {\n\n\t\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\t\tthrow error;\n\n\t\t}\n\n\t\tlet extensions, capabilities, state, info;\n\t\tlet properties, textures, cubemaps, cubeuvmaps, attributes, geometries, objects;\n\t\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\n\t\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\t\tlet utils, bindingStates, uniformsGroups;\n\n\t\tfunction initGLContext() {\n\n\t\t\textensions = new WebGLExtensions( _gl );\n\n\t\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\t\textensions.init( capabilities );\n\n\t\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\n\t\t\tinfo = new WebGLInfo();\n\t\t\tproperties = new WebGLProperties();\n\t\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\t\tcubeuvmaps = new WebGLCubeUVMaps( _this );\n\t\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\t\tmorphtargets = new WebGLMorphtargets( _gl, capabilities, textures );\n\t\t\tclipping = new WebGLClipping( properties );\n\t\t\tprogramCache = new WebGLPrograms( _this, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping );\n\t\t\tmaterials = new WebGLMaterials( _this, properties );\n\t\t\trenderLists = new WebGLRenderLists();\n\t\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\t\tbackground = new WebGLBackground( _this, cubemaps, cubeuvmaps, state, objects, _alpha, premultipliedAlpha );\n\t\t\tshadowMap = new WebGLShadowMap( _this, objects, capabilities );\n\t\t\tuniformsGroups = new WebGLUniformsGroups( _gl, info, capabilities, state );\n\n\t\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\t\tinfo.programs = programCache.programs;\n\n\t\t\t_this.capabilities = capabilities;\n\t\t\t_this.extensions = extensions;\n\t\t\t_this.properties = properties;\n\t\t\t_this.renderLists = renderLists;\n\t\t\t_this.shadowMap = shadowMap;\n\t\t\t_this.state = state;\n\t\t\t_this.info = info;\n\n\t\t}\n\n\t\tinitGLContext();\n\n\t\t// xr\n\n\t\tconst xr = new WebXRManager( _this, _gl );\n\n\t\tthis.xr = xr;\n\n\t\t// API\n\n\t\tthis.getContext = function () {\n\n\t\t\treturn _gl;\n\n\t\t};\n\n\t\tthis.getContextAttributes = function () {\n\n\t\t\treturn _gl.getContextAttributes();\n\n\t\t};\n\n\t\tthis.forceContextLoss = function () {\n\n\t\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\t\tif ( extension ) extension.loseContext();\n\n\t\t};\n\n\t\tthis.forceContextRestore = function () {\n\n\t\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\t\tif ( extension ) extension.restoreContext();\n\n\t\t};\n\n\t\tthis.getPixelRatio = function () {\n\n\t\t\treturn _pixelRatio;\n\n\t\t};\n\n\t\tthis.setPixelRatio = function ( value ) {\n\n\t\t\tif ( value === undefined ) return;\n\n\t\t\t_pixelRatio = value;\n\n\t\t\tthis.setSize( _width, _height, false );\n\n\t\t};\n\n\t\tthis.getSize = function ( target ) {\n\n\t\t\treturn target.set( _width, _height );\n\n\t\t};\n\n\t\tthis.setSize = function ( width, height, updateStyle = true ) {\n\n\t\t\tif ( xr.isPresenting ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\t_width = width;\n\t\t\t_height = height;\n\n\t\t\tcanvas.width = Math.floor( width * _pixelRatio );\n\t\t\tcanvas.height = Math.floor( height * _pixelRatio );\n\n\t\t\tif ( updateStyle === true ) {\n\n\t\t\t\tcanvas.style.width = width + 'px';\n\t\t\t\tcanvas.style.height = height + 'px';\n\n\t\t\t}\n\n\t\t\tthis.setViewport( 0, 0, width, height );\n\n\t\t};\n\n\t\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t\t};\n\n\t\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t\t_width = width;\n\t\t\t_height = height;\n\n\t\t\t_pixelRatio = pixelRatio;\n\n\t\t\tcanvas.width = Math.floor( width * pixelRatio );\n\t\t\tcanvas.height = Math.floor( height * pixelRatio );\n\n\t\t\tthis.setViewport( 0, 0, width, height );\n\n\t\t};\n\n\t\tthis.getCurrentViewport = function ( target ) {\n\n\t\t\treturn target.copy( _currentViewport );\n\n\t\t};\n\n\t\tthis.getViewport = function ( target ) {\n\n\t\t\treturn target.copy( _viewport );\n\n\t\t};\n\n\t\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\t\tif ( x.isVector4 ) {\n\n\t\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t\t} else {\n\n\t\t\t\t_viewport.set( x, y, width, height );\n\n\t\t\t}\n\n\t\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t\t};\n\n\t\tthis.getScissor = function ( target ) {\n\n\t\t\treturn target.copy( _scissor );\n\n\t\t};\n\n\t\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\t\tif ( x.isVector4 ) {\n\n\t\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t\t} else {\n\n\t\t\t\t_scissor.set( x, y, width, height );\n\n\t\t\t}\n\n\t\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t\t};\n\n\t\tthis.getScissorTest = function () {\n\n\t\t\treturn _scissorTest;\n\n\t\t};\n\n\t\tthis.setScissorTest = function ( boolean ) {\n\n\t\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t\t};\n\n\t\tthis.setOpaqueSort = function ( method ) {\n\n\t\t\t_opaqueSort = method;\n\n\t\t};\n\n\t\tthis.setTransparentSort = function ( method ) {\n\n\t\t\t_transparentSort = method;\n\n\t\t};\n\n\t\t// Clearing\n\n\t\tthis.getClearColor = function ( target ) {\n\n\t\t\treturn target.copy( background.getClearColor() );\n\n\t\t};\n\n\t\tthis.setClearColor = function () {\n\n\t\t\tbackground.setClearColor.apply( background, arguments );\n\n\t\t};\n\n\t\tthis.getClearAlpha = function () {\n\n\t\t\treturn background.getClearAlpha();\n\n\t\t};\n\n\t\tthis.setClearAlpha = function () {\n\n\t\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t\t};\n\n\t\tthis.clear = function ( color = true, depth = true, stencil = true ) {\n\n\t\t\tlet bits = 0;\n\n\t\t\tif ( color ) bits |= 16384;\n\t\t\tif ( depth ) bits |= 256;\n\t\t\tif ( stencil ) bits |= 1024;\n\n\t\t\t_gl.clear( bits );\n\n\t\t};\n\n\t\tthis.clearColor = function () {\n\n\t\t\tthis.clear( true, false, false );\n\n\t\t};\n\n\t\tthis.clearDepth = function () {\n\n\t\t\tthis.clear( false, true, false );\n\n\t\t};\n\n\t\tthis.clearStencil = function () {\n\n\t\t\tthis.clear( false, false, true );\n\n\t\t};\n\n\t\t//\n\n\t\tthis.dispose = function () {\n\n\t\t\tcanvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t\tcanvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\t\t\tcanvas.removeEventListener( 'webglcontextcreationerror', onContextCreationError, false );\n\n\t\t\trenderLists.dispose();\n\t\t\trenderStates.dispose();\n\t\t\tproperties.dispose();\n\t\t\tcubemaps.dispose();\n\t\t\tcubeuvmaps.dispose();\n\t\t\tobjects.dispose();\n\t\t\tbindingStates.dispose();\n\t\t\tuniformsGroups.dispose();\n\t\t\tprogramCache.dispose();\n\n\t\t\txr.dispose();\n\n\t\t\txr.removeEventListener( 'sessionstart', onXRSessionStart );\n\t\t\txr.removeEventListener( 'sessionend', onXRSessionEnd );\n\n\t\t\tif ( _transmissionRenderTarget ) {\n\n\t\t\t\t_transmissionRenderTarget.dispose();\n\t\t\t\t_transmissionRenderTarget = null;\n\n\t\t\t}\n\n\t\t\tanimation.stop();\n\n\t\t};\n\n\t\t// Events\n\n\t\tfunction onContextLost( event ) {\n\n\t\t\tevent.preventDefault();\n\n\t\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t\t_isContextLost = true;\n\n\t\t}\n\n\t\tfunction onContextRestore( /* event */ ) {\n\n\t\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t\t_isContextLost = false;\n\n\t\t\tconst infoAutoReset = info.autoReset;\n\t\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\t\tconst shadowMapType = shadowMap.type;\n\n\t\t\tinitGLContext();\n\n\t\t\tinfo.autoReset = infoAutoReset;\n\t\t\tshadowMap.enabled = shadowMapEnabled;\n\t\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\t\tshadowMap.type = shadowMapType;\n\n\t\t}\n\n\t\tfunction onContextCreationError( event ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer: A WebGL context could not be created. Reason: ', event.statusMessage );\n\n\t\t}\n\n\t\tfunction onMaterialDispose( event ) {\n\n\t\t\tconst material = event.target;\n\n\t\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\t\tdeallocateMaterial( material );\n\n\t\t}\n\n\t\t// Buffer deallocation\n\n\t\tfunction deallocateMaterial( material ) {\n\n\t\t\treleaseMaterialProgramReferences( material );\n\n\t\t\tproperties.remove( material );\n\n\t\t}\n\n\n\t\tfunction releaseMaterialProgramReferences( material ) {\n\n\t\t\tconst programs = properties.get( material ).programs;\n\n\t\t\tif ( programs !== undefined ) {\n\n\t\t\t\tprograms.forEach( function ( program ) {\n\n\t\t\t\t\tprogramCache.releaseProgram( program );\n\n\t\t\t\t} );\n\n\t\t\t\tif ( material.isShaderMaterial ) {\n\n\t\t\t\t\tprogramCache.releaseShaderCache( material );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Buffer rendering\n\n\t\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\t\tconst program = setProgram( camera, scene, geometry, material, object );\n\n\t\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t\t//\n\n\t\t\tlet index = geometry.index;\n\t\t\tlet rangeFactor = 1;\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\t\trangeFactor = 2;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tconst drawRange = geometry.drawRange;\n\t\t\tconst position = geometry.attributes.position;\n\n\t\t\tlet drawStart = drawRange.start * rangeFactor;\n\t\t\tlet drawEnd = ( drawRange.start + drawRange.count ) * rangeFactor;\n\n\t\t\tif ( group !== null ) {\n\n\t\t\t\tdrawStart = Math.max( drawStart, group.start * rangeFactor );\n\t\t\t\tdrawEnd = Math.min( drawEnd, ( group.start + group.count ) * rangeFactor );\n\n\t\t\t}\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tdrawStart = Math.max( drawStart, 0 );\n\t\t\t\tdrawEnd = Math.min( drawEnd, index.count );\n\n\t\t\t} else if ( position !== undefined && position !== null ) {\n\n\t\t\t\tdrawStart = Math.max( drawStart, 0 );\n\t\t\t\tdrawEnd = Math.min( drawEnd, position.count );\n\n\t\t\t}\n\n\t\t\tconst drawCount = drawEnd - drawStart;\n\n\t\t\tif ( drawCount < 0 || drawCount === Infinity ) return;\n\n\t\t\t//\n\n\t\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\t\tlet attribute;\n\t\t\tlet renderer = bufferRenderer;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tattribute = attributes.get( index );\n\n\t\t\t\trenderer = indexedBufferRenderer;\n\t\t\t\trenderer.setIndex( attribute );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tif ( object.isMesh ) {\n\n\t\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isLine ) {\n\n\t\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isPoints ) {\n\n\t\t\t\trenderer.setMode( 0 );\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t\tif ( object.isInstancedMesh ) {\n\n\t\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\t\tconst maxInstanceCount = geometry._maxInstanceCount !== undefined ? geometry._maxInstanceCount : Infinity;\n\t\t\t\tconst instanceCount = Math.min( geometry.instanceCount, maxInstanceCount );\n\n\t\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t\t}\n\n\t\t};\n\n\t\t// Compile\n\n\t\tthis.compile = function ( scene, camera ) {\n\n\t\t\tfunction prepare( material, scene, object ) {\n\n\t\t\t\tif ( material.transparent === true && material.side === DoubleSide && material.forceSinglePass === false ) {\n\n\t\t\t\t\tmaterial.side = BackSide;\n\t\t\t\t\tmaterial.needsUpdate = true;\n\t\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\t\tmaterial.side = FrontSide;\n\t\t\t\t\tmaterial.needsUpdate = true;\n\t\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\t\tmaterial.side = DoubleSide;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tcurrentRenderState = renderStates.get( scene );\n\t\t\tcurrentRenderState.init();\n\n\t\t\trenderStateStack.push( currentRenderState );\n\n\t\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tcurrentRenderState.setupLights( _this.useLegacyLights );\n\n\t\t\tscene.traverse( function ( object ) {\n\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( material ) {\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\t\tprepare( material2, scene, object );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tprepare( material, scene, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\trenderStateStack.pop();\n\t\t\tcurrentRenderState = null;\n\n\t\t};\n\n\t\t// Animation Loop\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame( time ) {\n\n\t\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t\t}\n\n\t\tfunction onXRSessionStart() {\n\n\t\t\tanimation.stop();\n\n\t\t}\n\n\t\tfunction onXRSessionEnd() {\n\n\t\t\tanimation.start();\n\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\t\tanimation.setAnimationLoop( onAnimationFrame );\n\n\t\tif ( typeof self !== 'undefined' ) animation.setContext( self );\n\n\t\tthis.setAnimationLoop = function ( callback ) {\n\n\t\t\tonAnimationFrameCallback = callback;\n\t\t\txr.setAnimationLoop( callback );\n\n\t\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t\t};\n\n\t\txr.addEventListener( 'sessionstart', onXRSessionStart );\n\t\txr.addEventListener( 'sessionend', onXRSessionEnd );\n\n\t\t// Rendering\n\n\t\tthis.render = function ( scene, camera ) {\n\n\t\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( _isContextLost === true ) return;\n\n\t\t\t// update scene graph\n\n\t\t\tif ( scene.matrixWorldAutoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t\t// update camera matrices and frustum\n\n\t\t\tif ( camera.parent === null && camera.matrixWorldAutoUpdate === true ) camera.updateMatrixWorld();\n\n\t\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\t\tif ( xr.cameraAutoUpdate === true ) xr.updateCamera( camera );\n\n\t\t\t\tcamera = xr.getCamera(); // use XR camera for rendering\n\n\t\t\t}\n\n\t\t\t//\n\t\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, _currentRenderTarget );\n\n\t\t\tcurrentRenderState = renderStates.get( scene, renderStateStack.length );\n\t\t\tcurrentRenderState.init();\n\n\t\t\trenderStateStack.push( currentRenderState );\n\n\t\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled );\n\n\t\t\tcurrentRenderList = renderLists.get( scene, renderListStack.length );\n\t\t\tcurrentRenderList.init();\n\n\t\t\trenderListStack.push( currentRenderList );\n\n\t\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\t\tcurrentRenderList.finish();\n\n\t\t\tif ( _this.sortObjects === true ) {\n\n\t\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t\t//\n\n\t\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\t\t//\n\n\t\t\tbackground.render( currentRenderList, scene );\n\n\t\t\t// render scene\n\n\t\t\tcurrentRenderState.setupLights( _this.useLegacyLights );\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\tconst cameras = camera.cameras;\n\n\t\t\t\tfor ( let i = 0, l = cameras.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst camera2 = cameras[ i ];\n\n\t\t\t\t\trenderScene( currentRenderList, scene, camera2, camera2.viewport );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\trenderScene( currentRenderList, scene, camera );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t\t// _gl.finish();\n\n\t\t\tbindingStates.resetDefaultState();\n\t\t\t_currentMaterialId = - 1;\n\t\t\t_currentCamera = null;\n\n\t\t\trenderStateStack.pop();\n\n\t\t\tif ( renderStateStack.length > 0 ) {\n\n\t\t\t\tcurrentRenderState = renderStateStack[ renderStateStack.length - 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tcurrentRenderState = null;\n\n\t\t\t}\n\n\t\t\trenderListStack.pop();\n\n\t\t\tif ( renderListStack.length > 0 ) {\n\n\t\t\t\tcurrentRenderList = renderListStack[ renderListStack.length - 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tcurrentRenderList = null;\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\t\tif ( object.visible === false ) return;\n\n\t\t\tconst visible = object.layers.test( camera.layers );\n\n\t\t\tif ( visible ) {\n\n\t\t\t\tif ( object.isGroup ) {\n\n\t\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst children = object.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction renderScene( currentRenderList, scene, camera, viewport ) {\n\n\t\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\t\tconst transmissiveObjects = currentRenderList.transmissive;\n\t\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\t\tcurrentRenderState.setupLightsView( camera );\n\n\t\t\tif ( _clippingEnabled === true ) clipping.setGlobalState( _this.clippingPlanes, camera );\n\n\t\t\tif ( transmissiveObjects.length > 0 ) renderTransmissionPass( opaqueObjects, transmissiveObjects, scene, camera );\n\n\t\t\tif ( viewport ) state.viewport( _currentViewport.copy( viewport ) );\n\n\t\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\t\tif ( transmissiveObjects.length > 0 ) renderObjects( transmissiveObjects, scene, camera );\n\t\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\t\tstate.buffers.depth.setTest( true );\n\t\t\tstate.buffers.depth.setMask( true );\n\t\t\tstate.buffers.color.setMask( true );\n\n\t\t\tstate.setPolygonOffset( false );\n\n\t\t}\n\n\t\tfunction renderTransmissionPass( opaqueObjects, transmissiveObjects, scene, camera ) {\n\n\t\t\tif ( _transmissionRenderTarget === null ) {\n\n\t\t\t\tconst isWebGL2 = capabilities.isWebGL2;\n\n\t\t\t\t_transmissionRenderTarget = new WebGLRenderTarget( 1024, 1024, {\n\t\t\t\t\tgenerateMipmaps: true,\n\t\t\t\t\ttype: extensions.has( 'EXT_color_buffer_half_float' ) ? HalfFloatType : UnsignedByteType,\n\t\t\t\t\tminFilter: LinearMipmapLinearFilter,\n\t\t\t\t\tsamples: ( isWebGL2 && antialias === true ) ? 4 : 0\n\t\t\t\t} );\n\n\t\t\t\t// debug\n\n\t\t\t\t/*\n\t\t\t\tconst geometry = new PlaneGeometry();\n\t\t\t\tconst material = new MeshBasicMaterial( { map: _transmissionRenderTarget.texture } );\n\n\t\t\t\tconst mesh = new Mesh( geometry, material );\n\t\t\t\tscene.add( mesh );\n\t\t\t\t*/\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tconst currentRenderTarget = _this.getRenderTarget();\n\t\t\t_this.setRenderTarget( _transmissionRenderTarget );\n\t\t\t_this.clear();\n\n\t\t\t// Turn off the features which can affect the frag color for opaque objects pass.\n\t\t\t// Otherwise they are applied twice in opaque objects pass and transmission objects pass.\n\t\t\tconst currentToneMapping = _this.toneMapping;\n\t\t\t_this.toneMapping = NoToneMapping;\n\n\t\t\trenderObjects( opaqueObjects, scene, camera );\n\n\t\t\ttextures.updateMultisampleRenderTarget( _transmissionRenderTarget );\n\t\t\ttextures.updateRenderTargetMipmap( _transmissionRenderTarget );\n\n\t\t\tlet renderTargetNeedsUpdate = false;\n\n\t\t\tfor ( let i = 0, l = transmissiveObjects.length; i < l; i ++ ) {\n\n\t\t\t\tconst renderItem = transmissiveObjects[ i ];\n\n\t\t\t\tconst object = renderItem.object;\n\t\t\t\tconst geometry = renderItem.geometry;\n\t\t\t\tconst material = renderItem.material;\n\t\t\t\tconst group = renderItem.group;\n\n\t\t\t\tif ( material.side === DoubleSide && object.layers.test( camera.layers ) ) {\n\n\t\t\t\t\tconst currentSide = material.side;\n\n\t\t\t\t\tmaterial.side = BackSide;\n\t\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t\t\tmaterial.side = currentSide;\n\t\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t\t\trenderTargetNeedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( renderTargetNeedsUpdate === true ) {\n\n\t\t\t\ttextures.updateMultisampleRenderTarget( _transmissionRenderTarget );\n\t\t\t\ttextures.updateRenderTargetMipmap( _transmissionRenderTarget );\n\n\t\t\t}\n\n\t\t\t_this.setRenderTarget( currentRenderTarget );\n\n\t\t\t_this.toneMapping = currentToneMapping;\n\n\t\t}\n\n\t\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\t\tconst object = renderItem.object;\n\t\t\t\tconst geometry = renderItem.geometry;\n\t\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\t\tconst group = renderItem.group;\n\n\t\t\t\tif ( object.layers.test( camera.layers ) ) {\n\n\t\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\t\tmaterial.onBeforeRender( _this, scene, camera, geometry, object, group );\n\n\t\t\tif ( material.transparent === true && material.side === DoubleSide && material.forceSinglePass === false ) {\n\n\t\t\t\tmaterial.side = BackSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\t\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\t\tmaterial.side = FrontSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\t\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\t\tmaterial.side = DoubleSide;\n\n\t\t\t} else {\n\n\t\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\t}\n\n\t\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t\t}\n\n\t\tfunction getProgram( material, scene, object ) {\n\n\t\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\t\tconst materialProperties = properties.get( material );\n\n\t\t\tconst lights = currentRenderState.state.lights;\n\t\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\t\tconst lightsStateVersion = lights.state.version;\n\n\t\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\t\tlet programs = materialProperties.programs;\n\n\t\t\t// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tmaterialProperties.fog = scene.fog;\n\t\t\tmaterialProperties.envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || materialProperties.environment );\n\n\t\t\tif ( programs === undefined ) {\n\n\t\t\t\t// new material\n\n\t\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t\t\tprograms = new Map();\n\t\t\t\tmaterialProperties.programs = programs;\n\n\t\t\t}\n\n\t\t\tlet program = programs.get( programCacheKey );\n\n\t\t\tif ( program !== undefined ) {\n\n\t\t\t\t// early out if program and light state is identical\n\n\t\t\t\tif ( materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion ) {\n\n\t\t\t\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t\t\t\treturn program;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\t\tmaterial.onBuild( object, parameters, _this );\n\n\t\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\t\t\t\tprograms.set( programCacheKey, program );\n\n\t\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\n\t\t\t}\n\n\t\t\tconst uniforms = materialProperties.uniforms;\n\n\t\t\tif ( ( ! material.isShaderMaterial && ! material.isRawShaderMaterial ) || material.clipping === true ) {\n\n\t\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t\t}\n\n\t\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t\t// store the light setup it was created for\n\n\t\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\t\tuniforms.spotLightMatrix.value = lights.state.spotLightMatrix;\n\t\t\t\tuniforms.spotLightMap.value = lights.state.spotLightMap;\n\t\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t\t}\n\n\t\t\tconst progUniforms = program.getUniforms();\n\t\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\t\tmaterialProperties.currentProgram = program;\n\t\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t\t\treturn program;\n\n\t\t}\n\n\t\tfunction updateCommonMaterialProperties( material, parameters ) {\n\n\t\t\tconst materialProperties = properties.get( material );\n\n\t\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\t\tmaterialProperties.instancing = parameters.instancing;\n\t\t\tmaterialProperties.skinning = parameters.skinning;\n\t\t\tmaterialProperties.morphTargets = parameters.morphTargets;\n\t\t\tmaterialProperties.morphNormals = parameters.morphNormals;\n\t\t\tmaterialProperties.morphColors = parameters.morphColors;\n\t\t\tmaterialProperties.morphTargetsCount = parameters.morphTargetsCount;\n\t\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\t\t\tmaterialProperties.vertexTangents = parameters.vertexTangents;\n\t\t\tmaterialProperties.toneMapping = parameters.toneMapping;\n\n\t\t}\n\n\t\tfunction setProgram( camera, scene, geometry, material, object ) {\n\n\t\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\t\ttextures.resetTextureUnits();\n\n\t\t\tconst fog = scene.fog;\n\t\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : ( _currentRenderTarget.isXRRenderTarget === true ? _currentRenderTarget.texture.encoding : LinearEncoding );\n\t\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\t\t\tconst vertexAlphas = material.vertexColors === true && !! geometry.attributes.color && geometry.attributes.color.itemSize === 4;\n\t\t\tconst vertexTangents = !! material.normalMap && !! geometry.attributes.tangent;\n\t\t\tconst morphTargets = !! geometry.morphAttributes.position;\n\t\t\tconst morphNormals = !! geometry.morphAttributes.normal;\n\t\t\tconst morphColors = !! geometry.morphAttributes.color;\n\t\t\tconst toneMapping = material.toneMapped ? _this.toneMapping : NoToneMapping;\n\n\t\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\t\tconst materialProperties = properties.get( material );\n\t\t\tconst lights = currentRenderState.state.lights;\n\n\t\t\tif ( _clippingEnabled === true ) {\n\n\t\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\t\tconst useCache =\n\t\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t\t// (#8465, #8379)\n\t\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet needsProgramChange = false;\n\n\t\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\t\tif ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( object.isInstancedMesh && materialProperties.instancing === false ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( ! object.isInstancedMesh && materialProperties.instancing === true ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( object.isSkinnedMesh && materialProperties.skinning === false ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( ! object.isSkinnedMesh && materialProperties.skinning === true ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( material.fog === true && materialProperties.fog !== fog ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( materialProperties.vertexAlphas !== vertexAlphas ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( materialProperties.vertexTangents !== vertexTangents ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( materialProperties.morphTargets !== morphTargets ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( materialProperties.morphNormals !== morphNormals ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( materialProperties.morphColors !== morphColors ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( materialProperties.toneMapping !== toneMapping ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t} else if ( capabilities.isWebGL2 === true && materialProperties.morphTargetsCount !== morphTargetsCount ) {\n\n\t\t\t\t\tneedsProgramChange = true;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tneedsProgramChange = true;\n\t\t\t\tmaterialProperties.__version = material.version;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet program = materialProperties.currentProgram;\n\n\t\t\tif ( needsProgramChange === true ) {\n\n\t\t\t\tprogram = getProgram( material, scene, object );\n\n\t\t\t}\n\n\t\t\tlet refreshProgram = false;\n\t\t\tlet refreshMaterial = false;\n\t\t\tlet refreshLights = false;\n\n\t\t\tconst p_uniforms = program.getUniforms(),\n\t\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\t\trefreshProgram = true;\n\t\t\t\trefreshMaterial = true;\n\t\t\t\trefreshLights = true;\n\n\t\t\t}\n\n\t\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t\t_currentMaterialId = material.id;\n\n\t\t\t\trefreshMaterial = true;\n\n\t\t\t}\n\n\t\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t\t}\n\n\t\t\t\t// load material specific uniforms\n\t\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t\t}\n\n\t\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\t\tobject.isSkinnedMesh ) {\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// skinning and morph target uniforms must be set even if material didn't change\n\t\t\t// auto-setting of texture unit for bone and morph texture must go before other textures\n\t\t\t// otherwise textures used for skinning and morphing can take over texture units reserved for other material textures\n\n\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\t\tconst skeleton = object.skeleton;\n\n\t\t\t\tif ( skeleton ) {\n\n\t\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\t\tif ( skeleton.boneTexture === null ) skeleton.computeBoneTexture();\n\n\t\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\t\tif ( morphAttributes.position !== undefined || morphAttributes.normal !== undefined || ( morphAttributes.color !== undefined && capabilities.isWebGL2 === true ) ) {\n\n\t\t\t\tmorphtargets.update( object, geometry, program );\n\n\t\t\t}\n\n\t\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t\t}\n\n\t\t\t// https://github.com/mrdoob/three.js/pull/24467#issuecomment-1209031512\n\n\t\t\tif ( material.isMeshGouraudMaterial && material.envMap !== null ) {\n\n\t\t\t\tm_uniforms.envMap.value = envMap;\n\n\t\t\t\tm_uniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t\t}\n\n\t\t\tif ( refreshMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t\t// values\n\t\t\t\t\t//\n\t\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t\t// the GL state when required\n\n\t\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t\t}\n\n\t\t\t\t// refresh uniforms common to several materials\n\n\t\t\t\tif ( fog && material.fog === true ) {\n\n\t\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t\t}\n\n\t\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height, _transmissionRenderTarget );\n\n\t\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t\t}\n\n\t\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t\t}\n\n\t\t\t// common matrices\n\n\t\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\t\t// UBOs\n\n\t\t\tif ( material.isShaderMaterial || material.isRawShaderMaterial ) {\n\n\t\t\t\tconst groups = material.uniformsGroups;\n\n\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\t\t\tuniformsGroups.update( group, program );\n\t\t\t\t\t\tuniformsGroups.bind( group, program );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn program;\n\n\t\t}\n\n\t\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\t\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\t\tuniforms.directionalLights.needsUpdate = value;\n\t\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\t\tuniforms.pointLights.needsUpdate = value;\n\t\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\t\tuniforms.spotLights.needsUpdate = value;\n\t\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t\t}\n\n\t\tfunction materialNeedsLights( material ) {\n\n\t\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t\t}\n\n\t\tthis.getActiveCubeFace = function () {\n\n\t\t\treturn _currentActiveCubeFace;\n\n\t\t};\n\n\t\tthis.getActiveMipmapLevel = function () {\n\n\t\t\treturn _currentActiveMipmapLevel;\n\n\t\t};\n\n\t\tthis.getRenderTarget = function () {\n\n\t\t\treturn _currentRenderTarget;\n\n\t\t};\n\n\t\tthis.setRenderTargetTextures = function ( renderTarget, colorTexture, depthTexture ) {\n\n\t\t\tproperties.get( renderTarget.texture ).__webglTexture = colorTexture;\n\t\t\tproperties.get( renderTarget.depthTexture ).__webglTexture = depthTexture;\n\n\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\t\trenderTargetProperties.__hasExternalTextures = true;\n\n\t\t\tif ( renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\t\trenderTargetProperties.__autoAllocateDepthBuffer = depthTexture === undefined;\n\n\t\t\t\tif ( ! renderTargetProperties.__autoAllocateDepthBuffer ) {\n\n\t\t\t\t\t// The multisample_render_to_texture extension doesn't work properly if there\n\t\t\t\t\t// are midframe flushes and an external depth buffer. Disable use of the extension.\n\t\t\t\t\tif ( extensions.has( 'WEBGL_multisampled_render_to_texture' ) === true ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided' );\n\t\t\t\t\t\trenderTargetProperties.__useRenderToTexture = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setRenderTargetFramebuffer = function ( renderTarget, defaultFramebuffer ) {\n\n\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\t\trenderTargetProperties.__webglFramebuffer = defaultFramebuffer;\n\t\t\trenderTargetProperties.__useDefaultFramebuffer = defaultFramebuffer === undefined;\n\n\t\t};\n\n\t\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t\t_currentRenderTarget = renderTarget;\n\t\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\t\tlet useDefaultFramebuffer = true;\n\t\t\tlet framebuffer = null;\n\t\t\tlet isCube = false;\n\t\t\tlet isRenderTarget3D = false;\n\n\t\t\tif ( renderTarget ) {\n\n\t\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\tif ( renderTargetProperties.__useDefaultFramebuffer !== undefined ) {\n\n\t\t\t\t\t// We need to make sure to rebind the framebuffer.\n\t\t\t\t\tstate.bindFramebuffer( 36160, null );\n\t\t\t\t\tuseDefaultFramebuffer = false;\n\n\t\t\t\t} else if ( renderTargetProperties.__webglFramebuffer === undefined ) {\n\n\t\t\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t\t\t} else if ( renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\t\t\t// Color and depth texture must be rebound in order for the swapchain to update.\n\t\t\t\t\ttextures.rebindTextures( renderTarget, properties.get( renderTarget.texture ).__webglTexture, properties.get( renderTarget.depthTexture ).__webglTexture );\n\n\t\t\t\t}\n\n\t\t\t\tconst texture = renderTarget.texture;\n\n\t\t\t\tif ( texture.isData3DTexture || texture.isDataArrayTexture || texture.isCompressedArrayTexture ) {\n\n\t\t\t\t\tisRenderTarget3D = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\t\tisCube = true;\n\n\t\t\t\t} else if ( ( capabilities.isWebGL2 && renderTarget.samples > 0 ) && textures.useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t\t}\n\n\t\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t\t} else {\n\n\t\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t\t}\n\n\t\t\tconst framebufferBound = state.bindFramebuffer( 36160, framebuffer );\n\n\t\t\tif ( framebufferBound && capabilities.drawBuffers && useDefaultFramebuffer ) {\n\n\t\t\t\tstate.drawBuffers( renderTarget, framebuffer );\n\n\t\t\t}\n\n\t\t\tstate.viewport( _currentViewport );\n\t\t\tstate.scissor( _currentScissor );\n\t\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t\t} else if ( isRenderTarget3D ) {\n\n\t\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t\tconst layer = activeCubeFace || 0;\n\t\t\t\t_gl.framebufferTextureLayer( 36160, 36064, textureProperties.__webglTexture, activeMipmapLevel || 0, layer );\n\n\t\t\t}\n\n\t\t\t_currentMaterialId = - 1; // reset current material to ensure correct uniform bindings\n\n\t\t};\n\n\t\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t\t}\n\n\t\t\tif ( framebuffer ) {\n\n\t\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\ttry {\n\n\t\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst halfFloatSupportedByExt = ( textureType === HalfFloatType ) && ( extensions.has( 'EXT_color_buffer_half_float' ) || ( capabilities.isWebGL2 && extensions.has( 'EXT_color_buffer_float' ) ) );\n\n\t\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.has( 'OES_texture_float' ) || extensions.has( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t\t! halfFloatSupportedByExt ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} finally {\n\n\t\t\t\t\t// restore framebuffer of current render target if necessary\n\n\t\t\t\t\tconst framebuffer = ( _currentRenderTarget !== null ) ? properties.get( _currentRenderTarget ).__webglFramebuffer : null;\n\t\t\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\n\n\t\t\tconst levelScale = Math.pow( 2, - level );\n\t\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\t\tconst height = Math.floor( texture.image.height * levelScale );\n\n\t\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t\t_gl.copyTexSubImage2D( 3553, level, 0, 0, position.x, position.y, width, height );\n\n\t\t\tstate.unbindTexture();\n\n\t\t};\n\n\t\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\n\n\t\t\tconst width = srcTexture.image.width;\n\t\t\tconst height = srcTexture.image.height;\n\t\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t\t// As another texture upload may have changed pixelStorei\n\t\t\t// parameters, make sure they are correct for the dstTexture\n\t\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t\t} else {\n\n\t\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Generate mipmaps only when copying level 0\n\t\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\t\tstate.unbindTexture();\n\n\t\t};\n\n\t\tthis.copyTextureToTexture3D = function ( sourceBox, position, srcTexture, dstTexture, level = 0 ) {\n\n\t\t\tif ( _this.isWebGL1Renderer ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst width = sourceBox.max.x - sourceBox.min.x + 1;\n\t\t\tconst height = sourceBox.max.y - sourceBox.min.y + 1;\n\t\t\tconst depth = sourceBox.max.z - sourceBox.min.z + 1;\n\t\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\t\tconst glType = utils.convert( dstTexture.type );\n\t\t\tlet glTarget;\n\n\t\t\tif ( dstTexture.isData3DTexture ) {\n\n\t\t\t\ttextures.setTexture3D( dstTexture, 0 );\n\t\t\t\tglTarget = 32879;\n\n\t\t\t} else if ( dstTexture.isDataArrayTexture ) {\n\n\t\t\t\ttextures.setTexture2DArray( dstTexture, 0 );\n\t\t\t\tglTarget = 35866;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\t\tconst unpackRowLen = _gl.getParameter( 3314 );\n\t\t\tconst unpackImageHeight = _gl.getParameter( 32878 );\n\t\t\tconst unpackSkipPixels = _gl.getParameter( 3316 );\n\t\t\tconst unpackSkipRows = _gl.getParameter( 3315 );\n\t\t\tconst unpackSkipImages = _gl.getParameter( 32877 );\n\n\t\t\tconst image = srcTexture.isCompressedTexture ? srcTexture.mipmaps[ 0 ] : srcTexture.image;\n\n\t\t\t_gl.pixelStorei( 3314, image.width );\n\t\t\t_gl.pixelStorei( 32878, image.height );\n\t\t\t_gl.pixelStorei( 3316, sourceBox.min.x );\n\t\t\t_gl.pixelStorei( 3315, sourceBox.min.y );\n\t\t\t_gl.pixelStorei( 32877, sourceBox.min.z );\n\n\t\t\tif ( srcTexture.isDataTexture || srcTexture.isData3DTexture ) {\n\n\t\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image.data );\n\n\t\t\t} else {\n\n\t\t\t\tif ( srcTexture.isCompressedArrayTexture ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture.' );\n\t\t\t\t\t_gl.compressedTexSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, image.data );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_gl.pixelStorei( 3314, unpackRowLen );\n\t\t\t_gl.pixelStorei( 32878, unpackImageHeight );\n\t\t\t_gl.pixelStorei( 3316, unpackSkipPixels );\n\t\t\t_gl.pixelStorei( 3315, unpackSkipRows );\n\t\t\t_gl.pixelStorei( 32877, unpackSkipImages );\n\n\t\t\t// Generate mipmaps only when copying level 0\n\t\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( glTarget );\n\n\t\t\tstate.unbindTexture();\n\n\t\t};\n\n\t\tthis.initTexture = function ( texture ) {\n\n\t\t\tif ( texture.isCubeTexture ) {\n\n\t\t\t\ttextures.setTextureCube( texture, 0 );\n\n\t\t\t} else if ( texture.isData3DTexture ) {\n\n\t\t\t\ttextures.setTexture3D( texture, 0 );\n\n\t\t\t} else if ( texture.isDataArrayTexture || texture.isCompressedArrayTexture ) {\n\n\t\t\t\ttextures.setTexture2DArray( texture, 0 );\n\n\t\t\t} else {\n\n\t\t\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t};\n\n\t\tthis.resetState = function () {\n\n\t\t\t_currentActiveCubeFace = 0;\n\t\t\t_currentActiveMipmapLevel = 0;\n\t\t\t_currentRenderTarget = null;\n\n\t\t\tstate.reset();\n\t\t\tbindingStates.reset();\n\n\t\t};\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) );\n\n\t\t}\n\n\t}\n\n\tget physicallyCorrectLights() { // @deprecated, r150\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead.' );\n\t\treturn ! this.useLegacyLights;\n\n\t}\n\n\tset physicallyCorrectLights( value ) { // @deprecated, r150\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead.' );\n\t\tthis.useLegacyLights = ! value;\n\n\t}\n\n}\n\nclass WebGL1Renderer extends WebGLRenderer {}\n\nWebGL1Renderer.prototype.isWebGL1Renderer = true;\n\nclass FogExp2 {\n\n\tconstructor( color, density = 0.00025 ) {\n\n\t\tthis.isFogExp2 = true;\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\t\tthis.density = density;\n\n\t}\n\n\tclone() {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n}\n\nclass Fog {\n\n\tconstructor( color, near = 1, far = 1000 ) {\n\n\t\tthis.isFog = true;\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n}\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isScene = true;\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.backgroundBlurriness = 0;\n\t\tthis.backgroundIntensity = 1;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) );\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tthis.backgroundBlurriness = source.backgroundBlurriness;\n\t\tthis.backgroundIntensity = source.backgroundIntensity;\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\t\tif ( this.backgroundBlurriness > 0 ) data.object.backgroundBlurriness = this.backgroundBlurriness;\n\t\tif ( this.backgroundIntensity !== 1 ) data.object.backgroundIntensity = this.backgroundIntensity;\n\n\t\treturn data;\n\n\t}\n\n\tget autoUpdate() { // @deprecated, r144\n\n\t\tconsole.warn( 'THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144.' );\n\t\treturn this.matrixWorldAutoUpdate;\n\n\t}\n\n\tset autoUpdate( value ) { // @deprecated, r144\n\n\t\tconsole.warn( 'THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144.' );\n\t\tthis.matrixWorldAutoUpdate = value;\n\n\t}\n\n}\n\nclass InterleavedBuffer {\n\n\tconstructor( array, stride ) {\n\n\t\tthis.isInterleavedBuffer = true;\n\n\t\tthis.array = array;\n\t\tthis.stride = stride;\n\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.uuid = generateUUID();\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new this.constructor( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.from( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n}\n\nconst _vector$5 = /*@__PURE__*/ new Vector3();\n\nclass InterleavedBufferAttribute {\n\n\tconstructor( interleavedBuffer, itemSize, offset, normalized = false ) {\n\n\t\tthis.isInterleavedBufferAttribute = true;\n\n\t\tthis.name = '';\n\n\t\tthis.data = interleavedBuffer;\n\t\tthis.itemSize = itemSize;\n\t\tthis.offset = offset;\n\n\t\tthis.normalized = normalized;\n\n\t}\n\n\tget count() {\n\n\t\treturn this.data.count;\n\n\t}\n\n\tget array() {\n\n\t\treturn this.data.array;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tthis.data.needsUpdate = value;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$5.fromBufferAttribute( this, i );\n\n\t\t\t_vector$5.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$5.x, _vector$5.y, _vector$5.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$5.fromBufferAttribute( this, i );\n\n\t\t\t_vector$5.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$5.x, _vector$5.y, _vector$5.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$5.fromBufferAttribute( this, i );\n\n\t\t\t_vector$5.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$5.x, _vector$5.y, _vector$5.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tif ( this.normalized ) x = normalize( x, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tif ( this.normalized ) y = normalize( y, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tif ( this.normalized ) z = normalize( z, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tif ( this.normalized ) w = normalize( w, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\tlet x = this.data.array[ index * this.data.stride + this.offset ];\n\n\t\tif ( this.normalized ) x = denormalize( x, this.array );\n\n\t\treturn x;\n\n\t}\n\n\tgetY( index ) {\n\n\t\tlet y = this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t\tif ( this.normalized ) y = denormalize( y, this.array );\n\n\t\treturn y;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\tlet z = this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t\tif ( this.normalized ) z = denormalize( z, this.array );\n\n\t\treturn z;\n\n\t}\n\n\tgetW( index ) {\n\n\t\tlet w = this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t\tif ( this.normalized ) w = denormalize( w, this.array );\n\n\t\treturn w;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\n\t\t}\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\n\t\t}\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\t\t\tw = normalize( w, this.array );\n\n\t\t}\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// de-interleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interleaved attribute\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n}\n\nclass SpriteMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isSpriteMaterial = true;\n\n\t\tthis.type = 'SpriteMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.rotation = 0;\n\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.transparent = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nlet _geometry;\n\nconst _intersectPoint = /*@__PURE__*/ new Vector3();\nconst _worldScale = /*@__PURE__*/ new Vector3();\nconst _mvPosition = /*@__PURE__*/ new Vector3();\n\nconst _alignedPosition = /*@__PURE__*/ new Vector2();\nconst _rotatedPosition = /*@__PURE__*/ new Vector2();\nconst _viewWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _vA = /*@__PURE__*/ new Vector3();\nconst _vB = /*@__PURE__*/ new Vector3();\nconst _vC = /*@__PURE__*/ new Vector3();\n\nconst _uvA = /*@__PURE__*/ new Vector2();\nconst _uvB = /*@__PURE__*/ new Vector2();\nconst _uvC = /*@__PURE__*/ new Vector2();\n\nclass Sprite extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.isSprite = true;\n\n\t\tthis.type = 'Sprite';\n\n\t\tif ( _geometry === undefined ) {\n\n\t\t\t_geometry = new BufferGeometry();\n\n\t\t\tconst float32Array = new Float32Array( [\n\t\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t\t] );\n\n\t\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t\t}\n\n\t\tthis.geometry = _geometry;\n\t\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\t\tthis.center = new Vector2( 0.5, 0.5 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA.set( 0, 0 );\n\t\t_uvB.set( 1, 0 );\n\t\t_uvC.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA, _vB, _vC, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA, _vC, _vB, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getInterpolation( _intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n}\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\nconst _v1$2 = /*@__PURE__*/ new Vector3();\nconst _v2$1 = /*@__PURE__*/ new Vector3();\n\nclass LOD extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis._currentLevel = 0;\n\n\t\tthis.type = 'LOD';\n\n\t\tObject.defineProperties( this, {\n\t\t\tlevels: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tisLOD: {\n\t\t\t\tvalue: true,\n\t\t\t}\n\t\t} );\n\n\t\tthis.autoUpdate = true;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tconst levels = source.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance, level.hysteresis );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\taddLevel( object, distance = 0, hysteresis = 0 ) {\n\n\t\tdistance = Math.abs( distance );\n\n\t\tconst levels = this.levels;\n\n\t\tlet l;\n\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, hysteresis: hysteresis, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t}\n\n\tgetCurrentLevel() {\n\n\t\treturn this._currentLevel;\n\n\t}\n\n\n\n\tgetObjectForDistance( distance ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tlet levelDistance = levels[ i ].distance;\n\n\t\t\t\tif ( levels[ i ].object.visible ) {\n\n\t\t\t\t\tlevelDistance -= levelDistance * levels[ i ].hysteresis;\n\n\t\t\t\t}\n\n\t\t\t\tif ( distance < levelDistance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$2 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$1.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = _v1$2.distanceTo( _v2$1 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tlet levelDistance = levels[ i ].distance;\n\n\t\t\t\tif ( levels[ i ].object.visible ) {\n\n\t\t\t\t\tlevelDistance -= levelDistance * levels[ i ].hysteresis;\n\n\t\t\t\t}\n\n\t\t\t\tif ( distance >= levelDistance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tconst levels = this.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance,\n\t\t\t\thysteresis: level.hysteresis\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _basePosition = /*@__PURE__*/ new Vector3();\n\nconst _skinIndex = /*@__PURE__*/ new Vector4();\nconst _skinWeight = /*@__PURE__*/ new Vector4();\n\nconst _vector3 = /*@__PURE__*/ new Vector3();\nconst _matrix4 = /*@__PURE__*/ new Matrix4();\nconst _vertex = /*@__PURE__*/ new Vector3();\n\nclass SkinnedMesh extends Mesh {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isSkinnedMesh = true;\n\n\t\tthis.type = 'SkinnedMesh';\n\n\t\tthis.bindMode = 'attached';\n\t\tthis.bindMatrix = new Matrix4();\n\t\tthis.bindMatrixInverse = new Matrix4();\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.makeEmpty();\n\n\t\tconst positionAttribute = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0; i < positionAttribute.count; i ++ ) {\n\n\t\t\t_vertex.fromBufferAttribute( positionAttribute, i );\n\t\t\tthis.applyBoneTransform( i, _vertex );\n\t\t\tthis.boundingBox.expandByPoint( _vertex );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.makeEmpty();\n\n\t\tconst positionAttribute = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0; i < positionAttribute.count; i ++ ) {\n\n\t\t\t_vertex.fromBufferAttribute( positionAttribute, i );\n\t\t\tthis.applyBoneTransform( i, _vertex );\n\t\t\tthis.boundingSphere.expandByPoint( _vertex );\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t}\n\n\tbind( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.copy( bindMatrix ).invert();\n\n\t}\n\n\tpose() {\n\n\t\tthis.skeleton.pose();\n\n\t}\n\n\tnormalizeSkinWeights() {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.fromBufferAttribute( skinWeight, i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.matrixWorld ).invert();\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.bindMatrix ).invert();\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t}\n\n\tapplyBoneTransform( index, vector ) {\n\n\t\tconst skeleton = this.skeleton;\n\t\tconst geometry = this.geometry;\n\n\t\t_skinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t_skinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t_basePosition.copy( vector ).applyMatrix4( this.bindMatrix );\n\n\t\tvector.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\tconst weight = _skinWeight.getComponent( i );\n\n\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\tconst boneIndex = _skinIndex.getComponent( i );\n\n\t\t\t\t_matrix4.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\tvector.addScaledVector( _vector3.copy( _basePosition ).applyMatrix4( _matrix4 ), weight );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn vector.applyMatrix4( this.bindMatrixInverse );\n\n\t}\n\n\tboneTransform( index, vector ) { // @deprecated, r151\n\n\t\tconsole.warn( 'THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151.' );\n\t\treturn this.applyBoneTransform( index, vector );\n\n\t}\n\n\n}\n\nclass Bone extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isBone = true;\n\n\t\tthis.type = 'Bone';\n\n\t}\n\n}\n\nclass DataTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, format, type, mapping, wrapS, wrapT, magFilter = NearestFilter, minFilter = NearestFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isDataTexture = true;\n\n\t\tthis.image = { data: data, width: width, height: height };\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nconst _offsetMatrix = /*@__PURE__*/ new Matrix4();\nconst _identityMatrix = /*@__PURE__*/ new Matrix4();\n\nclass Skeleton {\n\n\tconstructor( bones = [], boneInverses = [] ) {\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.bones = bones.slice( 0 );\n\t\tthis.boneInverses = boneInverses;\n\t\tthis.boneMatrices = null;\n\n\t\tthis.boneTexture = null;\n\t\tthis.boneTextureSize = 0;\n\n\t\tthis.frame = - 1;\n\n\t\tthis.init();\n\n\t}\n\n\tinit() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tthis.boneMatrices = new Float32Array( bones.length * 16 );\n\n\t\t// calculate inverse bone matrices if necessary\n\n\t\tif ( boneInverses.length === 0 ) {\n\n\t\t\tthis.calculateInverses();\n\n\t\t} else {\n\n\t\t\t// handle special case\n\n\t\t\tif ( bones.length !== boneInverses.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.' );\n\n\t\t\t\tthis.boneInverses = [];\n\n\t\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcalculateInverses() {\n\n\t\tthis.boneInverses.length = 0;\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.copy( this.bones[ i ].matrixWorld ).invert();\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t}\n\n\tpose() {\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.copy( this.boneInverses[ i ] ).invert();\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.copy( bone.parent.matrixWorld ).invert();\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdate() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\t\tconst boneMatrices = this.boneMatrices;\n\t\tconst boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== null ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t}\n\n\tcomputeBoneTexture() {\n\n\t\t// layout (1 matrix = 4 pixels)\n\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\t\tlet size = Math.sqrt( this.bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\tsize = ceilPowerOfTwo( size );\n\t\tsize = Math.max( size, 4 );\n\n\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\tboneMatrices.set( this.boneMatrices ); // copy current values\n\n\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\t\tboneTexture.needsUpdate = true;\n\n\t\tthis.boneMatrices = boneMatrices;\n\t\tthis.boneTexture = boneTexture;\n\t\tthis.boneTextureSize = size;\n\n\t\treturn this;\n\n\t}\n\n\tgetBoneByName( name ) {\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tdispose( ) {\n\n\t\tif ( this.boneTexture !== null ) {\n\n\t\t\tthis.boneTexture.dispose();\n\n\t\t\tthis.boneTexture = null;\n\n\t\t}\n\n\t}\n\n\tfromJSON( json, bones ) {\n\n\t\tthis.uuid = json.uuid;\n\n\t\tfor ( let i = 0, l = json.bones.length; i < l; i ++ ) {\n\n\t\t\tconst uuid = json.bones[ i ];\n\t\t\tlet bone = bones[ uuid ];\n\n\t\t\tif ( bone === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: No bone found with UUID:', uuid );\n\t\t\t\tbone = new Bone();\n\n\t\t\t}\n\n\t\t\tthis.bones.push( bone );\n\t\t\tthis.boneInverses.push( new Matrix4().fromArray( json.boneInverses[ i ] ) );\n\n\t\t}\n\n\t\tthis.init();\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Skeleton',\n\t\t\t\tgenerator: 'Skeleton.toJSON'\n\t\t\t},\n\t\t\tbones: [],\n\t\t\tboneInverses: []\n\t\t};\n\n\t\tdata.uuid = this.uuid;\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tfor ( let i = 0, l = bones.length; i < l; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\t\t\tdata.bones.push( bone.uuid );\n\n\t\t\tconst boneInverse = boneInverses[ i ];\n\t\t\tdata.boneInverses.push( boneInverse.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass InstancedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized, meshPerAttribute = 1 ) {\n\n\t\tsuper( array, itemSize, normalized );\n\n\t\tthis.isInstancedBufferAttribute = true;\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _instanceLocalMatrix = /*@__PURE__*/ new Matrix4();\nconst _instanceWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _box3 = /*@__PURE__*/ new Box3();\nconst _identity = /*@__PURE__*/ new Matrix4();\nconst _mesh = /*@__PURE__*/ new Mesh();\nconst _sphere$2 = /*@__PURE__*/ new Sphere();\n\nclass InstancedMesh extends Mesh {\n\n\tconstructor( geometry, material, count ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isInstancedMesh = true;\n\n\t\tthis.instanceMatrix = new InstancedBufferAttribute( new Float32Array( count * 16 ), 16 );\n\t\tthis.instanceColor = null;\n\n\t\tthis.count = count;\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tthis.setMatrixAt( i, _identity );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst count = this.count;\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\tgeometry.computeBoundingBox();\n\n\t\t}\n\n\t\tthis.boundingBox.makeEmpty();\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tthis.getMatrixAt( i, _instanceLocalMatrix );\n\n\t\t\t_box3.copy( geometry.boundingBox ).applyMatrix4( _instanceLocalMatrix );\n\n\t\t\tthis.boundingBox.union( _box3 );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst count = this.count;\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere === null ) {\n\n\t\t\tgeometry.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.makeEmpty();\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tthis.getMatrixAt( i, _instanceLocalMatrix );\n\n\t\t\t_sphere$2.copy( geometry.boundingSphere ).applyMatrix4( _instanceLocalMatrix );\n\n\t\t\tthis.boundingSphere.union( _sphere$2 );\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\n\t\tif ( source.instanceColor !== null ) this.instanceColor = source.instanceColor.clone();\n\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t}\n\n\tgetColorAt( index, color ) {\n\n\t\tcolor.fromArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tgetMatrixAt( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\t// test with bounding sphere first\n\n\t\tif ( this.boundingSphere === null ) this.computeBoundingSphere();\n\n\t\t_sphere$2.copy( this.boundingSphere );\n\t\t_sphere$2.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$2 ) === false ) return;\n\n\t\t// now test each instance\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t}\n\n\tsetColorAt( index, color ) {\n\n\t\tif ( this.instanceColor === null ) {\n\n\t\t\tthis.instanceColor = new InstancedBufferAttribute( new Float32Array( this.instanceMatrix.count * 3 ), 3 );\n\n\t\t}\n\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tsetMatrixAt( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nclass LineBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isLineBasicMaterial = true;\n\n\t\tthis.type = 'LineBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.linewidth = 1;\n\t\tthis.linecap = 'round';\n\t\tthis.linejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.linewidth = source.linewidth;\n\t\tthis.linecap = source.linecap;\n\t\tthis.linejoin = source.linejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _start$1 = /*@__PURE__*/ new Vector3();\nconst _end$1 = /*@__PURE__*/ new Vector3();\nconst _inverseMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _ray$1 = /*@__PURE__*/ new Ray();\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\n\nclass Line extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new LineBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isLine = true;\n\n\t\tthis.type = 'Line';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\t// we assume non-indexed geometry\n\n\t\tif ( geometry.index === null ) {\n\n\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i ] += _start$1.distanceTo( _end$1 );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere );\n\t\t_sphere$1.applyMatrix4( matrixWorld );\n\t\t_sphere$1.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$1 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.copy( matrixWorld ).invert();\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\tconst index = geometry.index;\n\t\tconst attributes = geometry.attributes;\n\t\tconst positionAttribute = attributes.position;\n\n\t\tif ( index !== null ) {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\tconst a = index.getX( i );\n\t\t\t\tconst b = index.getX( i + 1 );\n\n\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\n\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\n\n\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nconst _start = /*@__PURE__*/ new Vector3();\nconst _end = /*@__PURE__*/ new Vector3();\n\nclass LineSegments extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isLineSegments = true;\n\n\t\tthis.type = 'LineSegments';\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\t// we assume non-indexed geometry\n\n\t\tif ( geometry.index === null ) {\n\n\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\tconst lineDistances = [];\n\n\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t_start.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t_end.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start.distanceTo( _end );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineLoop extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isLineLoop = true;\n\n\t\tthis.type = 'LineLoop';\n\n\t}\n\n}\n\nclass PointsMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isPointsMaterial = true;\n\n\t\tthis.type = 'PointsMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.size = 1;\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.size = source.size;\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\nconst _position$2 = /*@__PURE__*/ new Vector3();\n\nclass Points extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new PointsMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isPoints = true;\n\n\t\tthis.type = 'Points';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\t\t_sphere.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst index = geometry.index;\n\t\tconst attributes = geometry.attributes;\n\t\tconst positionAttribute = attributes.position;\n\n\t\tif ( index !== null ) {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, il = end; i < il; i ++ ) {\n\n\t\t\t\tconst a = index.getX( i );\n\n\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\ttestPoint( _position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end; i < l; i ++ ) {\n\n\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\ttestPoint( _position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nclass VideoTexture extends Texture {\n\n\tconstructor( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isVideoTexture = true;\n\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tconst scope = this;\n\n\t\tfunction updateVideo() {\n\n\t\t\tscope.needsUpdate = true;\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t\tif ( 'requestVideoFrameCallback' in video ) {\n\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.image ).copy( this );\n\n\t}\n\n\tupdate() {\n\n\t\tconst video = this.image;\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nclass FramebufferTexture extends Texture {\n\n\tconstructor( width, height, format ) {\n\n\t\tsuper( { width, height } );\n\n\t\tthis.isFramebufferTexture = true;\n\n\t\tthis.format = format;\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nclass CompressedTexture extends Texture {\n\n\tconstructor( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isCompressedTexture = true;\n\n\t\tthis.image = { width: width, height: height };\n\t\tthis.mipmaps = mipmaps;\n\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\n\t\tthis.flipY = false;\n\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n}\n\nclass CompressedArrayTexture extends CompressedTexture {\n\n\tconstructor( mipmaps, width, height, depth, format, type ) {\n\n\t\tsuper( mipmaps, width, height, format, type );\n\n\t\tthis.isCompressedArrayTexture = true;\n\t\tthis.image.depth = depth;\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t}\n\n}\n\nclass CanvasTexture extends Texture {\n\n\tconstructor( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isCanvasTexture = true;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nclass Curve {\n\n\tconstructor() {\n\n\t\tthis.type = 'Curve';\n\n\t\tthis.arcLengthDivisions = 200;\n\n\t}\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t}\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t}\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get total curve arc length\n\n\tgetLength() {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t}\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths( divisions = this.arcLengthDivisions ) {\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t}\n\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t}\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0;\n\t\tconst il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t}\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tgetTangentAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t}\n\n\tcomputeFrenetFrames( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass EllipseCurve extends Curve {\n\n\tconstructor( aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.isEllipseCurve = true;\n\n\t\tthis.type = 'EllipseCurve';\n\n\t\tthis.aX = aX;\n\t\tthis.aY = aY;\n\n\t\tthis.xRadius = xRadius;\n\t\tthis.yRadius = yRadius;\n\n\t\tthis.aStartAngle = aStartAngle;\n\t\tthis.aEndAngle = aEndAngle;\n\n\t\tthis.aClockwise = aClockwise;\n\n\t\tthis.aRotation = aRotation;\n\n\t}\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst point = optionalTarget || new Vector2();\n\n\t\tconst twoPi = Math.PI * 2;\n\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t\t// ensures that deltaAngle is 0 .. 2 PI\n\t\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\t\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\t\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\t\tif ( samePoints ) {\n\n\t\t\t\tdeltaAngle = 0;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\t\tdeltaAngle = - twoPi;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst angle = this.aStartAngle + t * deltaAngle;\n\t\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\t\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\t\tif ( this.aRotation !== 0 ) {\n\n\t\t\tconst cos = Math.cos( this.aRotation );\n\t\t\tconst sin = Math.sin( this.aRotation );\n\n\t\t\tconst tx = x - this.aX;\n\t\t\tconst ty = y - this.aY;\n\n\t\t\t// Rotate the point about the center of the ellipse.\n\t\t\tx = tx * cos - ty * sin + this.aX;\n\t\t\ty = tx * sin + ty * cos + this.aY;\n\n\t\t}\n\n\t\treturn point.set( x, y );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.aX = source.aX;\n\t\tthis.aY = source.aY;\n\n\t\tthis.xRadius = source.xRadius;\n\t\tthis.yRadius = source.yRadius;\n\n\t\tthis.aStartAngle = source.aStartAngle;\n\t\tthis.aEndAngle = source.aEndAngle;\n\n\t\tthis.aClockwise = source.aClockwise;\n\n\t\tthis.aRotation = source.aRotation;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.aX = this.aX;\n\t\tdata.aY = this.aY;\n\n\t\tdata.xRadius = this.xRadius;\n\t\tdata.yRadius = this.yRadius;\n\n\t\tdata.aStartAngle = this.aStartAngle;\n\t\tdata.aEndAngle = this.aEndAngle;\n\n\t\tdata.aClockwise = this.aClockwise;\n\n\t\tdata.aRotation = this.aRotation;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.aX = json.aX;\n\t\tthis.aY = json.aY;\n\n\t\tthis.xRadius = json.xRadius;\n\t\tthis.yRadius = json.yRadius;\n\n\t\tthis.aStartAngle = json.aStartAngle;\n\t\tthis.aEndAngle = json.aEndAngle;\n\n\t\tthis.aClockwise = json.aClockwise;\n\n\t\tthis.aRotation = json.aRotation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass ArcCurve extends EllipseCurve {\n\n\tconstructor( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tsuper( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\tthis.isArcCurve = true;\n\n\t\tthis.type = 'ArcCurve';\n\n\t}\n\n}\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = /*@__PURE__*/ new Vector3();\nconst px = /*@__PURE__*/ new CubicPoly();\nconst py = /*@__PURE__*/ new CubicPoly();\nconst pz = /*@__PURE__*/ new CubicPoly();\n\nclass CatmullRomCurve3 extends Curve {\n\n\tconstructor( points = [], closed = false, curveType = 'centripetal', tension = 0.5 ) {\n\n\t\tsuper();\n\n\t\tthis.isCatmullRomCurve3 = true;\n\n\t\tthis.type = 'CatmullRomCurve3';\n\n\t\tthis.points = points;\n\t\tthis.closed = closed;\n\t\tthis.curveType = curveType;\n\t\tthis.tension = tension;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst l = points.length;\n\n\t\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\t\tlet intPoint = Math.floor( p );\n\t\tlet weight = p - intPoint;\n\n\t\tif ( this.closed ) {\n\n\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\t\tintPoint = l - 2;\n\t\t\tweight = 1;\n\n\t\t}\n\n\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\t\tif ( this.closed || intPoint > 0 ) {\n\n\t\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate first point\n\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\t\tp0 = tmp;\n\n\t\t}\n\n\t\tconst p1 = points[ intPoint % l ];\n\t\tconst p2 = points[ ( intPoint + 1 ) % l ];\n\n\t\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate last point\n\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\t\tp3 = tmp;\n\n\t\t}\n\n\t\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t\t// safety check for repeated points\n\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t\t}\n\n\t\tpoint.set(\n\t\t\tpx.calc( weight ),\n\t\t\tpy.calc( weight ),\n\t\t\tpz.calc( weight )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\tthis.closed = source.closed;\n\t\tthis.curveType = source.curveType;\n\t\tthis.tension = source.tension;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\tdata.closed = this.closed;\n\t\tdata.curveType = this.curveType;\n\t\tdata.tension = this.tension;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t\t}\n\n\t\tthis.closed = json.closed;\n\t\tthis.curveType = json.curveType;\n\t\tthis.tension = json.tension;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n * Bezier Curves formulas obtained from\n * https://en.wikipedia.org/wiki/B%C3%A9zier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nclass CubicBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isCubicBezierCurve = true;\n\n\t\tthis.type = 'CubicBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass CubicBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isCubicBezierCurve3 = true;\n\n\t\tthis.type = 'CubicBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineCurve extends Curve {\n\n\tconstructor( v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isLineCurve = true;\n\n\t\tthis.type = 'LineCurve';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\n\tgetTangent( t, optionalTarget = new Vector2() ) {\n\n\t\treturn optionalTarget.subVectors( this.v2, this.v1 ).normalize();\n\n\t}\n\n\tgetTangentAt( u, optionalTarget ) {\n\n\t\treturn this.getTangent( u, optionalTarget );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineCurve3 extends Curve {\n\n\tconstructor( v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isLineCurve3 = true;\n\n\t\tthis.type = 'LineCurve3';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\n\tgetTangent( t, optionalTarget = new Vector3() ) {\n\n\t\treturn optionalTarget.subVectors( this.v2, this.v1 ).normalize();\n\n\t}\n\n\tgetTangentAt( u, optionalTarget ) {\n\n\t\treturn this.getTangent( u, optionalTarget );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isQuadraticBezierCurve = true;\n\n\t\tthis.type = 'QuadraticBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isQuadraticBezierCurve3 = true;\n\n\t\tthis.type = 'QuadraticBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass SplineCurve extends Curve {\n\n\tconstructor( points = [] ) {\n\n\t\tsuper();\n\n\t\tthis.isSplineCurve = true;\n\n\t\tthis.type = 'SplineCurve';\n\n\t\tthis.points = points;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst p = ( points.length - 1 ) * t;\n\n\t\tconst intPoint = Math.floor( p );\n\t\tconst weight = p - intPoint;\n\n\t\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\t\tconst p1 = points[ intPoint ];\n\t\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\t\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\t\tpoint.set(\n\t\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nclass CurvePath extends Curve {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'CurvePath';\n\n\t\tthis.curves = [];\n\t\tthis.autoClose = false; // Automatically closes the path\n\n\t}\n\n\tadd( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t}\n\n\tclosePath() {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t}\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u, optionalTarget );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t}\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength() {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t}\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t}\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths() {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t}\n\n\tgetSpacedPoints( divisions = 40 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tgetPoints( divisions = 12 ) {\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = curve.isEllipseCurve ? divisions * 2\n\t\t\t\t: ( curve.isLineCurve || curve.isLineCurve3 ) ? 1\n\t\t\t\t\t: curve.isSplineCurve ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Path extends CurvePath {\n\n\tconstructor( points ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Path';\n\n\t\tthis.currentPoint = new Vector2();\n\n\t\tif ( points ) {\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t}\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t}\n\n\tarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tabsarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t}\n\n\tabsellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LatheGeometry extends BufferGeometry {\n\n\tconstructor( points = [ new Vector2( 0, - 0.5 ), new Vector2( 0.5, 0 ), new Vector2( 0, 0.5 ) ], segments = 12, phiStart = 0, phiLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tsegments = Math.floor( segments );\n\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\tphiLength = clamp( phiLength, 0, Math.PI * 2 );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst uvs = [];\n\t\tconst initNormals = [];\n\t\tconst normals = [];\n\n\t\t// helper variables\n\n\t\tconst inverseSegments = 1.0 / segments;\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tconst normal = new Vector3();\n\t\tconst curNormal = new Vector3();\n\t\tconst prevNormal = new Vector3();\n\t\tlet dx = 0;\n\t\tlet dy = 0;\n\n\t\t// pre-compute normals for initial \"meridian\"\n\n\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\tswitch ( j ) {\n\n\t\t\t\tcase 0:\t\t\t\t// special handling for 1st vertex on path\n\n\t\t\t\t\tdx = points[ j + 1 ].x - points[ j ].x;\n\t\t\t\t\tdy = points[ j + 1 ].y - points[ j ].y;\n\n\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\tnormal.y = - dx;\n\t\t\t\t\tnormal.z = dy * 0.0;\n\n\t\t\t\t\tprevNormal.copy( normal );\n\n\t\t\t\t\tnormal.normalize();\n\n\t\t\t\t\tinitNormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ( points.length - 1 ):\t// special handling for last Vertex on path\n\n\t\t\t\t\tinitNormals.push( prevNormal.x, prevNormal.y, prevNormal.z );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\t\t\t// default handling for all vertices in between\n\n\t\t\t\t\tdx = points[ j + 1 ].x - points[ j ].x;\n\t\t\t\t\tdy = points[ j + 1 ].y - points[ j ].y;\n\n\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\tnormal.y = - dx;\n\t\t\t\t\tnormal.z = dy * 0.0;\n\n\t\t\t\t\tcurNormal.copy( normal );\n\n\t\t\t\t\tnormal.x += prevNormal.x;\n\t\t\t\t\tnormal.y += prevNormal.y;\n\t\t\t\t\tnormal.z += prevNormal.z;\n\n\t\t\t\t\tnormal.normalize();\n\n\t\t\t\t\tinitNormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\tprevNormal.copy( curNormal );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices, uvs and normals\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\t\tconst sin = Math.sin( phi );\n\t\t\tconst cos = Math.cos( phi );\n\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\t\tvertex.y = points[ j ].y;\n\t\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = i / segments;\n\t\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// normal\n\n\t\t\t\tconst x = initNormals[ 3 * j + 0 ] * sin;\n\t\t\t\tconst y = initNormals[ 3 * j + 1 ];\n\t\t\t\tconst z = initNormals[ 3 * j + 0 ] * cos;\n\n\t\t\t\tnormals.push( x, y, z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\t\tconst base = j + i * points.length;\n\n\t\t\t\tconst a = base;\n\t\t\t\tconst b = base + points.length;\n\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\tconst d = base + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( c, d, b );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new LatheGeometry( data.points, data.segments, data.phiStart, data.phiLength );\n\n\t}\n\n}\n\nclass CapsuleGeometry extends LatheGeometry {\n\n\tconstructor( radius = 1, length = 1, capSegments = 4, radialSegments = 8 ) {\n\n\t\tconst path = new Path();\n\t\tpath.absarc( 0, - length / 2, radius, Math.PI * 1.5, 0 );\n\t\tpath.absarc( 0, length / 2, radius, 0, Math.PI * 0.5 );\n\n\t\tsuper( path.getPoints( capSegments ), radialSegments );\n\n\t\tthis.type = 'CapsuleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: length,\n\t\t\tcapSegments: capSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CapsuleGeometry( data.radius, data.length, data.capSegments, data.radialSegments );\n\n\t}\n\n}\n\nclass CircleGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, segments = 32, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CircleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tsegments = Math.max( 3, segments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// center point\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tnormals.push( 0, 0, 1 );\n\t\tuvs.push( 0.5, 0.5 );\n\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uvs\n\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tindices.push( i, i + 1, 0 );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CircleGeometry( data.radius, data.segments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass CylinderGeometry extends BufferGeometry {\n\n\tconstructor( radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 32, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CylinderGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tconst scope = this;\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet index = 0;\n\t\tconst indexArray = [];\n\t\tconst halfHeight = height / 2;\n\t\tlet groupStart = 0;\n\n\t\t// generate geometry\n\n\t\tgenerateTorso();\n\n\t\tif ( openEnded === false ) {\n\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generateTorso() {\n\n\t\t\tconst normal = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\t// this will be used to calculate the normal\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\t\tconst indexRow = [];\n\n\t\t\t\tconst v = y / heightSegments;\n\n\t\t\t\t// calculate the radius of the current row\n\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t\t// vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t// normal\n\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\t// uv\n\n\t\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t\t}\n\n\t\t\t\t// now save vertices of the row in our index array\n\n\t\t\t\tindexArray.push( indexRow );\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// update group counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t\tfunction generateCap( top ) {\n\n\t\t\t// save the index of the first center vertex\n\t\t\tconst centerIndexStart = index;\n\n\t\t\tconst uv = new Vector2();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t\t// first we generate the center vertex data of the cap.\n\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// save the index of the last center vertex\n\t\t\tconst centerIndexEnd = index;\n\n\t\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\tif ( top === true ) {\n\n\t\t\t\t\t// face top\n\n\t\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// face bottom\n\n\t\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t\t}\n\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CylinderGeometry( data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n\tconstructor( radius = 1, height = 1, radialSegments = 32, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t\tthis.type = 'ConeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new ConeGeometry( data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass PolyhedronGeometry extends BufferGeometry {\n\n\tconstructor( vertices = [], indices = [], radius = 1, detail = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\t// default buffer data\n\n\t\tconst vertexBuffer = [];\n\t\tconst uvBuffer = [];\n\n\t\t// the subdivision creates the vertex buffer data\n\n\t\tsubdivide( detail );\n\n\t\t// all vertices should lie on a conceptual sphere with a given radius\n\n\t\tapplyRadius( radius );\n\n\t\t// finally, create the uv data\n\n\t\tgenerateUVs();\n\n\t\t// build non-indexed geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\t\tif ( detail === 0 ) {\n\n\t\t\tthis.computeVertexNormals(); // flat normals\n\n\t\t} else {\n\n\t\t\tthis.normalizeNormals(); // smooth normals\n\n\t\t}\n\n\t\t// helper functions\n\n\t\tfunction subdivide( detail ) {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\t// iterate over all faces and apply a subdivision with the given detail value\n\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t// get the vertices of the face\n\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t\t// perform subdivision\n\n\t\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\t\tconst cols = detail + 1;\n\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\tconst v = [];\n\n\t\t\t// construct all of the vertices for this subdivision\n\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\t\tv[ i ] = [];\n\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\t\tconst rows = cols - i;\n\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// construct all of the faces\n\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction applyRadius( radius ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t\t}\n\n\t\t\tcorrectUVs();\n\n\t\t\tcorrectSeam();\n\n\t\t}\n\n\t\tfunction correctSeam() {\n\n\t\t\t// handle case when face straddles the seam, see #3269\n\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t\t// uv data of a single face\n\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushVertex( vertex ) {\n\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tfunction getVertexByIndex( index, vertex ) {\n\n\t\t\tconst stride = index * 3;\n\n\t\t\tvertex.x = vertices[ stride + 0 ];\n\t\t\tvertex.y = vertices[ stride + 1 ];\n\t\t\tvertex.z = vertices[ stride + 2 ];\n\n\t\t}\n\n\t\tfunction correctUVs() {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\tconst centroid = new Vector3();\n\n\t\t\tconst uvA = new Vector2();\n\t\t\tconst uvB = new Vector2();\n\t\t\tconst uvC = new Vector2();\n\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\t\tconst azi = azimuth( centroid );\n\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t\t}\n\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\t\tfunction azimuth( vector ) {\n\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t\t}\n\n\n\t\t// Angle above the XZ plane.\n\n\t\tfunction inclination( vector ) {\n\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PolyhedronGeometry( data.vertices, data.indices, data.radius, data.details );\n\n\t}\n\n}\n\nclass DodecahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tconst r = 1 / t;\n\n\t\tconst vertices = [\n\n\t\t\t// (1, 1, 1)\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t\t// (0, 1/, )\n\t\t\t0, - r, - t, 0, - r, t,\n\t\t\t0, r, - t, 0, r, t,\n\n\t\t\t// (1/, , 0)\n\t\t\t- r, - t, 0, - r, t, 0,\n\t\t\tr, - t, 0, r, t, 0,\n\n\t\t\t// (, 0, 1/)\n\t\t\t- t, 0, - r, t, 0, - r,\n\t\t\t- t, 0, r, t, 0, r\n\t\t];\n\n\t\tconst indices = [\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'DodecahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new DodecahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nconst _v0 = /*@__PURE__*/ new Vector3();\nconst _v1$1 = /*@__PURE__*/ new Vector3();\nconst _normal = /*@__PURE__*/ new Vector3();\nconst _triangle = /*@__PURE__*/ new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n\tconstructor( geometry = null, thresholdAngle = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EdgesGeometry';\n\n\t\tthis.parameters = {\n\t\t\tgeometry: geometry,\n\t\t\tthresholdAngle: thresholdAngle\n\t\t};\n\n\t\tif ( geometry !== null ) {\n\n\t\t\tconst precisionPoints = 4;\n\t\t\tconst precision = Math.pow( 10, precisionPoints );\n\t\t\tconst thresholdDot = Math.cos( DEG2RAD * thresholdAngle );\n\n\t\t\tconst indexAttr = geometry.getIndex();\n\t\t\tconst positionAttr = geometry.getAttribute( 'position' );\n\t\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n\t\t\tconst indexArr = [ 0, 0, 0 ];\n\t\t\tconst vertKeys = [ 'a', 'b', 'c' ];\n\t\t\tconst hashes = new Array( 3 );\n\n\t\t\tconst edgeData = {};\n\t\t\tconst vertices = [];\n\t\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\n\n\t\t\t\tif ( indexAttr ) {\n\n\t\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\n\t\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\n\t\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tindexArr[ 0 ] = i;\n\t\t\t\t\tindexArr[ 1 ] = i + 1;\n\t\t\t\t\tindexArr[ 2 ] = i + 2;\n\n\t\t\t\t}\n\n\t\t\t\tconst { a, b, c } = _triangle;\n\t\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\n\t\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\n\t\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\n\t\t\t\t_triangle.getNormal( _normal );\n\n\t\t\t\t// create hashes for the edge from the vertices\n\t\t\t\thashes[ 0 ] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\n\t\t\t\thashes[ 1 ] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\n\t\t\t\thashes[ 2 ] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\n\n\t\t\t\t// skip degenerate triangles\n\t\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\t// iterate over every edge\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\t\tconst jNext = ( j + 1 ) % 3;\n\t\t\t\t\tconst vecHash0 = hashes[ j ];\n\t\t\t\t\tconst vecHash1 = hashes[ jNext ];\n\t\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\n\t\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\n\n\t\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\n\t\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n\t\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\n\n\t\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\t\tif ( _normal.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\n\n\t\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\n\t\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tedgeData[ reverseHash ] = null;\n\n\t\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\n\n\t\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\t\tedgeData[ hash ] = {\n\n\t\t\t\t\t\t\tindex0: indexArr[ j ],\n\t\t\t\t\t\t\tindex1: indexArr[ jNext ],\n\t\t\t\t\t\t\tnormal: _normal.clone(),\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\n\t\t\tfor ( const key in edgeData ) {\n\n\t\t\t\tif ( edgeData[ key ] ) {\n\n\t\t\t\t\tconst { index0, index1 } = edgeData[ key ];\n\t\t\t\t\t_v0.fromBufferAttribute( positionAttr, index0 );\n\t\t\t\t\t_v1$1.fromBufferAttribute( positionAttr, index1 );\n\n\t\t\t\t\tvertices.push( _v0.x, _v0.y, _v0.z );\n\t\t\t\t\tvertices.push( _v1$1.x, _v1$1.y, _v1$1.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Shape extends Path {\n\n\tconstructor( points ) {\n\n\t\tsuper( points );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.type = 'Shape';\n\n\t\tthis.holes = [];\n\n\t}\n\n\tgetPointsHoles( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t}\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.4)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim = 2 ) {\n\n\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\n\t\tconst triangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 32767 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize, 0 );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim | 0 );\n\t\t\ttriangles.push( ear.i / dim | 0 );\n\t\t\ttriangles.push( next.i / dim | 0 );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tconst ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst x0 = ax < bx ? ( ax < cx ? ax : cx ) : ( bx < cx ? bx : cx ),\n\t\ty0 = ay < by ? ( ay < cy ? ay : cy ) : ( by < cy ? by : cy ),\n\t\tx1 = ax > bx ? ( ax > cx ? ax : cx ) : ( bx > cx ? bx : cx ),\n\t\ty1 = ay > by ? ( ay > cy ? ay : cy ) : ( by > cy ? by : cy );\n\n\tlet p = c.next;\n\twhile ( p !== a ) {\n\n\t\tif ( p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 &&\n\t\t\tpointInTriangle( ax, ay, bx, by, cx, cy, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\tconst ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst x0 = ax < bx ? ( ax < cx ? ax : cx ) : ( bx < cx ? bx : cx ),\n\t\ty0 = ay < by ? ( ay < cy ? ay : cy ) : ( by < cy ? by : cy ),\n\t\tx1 = ax > bx ? ( ax > cx ? ax : cx ) : ( bx > cx ? bx : cx ),\n\t\ty1 = ay > by ? ( ay > cy ? ay : cy ) : ( by > cy ? by : cy );\n\n\t// z-order range for the current triangle bbox;\n\tconst minZ = zOrder( x0, y0, minX, minY, invSize ),\n\t\tmaxZ = zOrder( x1, y1, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n\t\t\tpointInTriangle( ax, ay, bx, by, cx, cy, p.x, p.y ) && area( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n\t\t\tpointInTriangle( ax, ay, bx, by, cx, cy, n.x, n.y ) && area( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n\t\t\tpointInTriangle( ax, ay, bx, by, cx, cy, p.x, p.y ) && area( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n\t\t\tpointInTriangle( ax, ay, bx, by, cx, cy, n.x, n.y ) && area( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tconst a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim | 0 );\n\t\t\ttriangles.push( p.i / dim | 0 );\n\t\t\ttriangles.push( b.i / dim | 0 );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize, 0 );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize, 0 );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tconst queue = [];\n\tlet i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\touterNode = eliminateHole( queue[ i ], outerNode );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\tconst bridge = findHoleBridge( hole, outerNode );\n\tif ( ! bridge ) {\n\n\t\treturn outerNode;\n\n\t}\n\n\tconst bridgeReverse = splitPolygon( bridge, hole );\n\n\t// filter collinear points around the cuts\n\tfilterPoints( bridgeReverse, bridgeReverse.next );\n\treturn filterPoints( bridge, bridge.next );\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode,\n\t\tqx = - Infinity,\n\t\tm;\n\n\tconst hx = hole.x, hy = hole.y;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\t\t\t\tif ( x === hx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tconst stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y;\n\tlet tanMin = Infinity, tan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === 0 ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = ( x - minX ) * invSize | 0;\n\ty = ( y - minY ) * invSize | 0;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) >= ( ax - px ) * ( cy - py ) &&\n           ( ax - px ) * ( by - py ) >= ( bx - px ) * ( ay - py ) &&\n           ( bx - px ) * ( cy - py ) >= ( cx - px ) * ( by - py );\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // dones't intersect other edges\n           ( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n            ( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n            equals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( area( p1, q1, p2 ) );\n\tconst o2 = sign( area( p1, q1, q2 ) );\n\tconst o3 = sign( area( p2, q2, p1 ) );\n\tconst o4 = sign( area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false;\n\tconst px = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tconst a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = 0;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\nclass ShapeUtils {\n\n\t// calculate area of the contour polygon\n\n\tstatic area( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t}\n\n\tstatic isClockWise( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t}\n\n\tstatic triangulateShape( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n}\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends BufferGeometry {\n\n\tconstructor( shapes = new Shape( [ new Vector2( 0.5, 0.5 ), new Vector2( - 0.5, 0.5 ), new Vector2( - 0.5, - 0.5 ), new Vector2( 0.5, - 0.5 ) ] ), options = {} ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\t\tconst scope = this;\n\n\t\tconst verticesArray = [];\n\t\tconst uvArray = [];\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\t\t\taddShape( shape );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\t\tthis.computeVertexNormals();\n\n\t\t// functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst placeholder = [];\n\n\t\t\t// options\n\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\tconst depth = options.depth !== undefined ? options.depth : 1;\n\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 0.2;\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 0.1;\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\t\tconst extrudePath = options.extrudePath;\n\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t\t//\n\n\t\t\tlet extrudePts, extrudeByPath = false;\n\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\tif ( extrudePath ) {\n\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\t\textrudeByPath = true;\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t\t// SETUP TNB variables\n\n\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\tbinormal = new Vector3();\n\t\t\t\tnormal = new Vector3();\n\t\t\t\tposition2 = new Vector3();\n\n\t\t\t}\n\n\t\t\t// Safeguards if bevels are not enabled\n\n\t\t\tif ( ! bevelEnabled ) {\n\n\t\t\t\tbevelSegments = 0;\n\t\t\t\tbevelThickness = 0;\n\t\t\t\tbevelSize = 0;\n\t\t\t\tbevelOffset = 0;\n\n\t\t\t}\n\n\t\t\t// Variables initialization\n\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\t\tlet vertices = shapePoints.shape;\n\t\t\tconst holes = shapePoints.holes;\n\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\t\tif ( reverse ) {\n\n\t\t\t\tvertices = vertices.reverse();\n\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t\t/* Vertices */\n\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tvertices = vertices.concat( ahole );\n\n\t\t\t}\n\n\n\t\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\t\tif ( ! vec ) console.error( 'THREE.ExtrudeGeometry: vec does not exist' );\n\n\t\t\t\treturn pt.clone().addScaledVector( vec, size );\n\n\t\t\t}\n\n\t\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t\t// Find directions for point movement\n\n\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t//\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t\t// check for collinear edges\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not collinear\n\n\t\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t//  but prevent crazy spikes\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t\t}\n\n\n\t\t\tconst contourMovements = [];\n\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t\t}\n\n\t\t\tconst holesMovements = [];\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\toneHoleMovements = [];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t\t}\n\n\t\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t\t}\n\n\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t\t// Back facing vertices\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add stepped vertices...\n\t\t\t// Including front facing vertices\n\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Add bevel segments planes\n\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Faces */\n\n\t\t\t// Top and bottom faces\n\n\t\t\tbuildLidFaces();\n\n\t\t\t// Sides faces\n\n\t\t\tbuildSideFaces();\n\n\n\t\t\t/////  Internal functions\n\n\t\t\tfunction buildLidFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t\t}\n\n\t\t\t// Create faces for the z-sides of the shape\n\n\t\t\tfunction buildSideFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\tlet layeroffset = 0;\n\t\t\t\tsidewalls( contour, layeroffset );\n\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t\t//, true\n\t\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t\t}\n\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t\t}\n\n\t\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\t\tlet i = contour.length;\n\n\t\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\t\tconst j = i;\n\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction v( x, y, z ) {\n\n\t\t\t\tplaceholder.push( x );\n\t\t\t\tplaceholder.push( y );\n\t\t\t\tplaceholder.push( z );\n\n\t\t\t}\n\n\n\t\t\tfunction f3( a, b, c ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\n\t\t\t}\n\n\t\t\tfunction f4( a, b, c, d ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( d );\n\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\t\t\t\taddVertex( d );\n\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t}\n\n\t\t\tfunction addVertex( index ) {\n\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t\t}\n\n\n\t\t\tfunction addUV( vector2 ) {\n\n\t\t\t\tuvArray.push( vector2.x );\n\t\t\t\tuvArray.push( vector2.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON$1( shapes, options, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\tconst extrudePath = data.options.extrudePath;\n\n\t\tif ( extrudePath !== undefined ) {\n\n\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t}\n\n\t\treturn new ExtrudeGeometry( geometryShapes, data.options );\n\n\t}\n\n}\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < Math.abs( a_x - b_x ) ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n\n};\n\nfunction toJSON$1( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tdata.options = Object.assign( {}, options );\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\nclass IcosahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\t\tconst vertices = [\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'IcosahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new IcosahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass OctahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t\t1, 3, 4,\t1, 4, 2\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'OctahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new OctahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass RingGeometry extends BufferGeometry {\n\n\tconstructor( innerRadius = 0.5, outerRadius = 1, thetaSegments = 32, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthetaSegments = Math.max( 3, thetaSegments );\n\t\tphiSegments = Math.max( 1, phiSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// some helper variables\n\n\t\tlet radius = innerRadius;\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t\t// increase the radius for next row of vertices\n\n\t\t\tradius += radiusStep;\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\t\tconst a = segment;\n\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\tconst d = segment + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new RingGeometry( data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ShapeGeometry extends BufferGeometry {\n\n\tconstructor( shapes = new Shape( [ new Vector2( 0, 0.5 ), new Vector2( - 0.5, - 0.5 ), new Vector2( 0.5, - 0.5 ) ] ), curveSegments = 12 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShapeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet groupStart = 0;\n\t\tlet groupCount = 0;\n\n\t\t// allow single and array values for \"shapes\" parameter\n\n\t\tif ( Array.isArray( shapes ) === false ) {\n\n\t\t\taddShape( shapes );\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\t\taddShape( shapes[ i ] );\n\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t\tgroupCount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t// helper functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\t\tlet shapeVertices = points.shape;\n\t\t\tconst shapeHoles = points.holes;\n\n\t\t\t// check direction of vertices\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t\t// join vertices of inner and outer paths to a single array\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t\t}\n\n\t\t\t// vertices, normals, uvs\n\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\t\tnormals.push( 0, 0, 1 );\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\t\tindices.push( a, b, c );\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON( shapes, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\treturn new ShapeGeometry( geometryShapes, data.curveSegments );\n\n\t}\n\n}\n\nfunction toJSON( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass SphereGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, widthSegments = 32, heightSegments = 16, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SphereGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) );\n\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\t\tlet index = 0;\n\t\tconst grid = [];\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\t\tconst verticesRow = [];\n\n\t\t\tconst v = iy / heightSegments;\n\n\t\t\t// special case for the poles\n\n\t\t\tlet uOffset = 0;\n\n\t\t\tif ( iy === 0 && thetaStart === 0 ) {\n\n\t\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t\t} else if ( iy === heightSegments && thetaEnd === Math.PI ) {\n\n\t\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t\t}\n\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\t\tconst u = ix / widthSegments;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.copy( vertex ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\t\tverticesRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\tgrid.push( verticesRow );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new SphereGeometry( data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass TetrahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'TetrahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TetrahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass TorusGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, radialSegments = 12, tubularSegments = 48, arc = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'TorusGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\ttubularSegments = Math.floor( tubularSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst center = new Vector3();\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusGeometry( data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc );\n\n\t}\n\n}\n\nclass TorusKnotGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'TorusKnotGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\ttubularSegments = Math.floor( tubularSegments );\n\t\tradialSegments = Math.floor( radialSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst P1 = new Vector3();\n\t\tconst P2 = new Vector3();\n\n\t\tconst B = new Vector3();\n\t\tconst T = new Vector3();\n\t\tconst N = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segment\n\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t\t// calculate orthonormal basis\n\n\t\t\tT.subVectors( P2, P1 );\n\t\t\tN.addVectors( P2, P1 );\n\t\t\tB.crossVectors( T, N );\n\t\t\tN.crossVectors( B, T );\n\n\t\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\t\tB.normalize();\n\t\t\tN.normalize();\n\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t\t// now calculate the final vertex position.\n\t\t\t\t// first we orient the extrusion with our basis vectors, then we add it to the current position on the curve\n\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// this function calculates the current position on the torus curve\n\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\t\tconst cu = Math.cos( u );\n\t\t\tconst su = Math.sin( u );\n\t\t\tconst quOverP = q / p * u;\n\t\t\tconst cs = Math.cos( quOverP );\n\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusKnotGeometry( data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q );\n\n\t}\n\n}\n\nclass TubeGeometry extends BufferGeometry {\n\n\tconstructor( path = new QuadraticBezierCurve3( new Vector3( - 1, - 1, 0 ), new Vector3( - 1, 1, 0 ), new Vector3( 1, 1, 0 ) ), tubularSegments = 64, radius = 1, radialSegments = 8, closed = false ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'TubeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = frames.tangents;\n\t\tthis.normals = frames.normals;\n\t\tthis.binormals = frames.binormals;\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tlet P = new Vector3();\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\n\t\t// create buffer data\n\n\t\tgenerateBufferData();\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// functions\n\n\t\tfunction generateBufferData() {\n\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\t\tgenerateSegment( i );\n\n\t\t\t}\n\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t// at the regular position on the given path\n\t\t\t//\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t\t// uvs are generated in a separate function.\n\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\tgenerateUVs();\n\n\t\t\t// finally create faces\n\n\t\t\tgenerateIndices();\n\n\t\t}\n\n\t\tfunction generateSegment( i ) {\n\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t\t// retrieve corresponding normal and binormal\n\n\t\t\tconst N = frames.normals[ i ];\n\t\t\tconst B = frames.binormals[ i ];\n\n\t\t\t// generate normals and vertices for the current segment\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\tconst sin = Math.sin( v );\n\t\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\t\tnormal.normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateIndices() {\n\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.path = this.parameters.path.toJSON();\n\n\t\treturn data;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\treturn new TubeGeometry(\n\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\tdata.tubularSegments,\n\t\t\tdata.radius,\n\t\t\tdata.radialSegments,\n\t\t\tdata.closed\n\t\t);\n\n\t}\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n\tconstructor( geometry = null ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'WireframeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tgeometry: geometry\n\t\t};\n\n\t\tif ( geometry !== null ) {\n\n\t\t\t// buffer\n\n\t\t\tconst vertices = [];\n\t\t\tconst edges = new Set();\n\n\t\t\t// helper variables\n\n\t\t\tconst start = new Vector3();\n\t\t\tconst end = new Vector3();\n\n\t\t\tif ( geometry.index !== null ) {\n\n\t\t\t\t// indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\tconst indices = geometry.index;\n\t\t\t\tlet groups = geometry.groups;\n\n\t\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t\t}\n\n\t\t\t\t// create a data structure that contains all edges without duplicates\n\n\t\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\t\tconst groupStart = group.start;\n\t\t\t\t\tconst groupCount = group.count;\n\n\t\t\t\t\tfor ( let i = groupStart, l = ( groupStart + groupCount ); i < l; i += 3 ) {\n\n\t\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t\tconst index1 = indices.getX( i + j );\n\t\t\t\t\t\t\tconst index2 = indices.getX( i + ( j + 1 ) % 3 );\n\n\t\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\n\t\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\n\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// build geometry\n\n\t\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n}\n\nfunction isUniqueEdge( start, end, edges ) {\n\n\tconst hash1 = `${start.x},${start.y},${start.z}-${end.x},${end.y},${end.z}`;\n\tconst hash2 = `${end.x},${end.y},${end.z}-${start.x},${start.y},${start.z}`; // coincident edge\n\n\tif ( edges.has( hash1 ) === true || edges.has( hash2 ) === true ) {\n\n\t\treturn false;\n\n\t} else {\n\n\t\tedges.add( hash1 );\n\t\tedges.add( hash2 );\n\t\treturn true;\n\n\t}\n\n}\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBoxGeometry: BoxGeometry,\n\tCapsuleGeometry: CapsuleGeometry,\n\tCircleGeometry: CircleGeometry,\n\tConeGeometry: ConeGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tLatheGeometry: LatheGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tRingGeometry: RingGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tSphereGeometry: SphereGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTubeGeometry: TubeGeometry,\n\tWireframeGeometry: WireframeGeometry\n});\n\nclass ShadowMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isShadowMaterial = true;\n\n\t\tthis.type = 'ShadowMaterial';\n\n\t\tthis.color = new Color( 0x000000 );\n\t\tthis.transparent = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass RawShaderMaterial extends ShaderMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper( parameters );\n\n\t\tthis.isRawShaderMaterial = true;\n\n\t\tthis.type = 'RawShaderMaterial';\n\n\t}\n\n}\n\nclass MeshStandardMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshStandardMaterial = true;\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.type = 'MeshStandardMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.roughness = 1.0;\n\t\tthis.metalness = 0.0;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.roughnessMap = null;\n\n\t\tthis.metalnessMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.envMapIntensity = 1.0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.color.copy( source.color );\n\t\tthis.roughness = source.roughness;\n\t\tthis.metalness = source.metalness;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.roughnessMap = source.roughnessMap;\n\n\t\tthis.metalnessMap = source.metalnessMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.envMapIntensity = source.envMapIntensity;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshPhysicalMaterial extends MeshStandardMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshPhysicalMaterial = true;\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.type = 'MeshPhysicalMaterial';\n\n\t\tthis.clearcoatMap = null;\n\t\tthis.clearcoatRoughness = 0.0;\n\t\tthis.clearcoatRoughnessMap = null;\n\t\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\t\tthis.clearcoatNormalMap = null;\n\n\t\tthis.ior = 1.5;\n\n\t\tObject.defineProperty( this, 'reflectivity', {\n\t\t\tget: function () {\n\n\t\t\t\treturn ( clamp( 2.5 * ( this.ior - 1 ) / ( this.ior + 1 ), 0, 1 ) );\n\n\t\t\t},\n\t\t\tset: function ( reflectivity ) {\n\n\t\t\t\tthis.ior = ( 1 + 0.4 * reflectivity ) / ( 1 - 0.4 * reflectivity );\n\n\t\t\t}\n\t\t} );\n\n\t\tthis.iridescenceMap = null;\n\t\tthis.iridescenceIOR = 1.3;\n\t\tthis.iridescenceThicknessRange = [ 100, 400 ];\n\t\tthis.iridescenceThicknessMap = null;\n\n\t\tthis.sheenColor = new Color( 0x000000 );\n\t\tthis.sheenColorMap = null;\n\t\tthis.sheenRoughness = 1.0;\n\t\tthis.sheenRoughnessMap = null;\n\n\t\tthis.transmissionMap = null;\n\n\t\tthis.thickness = 0;\n\t\tthis.thicknessMap = null;\n\t\tthis.attenuationDistance = Infinity;\n\t\tthis.attenuationColor = new Color( 1, 1, 1 );\n\n\t\tthis.specularIntensity = 1.0;\n\t\tthis.specularIntensityMap = null;\n\t\tthis.specularColor = new Color( 1, 1, 1 );\n\t\tthis.specularColorMap = null;\n\n\t\tthis._sheen = 0.0;\n\t\tthis._clearcoat = 0;\n\t\tthis._iridescence = 0;\n\t\tthis._transmission = 0;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tget sheen() {\n\n\t\treturn this._sheen;\n\n\t}\n\n\tset sheen( value ) {\n\n\t\tif ( this._sheen > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._sheen = value;\n\n\t}\n\n\tget clearcoat() {\n\n\t\treturn this._clearcoat;\n\n\t}\n\n\tset clearcoat( value ) {\n\n\t\tif ( this._clearcoat > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._clearcoat = value;\n\n\t}\n\n\tget iridescence() {\n\n\t\treturn this._iridescence;\n\n\t}\n\n\tset iridescence( value ) {\n\n\t\tif ( this._iridescence > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._iridescence = value;\n\n\t}\n\n\tget transmission() {\n\n\t\treturn this._transmission;\n\n\t}\n\n\tset transmission( value ) {\n\n\t\tif ( this._transmission > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._transmission = value;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.clearcoat = source.clearcoat;\n\t\tthis.clearcoatMap = source.clearcoatMap;\n\t\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\t\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\t\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\t\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\t\tthis.ior = source.ior;\n\n\t\tthis.iridescence = source.iridescence;\n\t\tthis.iridescenceMap = source.iridescenceMap;\n\t\tthis.iridescenceIOR = source.iridescenceIOR;\n\t\tthis.iridescenceThicknessRange = [ ...source.iridescenceThicknessRange ];\n\t\tthis.iridescenceThicknessMap = source.iridescenceThicknessMap;\n\n\t\tthis.sheen = source.sheen;\n\t\tthis.sheenColor.copy( source.sheenColor );\n\t\tthis.sheenColorMap = source.sheenColorMap;\n\t\tthis.sheenRoughness = source.sheenRoughness;\n\t\tthis.sheenRoughnessMap = source.sheenRoughnessMap;\n\n\t\tthis.transmission = source.transmission;\n\t\tthis.transmissionMap = source.transmissionMap;\n\n\t\tthis.thickness = source.thickness;\n\t\tthis.thicknessMap = source.thicknessMap;\n\t\tthis.attenuationDistance = source.attenuationDistance;\n\t\tthis.attenuationColor.copy( source.attenuationColor );\n\n\t\tthis.specularIntensity = source.specularIntensity;\n\t\tthis.specularIntensityMap = source.specularIntensityMap;\n\t\tthis.specularColor.copy( source.specularColor );\n\t\tthis.specularColorMap = source.specularColorMap;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshPhongMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshPhongMaterial = true;\n\n\t\tthis.type = 'MeshPhongMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.specular = new Color( 0x111111 );\n\t\tthis.shininess = 30;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.specular.copy( source.specular );\n\t\tthis.shininess = source.shininess;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshToonMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshToonMaterial = true;\n\n\t\tthis.defines = { 'TOON': '' };\n\n\t\tthis.type = 'MeshToonMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\t\tthis.gradientMap = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\t\tthis.gradientMap = source.gradientMap;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshNormalMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshNormalMaterial = true;\n\n\t\tthis.type = 'MeshNormalMaterial';\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshLambertMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshLambertMaterial = true;\n\n\t\tthis.type = 'MeshLambertMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshMatcapMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshMatcapMaterial = true;\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.type = 'MeshMatcapMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.matcap = null;\n\n\t\tthis.map = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.matcap = source.matcap;\n\n\t\tthis.map = source.map;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineDashedMaterial extends LineBasicMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isLineDashedMaterial = true;\n\n\t\tthis.type = 'LineDashedMaterial';\n\n\t\tthis.scale = 1;\n\t\tthis.dashSize = 3;\n\t\tthis.gapSize = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.scale = source.scale;\n\t\tthis.dashSize = source.dashSize;\n\t\tthis.gapSize = source.gapSize;\n\n\t\treturn this;\n\n\t}\n\n}\n\n// same as Array.prototype.slice, but also works on typed arrays\nfunction arraySlice( array, from, to ) {\n\n\tif ( isTypedArray( array ) ) {\n\n\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t}\n\n\treturn array.slice( from, to );\n\n}\n\n// converts an array to a specific type\nfunction convertArray( array, type, forceClone ) {\n\n\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t! forceClone && array.constructor === type ) return array;\n\n\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\treturn new type( array ); // create typed array\n\n\t}\n\n\treturn Array.prototype.slice.call( array ); // create Array\n\n}\n\nfunction isTypedArray( object ) {\n\n\treturn ArrayBuffer.isView( object ) &&\n\t\t! ( object instanceof DataView );\n\n}\n\n// returns an array by which times and values can be sorted\nfunction getKeyframeOrder( times ) {\n\n\tfunction compareTime( i, j ) {\n\n\t\treturn times[ i ] - times[ j ];\n\n\t}\n\n\tconst n = times.length;\n\tconst result = new Array( n );\n\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\tresult.sort( compareTime );\n\n\treturn result;\n\n}\n\n// uses the array previously returned by 'getKeyframeOrder' to sort data\nfunction sortedArray( values, stride, order ) {\n\n\tconst nValues = values.length;\n\tconst result = new values.constructor( nValues );\n\n\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\tconst srcOffset = order[ i ] * stride;\n\n\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t}\n\n\t}\n\n\treturn result;\n\n}\n\n// function for parsing AOS keyframe formats\nfunction flattenJSON( jsonKeys, times, values, valuePropertyName ) {\n\n\tlet i = 1, key = jsonKeys[ 0 ];\n\n\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\tkey = jsonKeys[ i ++ ];\n\n\t}\n\n\tif ( key === undefined ) return; // no data\n\n\tlet value = key[ valuePropertyName ];\n\tif ( value === undefined ) return; // no data\n\n\tif ( Array.isArray( value ) ) {\n\n\t\tdo {\n\n\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\tif ( value !== undefined ) {\n\n\t\t\t\ttimes.push( key.time );\n\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t}\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t} while ( key !== undefined );\n\n\t} else if ( value.toArray !== undefined ) {\n\n\t\t// ...assume THREE.Math-ish\n\n\t\tdo {\n\n\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\tif ( value !== undefined ) {\n\n\t\t\t\ttimes.push( key.time );\n\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t}\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t} while ( key !== undefined );\n\n\t} else {\n\n\t\t// otherwise push as-is\n\n\t\tdo {\n\n\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\tif ( value !== undefined ) {\n\n\t\t\t\ttimes.push( key.time );\n\t\t\t\tvalues.push( value );\n\n\t\t\t}\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t} while ( key !== undefined );\n\n\t}\n\n}\n\nfunction subclip( sourceClip, name, startFrame, endFrame, fps = 30 ) {\n\n\tconst clip = sourceClip.clone();\n\n\tclip.name = name;\n\n\tconst tracks = [];\n\n\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\tconst track = clip.tracks[ i ];\n\t\tconst valueSize = track.getValueSize();\n\n\t\tconst times = [];\n\t\tconst values = [];\n\n\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( times.length === 0 ) continue;\n\n\t\ttrack.times = convertArray( times, track.times.constructor );\n\t\ttrack.values = convertArray( values, track.values.constructor );\n\n\t\ttracks.push( track );\n\n\t}\n\n\tclip.tracks = tracks;\n\n\t// find minimum .times value across all tracks in the trimmed clip\n\n\tlet minStartTime = Infinity;\n\n\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t}\n\n\t}\n\n\t// shift all tracks such that clip begins at t=0\n\n\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t}\n\n\tclip.resetDuration();\n\n\treturn clip;\n\n}\n\nfunction makeClipAdditive( targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30 ) {\n\n\tif ( fps <= 0 ) fps = 30;\n\n\tconst numTracks = referenceClip.tracks.length;\n\tconst referenceTime = referenceFrame / fps;\n\n\t// Make each track's values relative to the values at the reference frame\n\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t// Skip this track if it's non-numeric\n\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t} );\n\n\t\tif ( targetTrack === undefined ) continue;\n\n\t\tlet referenceOffset = 0;\n\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\treferenceOffset = referenceValueSize / 3;\n\n\t\t}\n\n\t\tlet targetOffset = 0;\n\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\ttargetOffset = targetValueSize / 3;\n\n\t\t}\n\n\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\tlet referenceValue;\n\n\t\t// Find the value to subtract out of the track\n\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\tconst startIndex = referenceOffset;\n\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\treferenceValue = arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\treferenceValue = arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t} else {\n\n\t\t\t// Interpolate to the reference value\n\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\tconst startIndex = referenceOffset;\n\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\treferenceValue = arraySlice( interpolant.resultBuffer, startIndex, endIndex );\n\n\t\t}\n\n\t\t// Conjugate the quaternion\n\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\n\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t}\n\n\t\t// Subtract the reference value from all of the track values\n\n\t\tconst numTimes = targetTrack.times.length;\n\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\tvalueStart,\n\t\t\t\t\treferenceValue,\n\t\t\t\t\t0,\n\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\tvalueStart\n\t\t\t\t);\n\n\t\t\t} else {\n\n\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\n\n\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\n\n\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\treturn targetClip;\n\n}\n\nconst AnimationUtils = {\n\tarraySlice: arraySlice,\n\tconvertArray: convertArray,\n\tisTypedArray: isTypedArray,\n\tgetKeyframeOrder: getKeyframeOrder,\n\tsortedArray: sortedArray,\n\tflattenJSON: flattenJSON,\n\tsubclip: subclip,\n\tmakeClipAdditive: makeClipAdditive\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nclass Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tthis.parameterPositions = parameterPositions;\n\t\tthis._cachedIndex = 0;\n\n\t\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\t\tthis.sampleValues = sampleValues;\n\t\tthis.valueSize = sampleSize;\n\n\t\tthis.settings = null;\n\t\tthis.DefaultSettings_ = {};\n\n\t}\n\n\tevaluate( t ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet i1 = this._cachedIndex,\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.copySampleValue_( 0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.copySampleValue_( 0 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t}\n\n\tgetSettings_() {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// Template methods for derived classes:\n\n\tinterpolate_( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t}\n\n\tintervalChanged_( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n}\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nclass CubicInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t\tthis._weightPrev = - 0;\n\t\tthis._offsetPrev = - 0;\n\t\tthis._weightNext = - 0;\n\t\tthis._offsetNext = - 0;\n\n\t\tthis.DefaultSettings_ = {\n\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\n\t\t};\n\n\t}\n\n\tintervalChanged_( i1, t0, t1 ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet iPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nclass LinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceding\n * the parameter.\n */\n\nclass DiscreteInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n}\n\nclass KeyframeTrack {\n\n\tconstructor( name, times, values, interpolation ) {\n\n\t\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\t\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\t\tthis.name = name;\n\n\t\tthis.times = convertArray( times, this.TimeBufferType );\n\t\tthis.values = convertArray( values, this.ValueBufferType );\n\n\t\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n\t}\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\tstatic toJSON( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== this.toJSON ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': convertArray( track.times, Array ),\n\t\t\t\t'values': convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n\tInterpolantFactoryMethodDiscrete( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodSmooth( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tsetInterpolation( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = 'unsupported interpolation for ' +\n\t\t\t\tthis.ValueTypeName + ' keyframe track named ' + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t}\n\n\tgetInterpolation() {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t}\n\n\tgetValueSize() {\n\n\t\treturn this.values.length / this.times.length;\n\n\t}\n\n\t// move all keyframes either forwards or backwards in time\n\tshift( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = arraySlice( times, from, to );\n\t\t\tthis.values = arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize() {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = arraySlice( this.times ),\n\t\t\tvalues = arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== times[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst times = arraySlice( this.times, 0 );\n\t\tconst values = arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n}\n\nKeyframeTrack.prototype.TimeBufferType = Float32Array;\nKeyframeTrack.prototype.ValueBufferType = Float32Array;\nKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n/**\n * A Track of Boolean keyframe values.\n */\nclass BooleanKeyframeTrack extends KeyframeTrack {}\n\nBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\nBooleanKeyframeTrack.prototype.ValueBufferType = Array;\nBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of keyframe values that represent color.\n */\nclass ColorKeyframeTrack extends KeyframeTrack {}\n\nColorKeyframeTrack.prototype.ValueTypeName = 'color';\n\n/**\n * A Track of numeric keyframe values.\n */\nclass NumberKeyframeTrack extends KeyframeTrack {}\n\nNumberKeyframeTrack.prototype.ValueTypeName = 'number';\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nclass QuaternionLinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n * A Track of quaternion keyframe values.\n */\nclass QuaternionKeyframeTrack extends KeyframeTrack {\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n}\n\nQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion';\n// ValueBufferType is inherited\nQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\nQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track that interpolates Strings\n */\nclass StringKeyframeTrack extends KeyframeTrack {}\n\nStringKeyframeTrack.prototype.ValueTypeName = 'string';\nStringKeyframeTrack.prototype.ValueBufferType = Array;\nStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of vectored keyframe values.\n */\nclass VectorKeyframeTrack extends KeyframeTrack {}\n\nVectorKeyframeTrack.prototype.ValueTypeName = 'vector';\n\nclass AnimationClip {\n\n\tconstructor( name, duration = - 1, tracks, blendMode = NormalAnimationBlendMode ) {\n\n\t\tthis.name = name;\n\t\tthis.tracks = tracks;\n\t\tthis.duration = duration;\n\t\tthis.blendMode = blendMode;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// this means it should figure out its duration by scanning the tracks\n\t\tif ( this.duration < 0 ) {\n\n\t\t\tthis.resetDuration();\n\n\t\t}\n\n\t}\n\n\n\tstatic parse( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\tconst clip = new this( json.name, json.duration, tracks, json.blendMode );\n\t\tclip.uuid = json.uuid;\n\n\t\treturn clip;\n\n\t}\n\n\tstatic toJSON( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\tstatic CreateFromMorphTargetSequence( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = getKeyframeOrder( times );\n\t\t\ttimes = sortedArray( times, 1, order );\n\t\t\tvalues = sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new this( name, - 1, tracks );\n\n\t}\n\n\tstatic findByName( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tstatic CreateClipsFromMorphTargetSequences( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( this.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t}\n\n\t// parse the animation.hierarchy format\n\tstatic parseAnimation( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tflattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * fps;\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new this( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n\tresetDuration() {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t}\n\n\ttrim() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\toptimize() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new this.constructor( this.name, this.duration, tracks, this.blendMode );\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.constructor.toJSON( this );\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tflattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\nclass LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = /*@__PURE__*/ new LoadingManager();\n\nclass Loader {\n\n\tconstructor( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.withCredentials = false;\n\t\tthis.path = '';\n\t\tthis.resourcePath = '';\n\t\tthis.requestHeader = {};\n\n\t}\n\n\tload( /* url, onLoad, onProgress, onError */ ) {}\n\n\tloadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t}\n\n\tparse( /* data */ ) {}\n\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\tsetWithCredentials( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t}\n\n\tsetPath( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t}\n\n\tsetResourcePath( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n\tsetRequestHeader( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n}\n\nconst loading = {};\n\nclass HttpError extends Error {\n\n\tconstructor( message, response ) {\n\n\t\tsuper( message );\n\t\tthis.response = response;\n\n\t}\n\n}\n\nclass FileLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tthis.manager.itemStart( url );\n\n\t\t\tsetTimeout( () => {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tthis.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Initialise array for duplicate requests\n\t\tloading[ url ] = [];\n\n\t\tloading[ url ].push( {\n\t\t\tonLoad: onLoad,\n\t\t\tonProgress: onProgress,\n\t\t\tonError: onError,\n\t\t} );\n\n\t\t// create request\n\t\tconst req = new Request( url, {\n\t\t\theaders: new Headers( this.requestHeader ),\n\t\t\tcredentials: this.withCredentials ? 'include' : 'same-origin',\n\t\t\t// An abort controller could be added within a future PR\n\t\t} );\n\n\t\t// record states ( avoid data race )\n\t\tconst mimeType = this.mimeType;\n\t\tconst responseType = this.responseType;\n\n\t\t// start the fetch\n\t\tfetch( req )\n\t\t\t.then( response => {\n\n\t\t\t\tif ( response.status === 200 || response.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( response.status === 0 ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Workaround: Checking if response.body === undefined for Alipay browser #23548\n\n\t\t\t\t\tif ( typeof ReadableStream === 'undefined' || response.body === undefined || response.body.getReader === undefined ) {\n\n\t\t\t\t\t\treturn response;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst callbacks = loading[ url ];\n\t\t\t\t\tconst reader = response.body.getReader();\n\n\t\t\t\t\t// Nginx needs X-File-Size check\n\t\t\t\t\t// https://serverfault.com/questions/482875/why-does-nginx-remove-content-length-header-for-chunked-content\n\t\t\t\t\tconst contentLength = response.headers.get( 'Content-Length' ) || response.headers.get( 'X-File-Size' );\n\t\t\t\t\tconst total = contentLength ? parseInt( contentLength ) : 0;\n\t\t\t\t\tconst lengthComputable = total !== 0;\n\t\t\t\t\tlet loaded = 0;\n\n\t\t\t\t\t// periodically read data into the new stream tracking while download progress\n\t\t\t\t\tconst stream = new ReadableStream( {\n\t\t\t\t\t\tstart( controller ) {\n\n\t\t\t\t\t\t\treadData();\n\n\t\t\t\t\t\t\tfunction readData() {\n\n\t\t\t\t\t\t\t\treader.read().then( ( { done, value } ) => {\n\n\t\t\t\t\t\t\t\t\tif ( done ) {\n\n\t\t\t\t\t\t\t\t\t\tcontroller.close();\n\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\tloaded += value.byteLength;\n\n\t\t\t\t\t\t\t\t\t\tconst event = new ProgressEvent( 'progress', { lengthComputable, loaded, total } );\n\t\t\t\t\t\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\t\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tcontroller.enqueue( value );\n\t\t\t\t\t\t\t\t\t\treadData();\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn new Response( stream );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new HttpError( `fetch for \"${response.url}\" responded with ${response.status}: ${response.statusText}`, response );\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.then( response => {\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\n\t\t\t\t\t\treturn response.arrayBuffer();\n\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\treturn response.blob();\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\treturn response.text()\n\t\t\t\t\t\t\t.then( text => {\n\n\t\t\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\t\t\treturn parser.parseFromString( text, mimeType );\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\treturn response.json();\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( mimeType === undefined ) {\n\n\t\t\t\t\t\t\treturn response.text();\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// sniff encoding\n\t\t\t\t\t\t\tconst re = /charset=\"?([^;\"\\s]*)\"?/i;\n\t\t\t\t\t\t\tconst exec = re.exec( mimeType );\n\t\t\t\t\t\t\tconst label = exec && exec[ 1 ] ? exec[ 1 ].toLowerCase() : undefined;\n\t\t\t\t\t\t\tconst decoder = new TextDecoder( label );\n\t\t\t\t\t\t\treturn response.arrayBuffer().then( ab => decoder.decode( ab ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.then( data => {\n\n\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\tCache.add( url, data );\n\n\t\t\t\tconst callbacks = loading[ url ];\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( data );\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.catch( err => {\n\n\t\t\t\t// Abort errors and other errors are handled the same\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tif ( callbacks === undefined ) {\n\n\t\t\t\t\t// When onLoad was called and url was deleted in `loading`\n\t\t\t\t\tthis.manager.itemError( url );\n\t\t\t\t\tthrow err;\n\n\t\t\t\t}\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( err );\n\n\t\t\t\t}\n\n\t\t\t\tthis.manager.itemError( url );\n\n\t\t\t} )\n\t\t\t.finally( () => {\n\n\t\t\t\tthis.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\tthis.manager.itemStart( url );\n\n\t}\n\n\tsetResponseType( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t}\n\n\tsetMimeType( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass CompressedTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst images = [];\n\n\t\tconst texture = new CompressedTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 ) texture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.image = images;\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.image = images;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = createElementNS( 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction removeEventListeners() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.slice( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\nclass CubeTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass DataTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst texture = new DataTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setPath( this.path );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tconst texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.encoding !== undefined ) {\n\n\t\t\t\ttexture.encoding = texData.encoding;\n\n\t\t\t}\n\n\t\t\tif ( texData.flipY !== undefined ) {\n\n\t\t\t\ttexture.flipY = texData.flipY;\n\n\t\t\t}\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\tif ( texData.generateMipmaps !== undefined ) {\n\n\t\t\t\ttexture.generateMipmaps = texData.generateMipmaps;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass TextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass Light extends Object3D {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.isLight = true;\n\n\t\tthis.type = 'Light';\n\n\t\tthis.color = new Color( color );\n\t\tthis.intensity = intensity;\n\n\t}\n\n\tdispose() {\n\n\t\t// Empty here in base class; some subclasses override.\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass HemisphereLight extends Light {\n\n\tconstructor( skyColor, groundColor, intensity ) {\n\n\t\tsuper( skyColor, intensity );\n\n\t\tthis.isHemisphereLight = true;\n\n\t\tthis.type = 'HemisphereLight';\n\n\t\tthis.position.copy( Object3D.DEFAULT_UP );\n\t\tthis.updateMatrix();\n\n\t\tthis.groundColor = new Color( groundColor );\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _projScreenMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld$1 = /*@__PURE__*/ new Vector3();\nconst _lookTarget$1 = /*@__PURE__*/ new Vector3();\n\nclass LightShadow {\n\n\tconstructor( camera ) {\n\n\t\tthis.camera = camera;\n\n\t\tthis.bias = 0;\n\t\tthis.normalBias = 0;\n\t\tthis.radius = 1;\n\t\tthis.blurSamples = 8;\n\n\t\tthis.mapSize = new Vector2( 512, 512 );\n\n\t\tthis.map = null;\n\t\tthis.mapPass = null;\n\t\tthis.matrix = new Matrix4();\n\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\n\t\tthis._frustum = new Frustum();\n\t\tthis._frameExtents = new Vector2( 1, 1 );\n\n\t\tthis._viewportCount = 1;\n\n\t\tthis._viewports = [\n\n\t\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t\t];\n\n\t}\n\n\tgetViewportCount() {\n\n\t\treturn this._viewportCount;\n\n\t}\n\n\tgetFrustum() {\n\n\t\treturn this._frustum;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst shadowCamera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\t_lightPositionWorld$1.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( _lightPositionWorld$1 );\n\n\t\t_lookTarget$1.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( _lookTarget$1 );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\t_projScreenMatrix$1.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix$1 );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( _projScreenMatrix$1 );\n\n\t}\n\n\tgetViewport( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t}\n\n\tgetFrameExtents() {\n\n\t\treturn this._frameExtents;\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this.map ) {\n\n\t\t\tthis.map.dispose();\n\n\t\t}\n\n\t\tif ( this.mapPass ) {\n\n\t\t\tthis.mapPass.dispose();\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n}\n\nclass SpotLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\t\tthis.isSpotLightShadow = true;\n\n\t\tthis.focus = 1;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tsuper.updateMatrices( light );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.focus = source.focus;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass SpotLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 2 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isSpotLight = true;\n\n\t\tthis.type = 'SpotLight';\n\n\t\tthis.position.copy( Object3D.DEFAULT_UP );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.distance = distance;\n\t\tthis.angle = angle;\n\t\tthis.penumbra = penumbra;\n\t\tthis.decay = decay;\n\n\t\tthis.map = null;\n\n\t\tthis.shadow = new SpotLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t// by convention for a spotlight, luminous power (lm) =  * luminous intensity (cd)\n\t\treturn this.intensity * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / Math.PI;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _projScreenMatrix = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld = /*@__PURE__*/ new Vector3();\nconst _lookTarget = /*@__PURE__*/ new Vector3();\n\nclass PointLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\t\tthis.isPointLightShadow = true;\n\n\t\tthis._frameExtents = new Vector2( 4, 2 );\n\n\t\tthis._viewportCount = 6;\n\n\t\tthis._viewports = [\n\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t// following orientation:\n\t\t\t//\n\t\t\t//  xzXZ\n\t\t\t//   y Y\n\t\t\t//\n\t\t\t// X - Positive x direction\n\t\t\t// x - Negative x direction\n\t\t\t// Y - Positive y direction\n\t\t\t// y - Negative y direction\n\t\t\t// Z - Positive z direction\n\t\t\t// z - Negative z direction\n\n\t\t\t// positive X\n\t\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t\t// negative X\n\t\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t\t// positive Z\n\t\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t\t// negative Z\n\t\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t\t// positive Y\n\t\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t\t// negative Y\n\t\t\tnew Vector4( 1, 0, 1, 1 )\n\t\t];\n\n\t\tthis._cubeDirections = [\n\t\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t\t];\n\n\t\tthis._cubeUps = [\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t\t];\n\n\t}\n\n\tupdateMatrices( light, viewportIndex = 0 ) {\n\n\t\tconst camera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( far !== camera.far ) {\n\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( _lightPositionWorld );\n\n\t\t_lookTarget.copy( camera.position );\n\t\t_lookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( _lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t}\n\n}\n\nclass PointLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, decay = 2 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isPointLight = true;\n\n\t\tthis.type = 'PointLight';\n\n\t\tthis.distance = distance;\n\t\tthis.decay = decay;\n\n\t\tthis.shadow = new PointLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t// for an isotropic light source, luminous power (lm) = 4  luminous intensity (cd)\n\t\treturn this.intensity * 4 * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass DirectionalLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n\t\tthis.isDirectionalLightShadow = true;\n\n\t}\n\n}\n\nclass DirectionalLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isDirectionalLight = true;\n\n\t\tthis.type = 'DirectionalLight';\n\n\t\tthis.position.copy( Object3D.DEFAULT_UP );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.shadow = new DirectionalLightShadow();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.target = source.target.clone();\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AmbientLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isAmbientLight = true;\n\n\t\tthis.type = 'AmbientLight';\n\n\t}\n\n}\n\nclass RectAreaLight extends Light {\n\n\tconstructor( color, intensity, width = 10, height = 10 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isRectAreaLight = true;\n\n\t\tthis.type = 'RectAreaLight';\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in nits)\n\t\treturn this.intensity * this.width * this.height * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in nits) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / ( this.width * this.height * Math.PI );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n}\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n\tconstructor() {\n\n\t\tthis.isSphericalHarmonics3 = true;\n\n\t\tthis.coefficients = [];\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients.push( new Vector3() );\n\n\t\t}\n\n\t}\n\n\tset( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tzero() {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t}\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); //  * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 *  / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // (  / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // (  / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // (  / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t}\n\n\tadd( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\taddScaledSH( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tscale( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tlerp( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcopy( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tstatic getBasisAt( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n}\n\nclass LightProbe extends Light {\n\n\tconstructor( sh = new SphericalHarmonics3(), intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isLightProbe = true;\n\n\t\tthis.sh = sh;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass MaterialLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\t\tthis.textures = {};\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tconst material = MaterialLoader.createMaterialFromType( json.type );\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined && material.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = json.sheen;\n\t\tif ( json.sheenColor !== undefined ) material.sheenColor = new Color().setHex( json.sheenColor );\n\t\tif ( json.sheenRoughness !== undefined ) material.sheenRoughness = json.sheenRoughness;\n\t\tif ( json.emissive !== undefined && material.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined && material.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.specularIntensity !== undefined ) material.specularIntensity = json.specularIntensity;\n\t\tif ( json.specularColor !== undefined && material.specularColor !== undefined ) material.specularColor.setHex( json.specularColor );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.iridescence !== undefined ) material.iridescence = json.iridescence;\n\t\tif ( json.iridescenceIOR !== undefined ) material.iridescenceIOR = json.iridescenceIOR;\n\t\tif ( json.iridescenceThicknessRange !== undefined ) material.iridescenceThicknessRange = json.iridescenceThicknessRange;\n\t\tif ( json.transmission !== undefined ) material.transmission = json.transmission;\n\t\tif ( json.thickness !== undefined ) material.thickness = json.thickness;\n\t\tif ( json.attenuationDistance !== undefined ) material.attenuationDistance = json.attenuationDistance;\n\t\tif ( json.attenuationColor !== undefined && material.attenuationColor !== undefined ) material.attenuationColor.setHex( json.attenuationColor );\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.shadowSide !== undefined ) material.shadowSide = json.shadowSide;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.alphaToCoverage !== undefined ) material.alphaToCoverage = json.alphaToCoverage;\n\t\tif ( json.premultipliedAlpha !== undefined ) material.premultipliedAlpha = json.premultipliedAlpha;\n\t\tif ( json.forceSinglePass !== undefined ) material.forceSinglePass = json.forceSinglePass;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( const name in json.uniforms ) {\n\n\t\t\t\tconst uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\t\tif ( json.glslVersion !== undefined ) material.glslVersion = json.glslVersion;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( const key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tlet normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\t\tif ( json.specularIntensityMap !== undefined ) material.specularIntensityMap = getTexture( json.specularIntensityMap );\n\t\tif ( json.specularColorMap !== undefined ) material.specularColorMap = getTexture( json.specularColorMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\tif ( json.iridescenceMap !== undefined ) material.iridescenceMap = getTexture( json.iridescenceMap );\n\t\tif ( json.iridescenceThicknessMap !== undefined ) material.iridescenceThicknessMap = getTexture( json.iridescenceThicknessMap );\n\n\t\tif ( json.transmissionMap !== undefined ) material.transmissionMap = getTexture( json.transmissionMap );\n\t\tif ( json.thicknessMap !== undefined ) material.thicknessMap = getTexture( json.thicknessMap );\n\n\t\tif ( json.sheenColorMap !== undefined ) material.sheenColorMap = getTexture( json.sheenColorMap );\n\t\tif ( json.sheenRoughnessMap !== undefined ) material.sheenRoughnessMap = getTexture( json.sheenRoughnessMap );\n\n\t\treturn material;\n\n\t}\n\n\tsetTextures( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n\tstatic createMaterialFromType( type ) {\n\n\t\tconst materialLib = {\n\t\t\tShadowMaterial,\n\t\t\tSpriteMaterial,\n\t\t\tRawShaderMaterial,\n\t\t\tShaderMaterial,\n\t\t\tPointsMaterial,\n\t\t\tMeshPhysicalMaterial,\n\t\t\tMeshStandardMaterial,\n\t\t\tMeshPhongMaterial,\n\t\t\tMeshToonMaterial,\n\t\t\tMeshNormalMaterial,\n\t\t\tMeshLambertMaterial,\n\t\t\tMeshDepthMaterial,\n\t\t\tMeshDistanceMaterial,\n\t\t\tMeshBasicMaterial,\n\t\t\tMeshMatcapMaterial,\n\t\t\tLineDashedMaterial,\n\t\t\tLineBasicMaterial,\n\t\t\tMaterial\n\t\t};\n\n\t\treturn new materialLib[ type ]();\n\n\t}\n\n}\n\nclass LoaderUtils {\n\n\tstatic decodeText( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t}\n\n\tstatic extractUrlBase( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.slice( 0, index + 1 );\n\n\t}\n\n\tstatic resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t\t// Host Relative URL\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t\t}\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t\t// Blob URL\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t\t// Relative URL\n\t\treturn path + url;\n\n\t}\n\n}\n\nclass InstancedBufferGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isInstancedBufferGeometry = true;\n\n\t\tthis.type = 'InstancedBufferGeometry';\n\t\tthis.instanceCount = Infinity;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass BufferGeometryLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst interleavedBufferMap = {};\n\t\tconst arrayBufferMap = {};\n\n\t\tfunction getInterleavedBuffer( json, uuid ) {\n\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\n\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\n\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\n\n\t\t\tconst array = getTypedArray( interleavedBuffer.type, buffer );\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\n\t\t\tib.uuid = interleavedBuffer.uuid;\n\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\n\n\t\t\treturn ib;\n\n\t\t}\n\n\t\tfunction getArrayBuffer( json, uuid ) {\n\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\n\n\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\n\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\n\n\t\t\tarrayBufferMap[ uuid ] = ab;\n\n\t\t\treturn ab;\n\n\t\t}\n\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tconst index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst typedArray = getTypedArray( index.type, index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tconst attributes = json.data.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\t\t\tlet bufferAttribute;\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t} else {\n\n\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t}\n\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tif ( attribute.usage !== undefined ) bufferAttribute.setUsage( attribute.usage );\n\n\t\t\tif ( attribute.updateRange !== undefined ) {\n\n\t\t\t\tbufferAttribute.updateRange.offset = attribute.updateRange.offset;\n\t\t\t\tbufferAttribute.updateRange.count = attribute.updateRange.count;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( const key in morphAttributes ) {\n\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst attribute = attributeArray[ i ];\n\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tconst center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n}\n\nclass ObjectLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( new Error( 'THREE.ObjectLoader: Can\\'t load ' + url ) );\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tasync loadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tconst text = await loader.loadAsync( url, onProgress );\n\n\t\tconst json = JSON.parse( text );\n\n\t\tconst metadata = json.metadata;\n\n\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\tthrow new Error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\n\t\t}\n\n\t\treturn await scope.parseAsync( json );\n\n\t}\n\n\tparse( json, onLoad ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, textures, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\t//\n\n\t\tif ( onLoad !== undefined ) {\n\n\t\t\tlet hasImages = false;\n\n\t\t\tfor ( const uuid in images ) {\n\n\t\t\t\tif ( images[ uuid ].data instanceof HTMLImageElement ) {\n\n\t\t\t\t\thasImages = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasImages === false ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tasync parseAsync( json ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = await this.parseImagesAsync( json.images );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, textures, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\treturn object;\n\n\t}\n\n\tparseShapes( json ) {\n\n\t\tconst shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n\tparseSkeletons( json, object ) {\n\n\t\tconst skeletons = {};\n\t\tconst bones = {};\n\n\t\t// generate bone lookup table\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isBone ) bones[ child.uuid ] = child;\n\n\t\t} );\n\n\t\t// create skeletons\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst skeleton = new Skeleton().fromJSON( json[ i ], bones );\n\n\t\t\t\tskeletons[ skeleton.uuid ] = skeleton;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn skeletons;\n\n\t}\n\n\tparseGeometries( json, shapes ) {\n\n\t\tconst geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tlet geometry;\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( data.type in Geometries ) {\n\n\t\t\t\t\t\t\tgeometry = Geometries[ data.type ].fromJSON( data, shapes );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( `THREE.ObjectLoader: Unsupported geometry type \"${ data.type }\"` );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t}\n\n\tparseMaterials( json, textures ) {\n\n\t\tconst cache = {}; // MultiMaterial\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t}\n\n\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t}\n\n\tparseAnimations( json ) {\n\n\t\tconst animations = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tconst clip = AnimationClip.parse( data );\n\n\t\t\t\tanimations[ clip.uuid ] = clip;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n\tparseImages( json, onLoad ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn loadImage( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tconst manager = new LoadingManager( onLoad );\n\n\t\t\tloader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\tconst imageArray = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timageArray.push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timageArray.push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\timages[ image.uuid ] = new Source( imageArray );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = deserializeImage( image.url );\n\t\t\t\t\timages[ image.uuid ] = new Source( deserializedImage );\n\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tasync parseImagesAsync( json ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tasync function deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn await loader.loadAsync( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tloader = new ImageLoader( this.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\tconst imageArray = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = await deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timageArray.push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timageArray.push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\timages[ image.uuid ] = new Source( imageArray );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = await deserializeImage( image.url );\n\t\t\t\t\timages[ image.uuid ] = new Source( deserializedImage );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tparseTextures( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tconst textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tconst source = images[ data.image ];\n\t\t\t\tconst image = source.data;\n\n\t\t\t\tlet texture;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture();\n\n\t\t\t\t\tif ( image.length === 6 ) texture.needsUpdate = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( image && image.data ) {\n\n\t\t\t\t\t\ttexture = new DataTexture();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttexture = new Texture();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( image ) texture.needsUpdate = true; // textures can have undefined image data\n\n\t\t\t\t}\n\n\t\t\t\ttexture.source = source;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\t\t\t\tif ( data.channel !== undefined ) texture.channel = data.channel;\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.internalFormat !== undefined ) texture.internalFormat = data.internalFormat;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.generateMipmaps !== undefined ) texture.generateMipmaps = data.generateMipmaps;\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\tif ( data.userData !== undefined ) texture.userData = data.userData;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t}\n\n\tparseObject( data, geometries, materials, textures, animations ) {\n\n\t\tlet object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tfunction getTexture( uuid ) {\n\n\t\t\tif ( textures[ uuid ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined texture', uuid );\n\n\t\t\t}\n\n\t\t\treturn textures[ uuid ];\n\n\t\t}\n\n\t\tlet geometry, material;\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tobject.background = getTexture( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.environment !== undefined ) {\n\n\t\t\t\t\tobject.environment = getTexture( data.environment );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.backgroundBlurriness !== undefined ) object.backgroundBlurriness = data.backgroundBlurriness;\n\t\t\t\tif ( data.backgroundIntensity !== undefined ) object.backgroundIntensity = data.backgroundIntensity;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LightProbe':\n\n\t\t\t\tobject = new LightProbe().fromJSON( data );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t \tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\tif ( data.bindMode !== undefined ) object.bindMode = data.bindMode;\n\t\t\t\tif ( data.bindMatrix !== undefined ) object.bindMatrix.fromArray( data.bindMatrix );\n\t\t\t\tif ( data.skeleton !== undefined ) object.skeleton = data.skeleton;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\t\t\t\tconst count = data.count;\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\t\t\t\tconst instanceColor = data.instanceColor;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new InstancedBufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\t\t\t\tif ( instanceColor !== undefined ) object.instanceColor = new InstancedBufferAttribute( new Float32Array( instanceColor.array ), instanceColor.itemSize );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Bone':\n\n\t\t\t\tobject = new Bone();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.up !== undefined ) object.up.fromArray( data.up );\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials, textures, animations ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.animations !== undefined ) {\n\n\t\t\tconst objectAnimations = data.animations;\n\n\t\t\tfor ( let i = 0; i < objectAnimations.length; i ++ ) {\n\n\t\t\t\tconst uuid = objectAnimations[ i ];\n\n\t\t\t\tobject.animations.push( animations[ uuid ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tconst levels = data.levels;\n\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tconst level = levels[ l ];\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance, level.hysteresis );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tbindSkeletons( object, skeletons ) {\n\n\t\tif ( Object.keys( skeletons ).length === 0 ) return;\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isSkinnedMesh === true && child.skeleton !== undefined ) {\n\n\t\t\t\tconst skeleton = skeletons[ child.skeleton ];\n\n\t\t\t\tif ( skeleton === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tchild.bind( skeleton, child.bindMatrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n}\n\nconst TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\nclass ImageBitmapLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.isImageBitmapLoader = true;\n\n\t\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t\t}\n\n\t\tif ( typeof fetch === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t\t}\n\n\t\tthis.options = { premultiplyAlpha: 'none' };\n\n\t}\n\n\tsetOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst fetchOptions = {};\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\n\t\tfetchOptions.headers = this.requestHeader;\n\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, Object.assign( scope.options, { colorSpaceConversion: 'none' } ) );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n}\n\nlet _context;\n\nclass AudioContext {\n\n\tstatic getContext() {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t}\n\n\tstatic setContext( value ) {\n\n\t\t_context = value;\n\n\t}\n\n}\n\nclass AudioLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n}\n\nclass HemisphereLightProbe extends LightProbe {\n\n\tconstructor( skyColor, groundColor, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isHemisphereLightProbe = true;\n\n\t\tconst color1 = new Color().set( skyColor );\n\t\tconst color2 = new Color().set( groundColor );\n\n\t\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\t\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\t\tconst c0 = Math.sqrt( Math.PI );\n\t\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\t\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\t\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n\t}\n\n}\n\nclass AmbientLightProbe extends LightProbe {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isAmbientLightProbe = true;\n\n\t\tconst color1 = new Color().set( color );\n\n\t\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\t\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n\t}\n\n}\n\nconst _eyeRight = /*@__PURE__*/ new Matrix4();\nconst _eyeLeft = /*@__PURE__*/ new Matrix4();\nconst _projectionMatrix = /*@__PURE__*/ new Matrix4();\n\nclass StereoCamera {\n\n\tconstructor() {\n\n\t\tthis.type = 'StereoCamera';\n\n\t\tthis.aspect = 1;\n\n\t\tthis.eyeSep = 0.064;\n\n\t\tthis.cameraL = new PerspectiveCamera();\n\t\tthis.cameraL.layers.enable( 1 );\n\t\tthis.cameraL.matrixAutoUpdate = false;\n\n\t\tthis.cameraR = new PerspectiveCamera();\n\t\tthis.cameraR.layers.enable( 2 );\n\t\tthis.cameraR.matrixAutoUpdate = false;\n\n\t\tthis._cache = {\n\t\t\tfocus: null,\n\t\t\tfov: null,\n\t\t\taspect: null,\n\t\t\tnear: null,\n\t\t\tfar: null,\n\t\t\tzoom: null,\n\t\t\teyeSep: null\n\t\t};\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst cache = this._cache;\n\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\t_projectionMatrix.copy( camera.projectionMatrix );\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tconst ymax = ( cache.near * Math.tan( DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tlet xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\t_projectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\t_projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( _projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\t_projectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\t_projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( _projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n}\n\nclass Clock {\n\n\tconstructor( autoStart = true ) {\n\n\t\tthis.autoStart = autoStart;\n\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\n\t\tthis.running = false;\n\n\t}\n\n\tstart() {\n\n\t\tthis.startTime = now();\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t}\n\n\tstop() {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t}\n\n\tgetElapsedTime() {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t}\n\n\tgetDelta() {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n}\n\nfunction now() {\n\n\treturn ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n}\n\nconst _position$1 = /*@__PURE__*/ new Vector3();\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\nconst _scale$1 = /*@__PURE__*/ new Vector3();\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'AudioListener';\n\n\t\tthis.context = AudioContext.getContext();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\n\t\tthis.filter = null;\n\n\t\tthis.timeDelta = 0;\n\n\t\t// private\n\n\t\tthis._clock = new Clock();\n\n\t}\n\n\tgetInput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tremoveFilter() {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.filter;\n\n\t}\n\n\tsetFilter( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t}\n\n\tgetMasterVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetMasterVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$1, _quaternion$1, _scale$1 );\n\n\t\t_orientation$1.set( 0, 0, - 1 ).applyQuaternion( _quaternion$1 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$1.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$1.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$1.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$1.x, _position$1.y, _position$1.z );\n\t\t\tlistener.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass Audio extends Object3D {\n\n\tconstructor( listener ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Audio';\n\n\t\tthis.listener = listener;\n\t\tthis.context = listener.context;\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( listener.getInput() );\n\n\t\tthis.autoplay = false;\n\n\t\tthis.buffer = null;\n\t\tthis.detune = 0;\n\t\tthis.loop = false;\n\t\tthis.loopStart = 0;\n\t\tthis.loopEnd = 0;\n\t\tthis.offset = 0;\n\t\tthis.duration = undefined;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\tthis.hasPlaybackControl = true;\n\t\tthis.source = null;\n\t\tthis.sourceType = 'empty';\n\n\t\tthis._startedAt = 0;\n\t\tthis._progress = 0;\n\t\tthis._connected = false;\n\n\t\tthis.filters = [];\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tsetNodeSource( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaElementSource( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaStreamSource( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetBuffer( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t}\n\n\tplay( delay = 0 ) {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t}\n\n\tpause() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tif ( this.source !== null ) {\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t}\n\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t}\n\n\tconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = true;\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = false;\n\n\t\treturn this;\n\n\t}\n\n\tgetFilters() {\n\n\t\treturn this.filters;\n\n\t}\n\n\tsetFilters( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this._connected === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value.slice();\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value.slice();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetDetune( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetDetune() {\n\n\t\treturn this.detune;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t}\n\n\tsetFilter( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t}\n\n\tsetPlaybackRate( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetPlaybackRate() {\n\n\t\treturn this.playbackRate;\n\n\t}\n\n\tonEnded() {\n\n\t\tthis.isPlaying = false;\n\n\t}\n\n\tgetLoop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t}\n\n\tsetLoop( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopStart( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopEnd( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _position = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\nconst _scale = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass PositionalAudio extends Audio {\n\n\tconstructor( listener ) {\n\n\t\tsuper( listener );\n\n\t\tthis.panner = this.context.createPanner();\n\t\tthis.panner.panningModel = 'HRTF';\n\t\tthis.panner.connect( this.gain );\n\n\t}\n\n\tdisconnect() {\n\n\t\tsuper.disconnect();\n\n\t\tthis.panner.disconnect( this.gain );\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.panner;\n\n\t}\n\n\tgetRefDistance() {\n\n\t\treturn this.panner.refDistance;\n\n\t}\n\n\tsetRefDistance( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetRolloffFactor() {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t}\n\n\tsetRolloffFactor( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetDistanceModel() {\n\n\t\treturn this.panner.distanceModel;\n\n\t}\n\n\tsetDistanceModel( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxDistance() {\n\n\t\treturn this.panner.maxDistance;\n\n\t}\n\n\tsetMaxDistance( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetDirectionalCone( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, _scale );\n\n\t\t_orientation.set( 0, 0, 1 ).applyQuaternion( _quaternion );\n\n\t\tconst panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position.x, _position.y, _position.z );\n\t\t\tpanner.setOrientation( _orientation.x, _orientation.y, _orientation.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass AudioAnalyser {\n\n\tconstructor( audio, fftSize = 2048 ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nclass PropertyMixer {\n\n\tconstructor( binding, typeName, valueSize ) {\n\n\t\tthis.binding = binding;\n\t\tthis.valueSize = valueSize;\n\n\t\tlet mixFunction,\n\t\t\tmixFunctionAdditive,\n\t\t\tsetIdentity;\n\n\t\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t\t//\n\t\t// interpolators can use .buffer as their .result\n\t\t// the data then goes to 'incoming'\n\t\t//\n\t\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t\t// the cumulative result and are compared to detect\n\t\t// changes\n\t\t//\n\t\t// 'orig' stores the original state of the property\n\t\t//\n\t\t// 'add' is used for additive cumulative results\n\t\t//\n\t\t// 'work' is optional and is only present for quaternion types. It is used\n\t\t// to store intermediate quaternion multiplication results\n\n\t\tswitch ( typeName ) {\n\n\t\t\tcase 'quaternion':\n\t\t\t\tmixFunction = this._slerp;\n\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\t\tthis._workIndex = 5;\n\t\t\t\tbreak;\n\n\t\t\tcase 'string':\n\t\t\tcase 'bool':\n\t\t\t\tmixFunction = this._select;\n\n\t\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t\t// additive is not relevant for non-numeric types\n\t\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tmixFunction = this._lerp;\n\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t\t}\n\n\t\tthis._mixBufferRegion = mixFunction;\n\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\t\tthis._setIdentity = setIdentity;\n\t\tthis._origIndex = 3;\n\t\tthis._addIndex = 4;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tthis.useCount = 0;\n\t\tthis.referenceCount = 0;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t}\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState() {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t}\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState() {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t}\n\n\t_setAdditiveIdentityNumeric() {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\t_setAdditiveIdentityQuaternion() {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\n\n\t}\n\n\t_setAdditiveIdentityOther() {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t}\n\n\n\t// mix functions\n\n\t_select( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_slerp( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t}\n\n\t_slerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t}\n\n\t_lerp( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n\t_lerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n}\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /*@__PURE__*/ /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /*@__PURE__*/ /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /*@__PURE__*/ /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /*@__PURE__*/ /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones', 'map' ];\n\nclass Composite {\n\n\tconstructor( targetGroup, path, optionalParsedPath ) {\n\n\t\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis._targetGroup = targetGroup;\n\t\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n\t}\n\n\tgetValue( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t}\n\n\tsetValue( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t}\n\n\tbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t}\n\n\tunbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n}\n\n// Note: This class uses a State pattern on a per-method basis:\n// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n// prototype version of these methods with one that represents\n// the bound state. When the property is not found, the methods\n// become no-ops.\nclass PropertyBinding {\n\n\tconstructor( rootNode, path, parsedPath ) {\n\n\t\tthis.path = path;\n\t\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName );\n\n\t\tthis.rootNode = rootNode;\n\n\t\t// initial state of these methods that calls 'bind'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n\n\tstatic create( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tstatic sanitizeNodeName( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t}\n\n\tstatic parseTrackName( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( matches === null ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t}\n\n\tstatic findNode( root, nodeName ) {\n\n\t\tif ( nodeName === undefined || nodeName === '' || nodeName === '.' || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable() {}\n\t_setValue_unavailable() {}\n\n\t// Getters\n\n\t_getValue_direct( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.targetObject[ this.propertyName ];\n\n\t}\n\n\t_getValue_array( buffer, offset ) {\n\n\t\tconst source = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t}\n\n\t}\n\n\t_getValue_arrayElement( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t}\n\n\t_getValue_toArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t}\n\n\t// Direct\n\n\t_setValue_direct( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// EntireArray\n\n\t_setValue_array( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t}\n\n\t_setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// ArrayElement\n\n\t_setValue_arrayElement( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// HasToFromArray\n\n\t_setValue_fromArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t}\n\n\t_setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t_getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t}\n\n\t_setValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t}\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind() {\n\n\t\tlet targetObject = this.node;\n\t\tconst parsedPath = this.parsedPath;\n\n\t\tconst objectName = parsedPath.objectName;\n\t\tconst propertyName = parsedPath.propertyName;\n\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName );\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map':\n\n\t\t\t\t\tif ( 'map' in targetObject ) {\n\n\t\t\t\t\t\ttargetObject = targetObject.map;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.map ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.map;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === 'morphTargetInfluences' ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t}\n\n\tunbind() {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n}\n\nPropertyBinding.Composite = Composite;\n\nPropertyBinding.prototype.BindingType = {\n\tDirect: 0,\n\tEntireArray: 1,\n\tArrayElement: 2,\n\tHasFromToArray: 3\n};\n\nPropertyBinding.prototype.Versioning = {\n\tNone: 0,\n\tNeedsUpdate: 1,\n\tMatrixWorldNeedsUpdate: 2\n};\n\nPropertyBinding.prototype.GetterByBindingType = [\n\n\tPropertyBinding.prototype._getValue_direct,\n\tPropertyBinding.prototype._getValue_array,\n\tPropertyBinding.prototype._getValue_arrayElement,\n\tPropertyBinding.prototype._getValue_toArray,\n\n];\n\nPropertyBinding.prototype.SetterByBindingTypeAndVersioning = [\n\n\t[\n\t\t// Direct\n\t\tPropertyBinding.prototype._setValue_direct,\n\t\tPropertyBinding.prototype._setValue_direct_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// EntireArray\n\n\t\tPropertyBinding.prototype._setValue_array,\n\t\tPropertyBinding.prototype._setValue_array_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// ArrayElement\n\t\tPropertyBinding.prototype._setValue_arrayElement,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// HasToFromArray\n\t\tPropertyBinding.prototype._setValue_fromArray,\n\t\tPropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,\n\n\t]\n\n];\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nclass AnimationObjectGroup {\n\n\tconstructor() {\n\n\t\tthis.isAnimationObjectGroup = true;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// cached objects followed by the active ones\n\t\tthis._objects = Array.prototype.slice.call( arguments );\n\n\t\tthis.nCachedObjects_ = 0; // threshold\n\t\t// note: read by PropertyBinding.Composite\n\n\t\tconst indices = {};\n\t\tthis._indicesByUUID = indices; // for bookkeeping\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t\t}\n\n\t\tthis._paths = []; // inside: string\n\t\tthis._parsedPaths = []; // inside: { we don't care, here }\n\t\tthis._bindings = []; // inside: Array< PropertyBinding >\n\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tobjects: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._objects.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tget bindingsPerObject() {\n\n\t\t\t\treturn scope._bindings.length;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tadd() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\tremove() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// remove & forget\n\tuncache() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tif ( lastIndex > 0 ) {\n\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\tlet index = indicesByPath[ path ];\n\t\tconst bindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t}\n\n\tunsubscribe_( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n}\n\nclass AnimationAction {\n\n\tconstructor( mixer, clip, localRoot = null, blendMode = clip.blendMode ) {\n\n\t\tthis._mixer = mixer;\n\t\tthis._clip = clip;\n\t\tthis._localRoot = localRoot;\n\t\tthis.blendMode = blendMode;\n\n\t\tconst tracks = clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tinterpolants = new Array( nTracks );\n\n\t\tconst interpolantSettings = {\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t};\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\t\tinterpolants[ i ] = interpolant;\n\t\t\tinterpolant.settings = interpolantSettings;\n\n\t\t}\n\n\t\tthis._interpolantSettings = interpolantSettings;\n\n\t\tthis._interpolants = interpolants; // bound by the mixer\n\n\t\t// inside: PropertyMixer (managed by the mixer)\n\t\tthis._propertyBindings = new Array( nTracks );\n\n\t\tthis._cacheIndex = null; // for the memory manager\n\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\tthis._timeScaleInterpolant = null;\n\t\tthis._weightInterpolant = null;\n\n\t\tthis.loop = LoopRepeat;\n\t\tthis._loopCount = - 1;\n\n\t\t// global mixer time when the action is to be started\n\t\t// it's set back to 'null' upon start of the action\n\t\tthis._startTime = null;\n\n\t\t// scaled local time of the action\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\t\tthis.time = 0;\n\n\t\tthis.timeScale = 1;\n\t\tthis._effectiveTimeScale = 1;\n\n\t\tthis.weight = 1;\n\t\tthis._effectiveWeight = 1;\n\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\tthis.paused = false; // true -> zero effective time scale\n\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n\t}\n\n\t// State & Scheduling\n\n\tplay() {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t}\n\n\treset() {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t}\n\n\tisRunning() {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t}\n\n\t// return true when play has been called\n\tisScheduled() {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t}\n\n\tstartAt( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoop( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t}\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t}\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight() {\n\n\t\treturn this._effectiveWeight;\n\n\t}\n\n\tfadeIn( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t}\n\n\tfadeOut( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t}\n\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcrossFadeTo( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t}\n\n\tstopFading() {\n\n\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale() {\n\n\t\treturn this._effectiveTimeScale;\n\n\t}\n\n\tsetDuration( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\tsyncWith( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\thalt( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t}\n\n\twarp( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t}\n\n\tstopWarping() {\n\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Object Accessors\n\n\tgetMixer() {\n\n\t\treturn this._mixer;\n\n\t}\n\n\tgetClip() {\n\n\t\treturn this._clip;\n\n\t}\n\n\tgetRoot() {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t}\n\n\t// Interna\n\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\tdeltaTime = 0;\n\n\t\t\t} else {\n\n\n\t\t\t\tthis._startTime = null; // unschedule\n\t\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_updateWeight( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t}\n\n\t_updateTimeScale( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t}\n\n\t_updateTime( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t}\n\n\t_setEndings( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_scheduleFading( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _controlInterpolantsResultBuffer = new Float32Array( 1 );\n\n\nclass AnimationMixer extends EventDispatcher {\n\n\tconstructor( root ) {\n\n\t\tsuper();\n\n\t\tthis._root = root;\n\t\tthis._initMemoryManager();\n\t\tthis._accuIndex = 0;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1.0;\n\n\t}\n\n\t_bindAction( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t}\n\n\t_activateAction( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t}\n\n\t_deactivateAction( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t}\n\n\t// Memory manager\n\n\t_initMemoryManager() {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t}\n\n\t_addInactiveAction( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t}\n\n\t_removeInactiveAction( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t}\n\n\t_removeInactiveBindingsForAction( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_lendAction( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t}\n\n\t_takeBackAction( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t}\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t}\n\n\t_removeInactiveBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t}\n\n\t_lendBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t}\n\n\t_takeBackBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t}\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant() {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, _controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t}\n\n\t_takeBackControlInterpolant( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t}\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\n\t\tlet prototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t}\n\n\t// get an existing action\n\texistingAction( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction() {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// advance the time and update apply the animation\n\tupdate( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t}\n\n\t// return this mixer's root target object\n\tgetRoot() {\n\n\t\treturn this._root;\n\n\t}\n\n\t// free all resources specific to a particular clip\n\tuncacheClip( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t}\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remove a targeted clip from the cache\n\tuncacheAction( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n}\n\nclass Uniform {\n\n\tconstructor( value ) {\n\n\t\tthis.value = value;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n\t}\n\n}\n\nlet id = 0;\n\nclass UniformsGroup extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isUniformsGroup = true;\n\n\t\tObject.defineProperty( this, 'id', { value: id ++ } );\n\n\t\tthis.name = '';\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.uniforms = [];\n\n\t}\n\n\tadd( uniform ) {\n\n\t\tthis.uniforms.push( uniform );\n\n\t\treturn this;\n\n\t}\n\n\tremove( uniform ) {\n\n\t\tconst index = this.uniforms.indexOf( uniform );\n\n\t\tif ( index !== - 1 ) this.uniforms.splice( index, 1 );\n\n\t\treturn this;\n\n\t}\n\n\tsetName( name ) {\n\n\t\tthis.name = name;\n\n\t\treturn this;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.usage = source.usage;\n\n\t\tconst uniformsSource = source.uniforms;\n\n\t\tthis.uniforms.length = 0;\n\n\t\tfor ( let i = 0, l = uniformsSource.length; i < l; i ++ ) {\n\n\t\t\tthis.uniforms.push( uniformsSource[ i ].clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass InstancedInterleavedBuffer extends InterleavedBuffer {\n\n\tconstructor( array, stride, meshPerAttribute = 1 ) {\n\n\t\tsuper( array, stride );\n\n\t\tthis.isInstancedInterleavedBuffer = true;\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tconst ib = super.clone( data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tconst json = super.toJSON( data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n}\n\nclass GLBufferAttribute {\n\n\tconstructor( buffer, type, itemSize, elementSize, count ) {\n\n\t\tthis.isGLBufferAttribute = true;\n\n\t\tthis.name = '';\n\n\t\tthis.buffer = buffer;\n\t\tthis.type = type;\n\t\tthis.itemSize = itemSize;\n\t\tthis.elementSize = elementSize;\n\t\tthis.count = count;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetBuffer( buffer ) {\n\n\t\tthis.buffer = buffer;\n\n\t\treturn this;\n\n\t}\n\n\tsetType( type, elementSize ) {\n\n\t\tthis.type = type;\n\t\tthis.elementSize = elementSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetItemSize( itemSize ) {\n\n\t\tthis.itemSize = itemSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetCount( count ) {\n\n\t\tthis.count = count;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Raycaster {\n\n\tconstructor( origin, direction, near = 0, far = Infinity ) {\n\n\t\tthis.ray = new Ray( origin, direction );\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.camera = null;\n\t\tthis.layers = new Layers();\n\n\t\tthis.params = {\n\t\t\tMesh: {},\n\t\t\tLine: { threshold: 1 },\n\t\t\tLOD: {},\n\t\t\tPoints: { threshold: 1 },\n\t\t\tSprite: {}\n\t\t};\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t}\n\n\tsetFromCamera( coords, camera ) {\n\n\t\tif ( camera.isPerspectiveCamera ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( camera.isOrthographicCamera ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type: ' + camera.type );\n\n\t\t}\n\n\t}\n\n\tintersectObject( object, recursive = true, intersects = [] ) {\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n\tintersectObjects( objects, recursive = true, intersects = [] ) {\n\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nclass Spherical {\n\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi; // polar angle\n\t\tthis.theta = theta; // azimuthal angle\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t}\n\n\t// restrict phi to be between EPS and PI-EPS\n\tmakeSafe() {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n */\n\nclass Cylindrical {\n\n\tconstructor( radius = 1, theta = 0, y = 0 ) {\n\n\t\tthis.radius = radius; // distance from the origin to a point in the x-z plane\n\t\tthis.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\t\tthis.y = y; // height above the x-z plane\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$4 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n\tconstructor( min = new Vector2( + Infinity, + Infinity ), max = new Vector2( - Infinity, - Infinity ) ) {\n\n\t\tthis.isBox2 = true;\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$4.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.clampPoint( point, _vector$4 ).distanceTo( point );\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n\tconstructor( start = new Vector3(), end = new Vector3() ) {\n\n\t\tthis.start = start;\n\t\tthis.end = end;\n\n\t}\n\n\tset( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t}\n\n\tdelta( target ) {\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t}\n\n\tdistanceSq() {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t}\n\n\tdistance() {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tclosestPointToPointParameter( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t}\n\n\tclosestPointToPoint( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t}\n\n\tequals( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$3 = /*@__PURE__*/ new Vector3();\n\nclass SpotLightHelper extends Object3D {\n\n\tconstructor( light, color ) {\n\n\t\tsuper();\n\n\t\tthis.light = light;\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'SpotLightHelper';\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst positions = [\n\t\t\t0, 0, 0, \t0, 0, 1,\n\t\t\t0, 0, 0, \t1, 0, 1,\n\t\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t\t0, 0, 0, \t0, 1, 1,\n\t\t\t0, 0, 0, \t0, - 1, 1\n\t\t];\n\n\t\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\t\tconst p1 = ( i / l ) * Math.PI * 2;\n\t\t\tconst p2 = ( j / l ) * Math.PI * 2;\n\n\t\t\tpositions.push(\n\t\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t\t);\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.cone = new LineSegments( geometry, material );\n\t\tthis.add( this.cone );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateWorldMatrix( true, false );\n\t\tthis.light.target.updateWorldMatrix( true, false );\n\n\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tconst coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\t_vector$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( _vector$3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t}\n\n}\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n\tconstructor( object ) {\n\n\t\tconst bones = getBoneList( object );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst color1 = new Color( 0, 0, 1 );\n\t\tconst color2 = new Color( 0, 1, 0 );\n\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isSkeletonHelper = true;\n\n\t\tthis.type = 'SkeletonHelper';\n\n\t\tthis.root = object;\n\t\tthis.bones = bones;\n\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst bones = this.bones;\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t_matrixWorldInv.copy( this.root.matrixWorld ).invert();\n\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object.isBone === true ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nclass PointLightHelper extends Mesh {\n\n\tconstructor( light, sphereSize, color ) {\n\n\t\tconst geometry = new SphereGeometry( sphereSize, 4, 2 );\n\t\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'PointLightHelper';\n\n\t\tthis.matrix = this.light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\n\t\t/*\n\t// TODO: delete this comment?\n\tconst distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateWorldMatrix( true, false );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\t/*\n\t\tconst d = this.light.distance;\n\n\t\tif ( d === 0.0 ) {\n\n\t\t\tthis.lightDistance.visible = false;\n\n\t\t} else {\n\n\t\t\tthis.lightDistance.visible = true;\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t\t}\n\t\t*/\n\n\t}\n\n}\n\nconst _vector$1 = /*@__PURE__*/ new Vector3();\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass HemisphereLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\n\t\tthis.light = light;\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'HemisphereLightHelper';\n\n\t\tconst geometry = new OctahedronGeometry( size );\n\t\tgeometry.rotateY( Math.PI * 0.5 );\n\n\t\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\t\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\t\tconst colors = new Float32Array( position.count * 3 );\n\n\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\t\tthis.add( new Mesh( geometry, this.material ) );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tconst colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\t_color1.copy( this.light.color );\n\t\t\t_color2.copy( this.light.groundColor );\n\n\t\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tthis.light.updateWorldMatrix( true, false );\n\n\t\tmesh.lookAt( _vector$1.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t}\n\n}\n\nclass GridHelper extends LineSegments {\n\n\tconstructor( size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst center = divisions / 2;\n\t\tconst step = size / divisions;\n\t\tconst halfSize = size / 2;\n\n\t\tconst vertices = [], colors = [];\n\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\t\tconst color = i === center ? color1 : color2;\n\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'GridHelper';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nclass PolarGridHelper extends LineSegments {\n\n\tconstructor( radius = 10, sectors = 16, rings = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\t// create the sectors\n\n\t\tif ( sectors > 1 ) {\n\n\t\t\tfor ( let i = 0; i < sectors; i ++ ) {\n\n\t\t\t\tconst v = ( i / sectors ) * ( Math.PI * 2 );\n\n\t\t\t\tconst x = Math.sin( v ) * radius;\n\t\t\t\tconst z = Math.cos( v ) * radius;\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( x, 0, z );\n\n\t\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// create the rings\n\n\t\tfor ( let i = 0; i < rings; i ++ ) {\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tconst r = radius - ( radius / rings * i );\n\n\t\t\tfor ( let j = 0; j < divisions; j ++ ) {\n\n\t\t\t\t// first vertex\n\n\t\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tlet x = Math.sin( v ) * r;\n\t\t\t\tlet z = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t\t// second vertex\n\n\t\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tx = Math.sin( v ) * r;\n\t\t\t\tz = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'PolarGridHelper';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nclass DirectionalLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\n\t\tthis.light = light;\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'DirectionalLightHelper';\n\n\t\tif ( size === undefined ) size = 1;\n\n\t\tlet geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t\t- size, size, 0,\n\t\t\tsize, size, 0,\n\t\t\tsize, - size, 0,\n\t\t\t- size, - size, 0,\n\t\t\t- size, size, 0\n\t\t], 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.lightPlane = new Line( geometry, material );\n\t\tthis.add( this.lightPlane );\n\n\t\tgeometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\t\tthis.targetLine = new Line( geometry, material );\n\t\tthis.add( this.targetLine );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.lightPlane.geometry.dispose();\n\t\tthis.lightPlane.material.dispose();\n\t\tthis.targetLine.geometry.dispose();\n\t\tthis.targetLine.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateWorldMatrix( true, false );\n\t\tthis.light.target.updateWorldMatrix( true, false );\n\n\t\t_v1.setFromMatrixPosition( this.light.matrixWorld );\n\t\t_v2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\t_v3.subVectors( _v2, _v1 );\n\n\t\tthis.lightPlane.lookAt( _v2 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( _v2 );\n\t\tthis.targetLine.scale.z = _v3.length();\n\n\t}\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _camera = /*@__PURE__*/ new Camera();\n\n/**\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttps://github.com/evanw/lightgl.js/blob/master/tests/shadowmap.html\n */\n\nclass CameraHelper extends LineSegments {\n\n\tconstructor( camera ) {\n\n\t\tconst geometry = new BufferGeometry();\n\t\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst pointMap = {};\n\n\t\t// near\n\n\t\taddLine( 'n1', 'n2' );\n\t\taddLine( 'n2', 'n4' );\n\t\taddLine( 'n4', 'n3' );\n\t\taddLine( 'n3', 'n1' );\n\n\t\t// far\n\n\t\taddLine( 'f1', 'f2' );\n\t\taddLine( 'f2', 'f4' );\n\t\taddLine( 'f4', 'f3' );\n\t\taddLine( 'f3', 'f1' );\n\n\t\t// sides\n\n\t\taddLine( 'n1', 'f1' );\n\t\taddLine( 'n2', 'f2' );\n\t\taddLine( 'n3', 'f3' );\n\t\taddLine( 'n4', 'f4' );\n\n\t\t// cone\n\n\t\taddLine( 'p', 'n1' );\n\t\taddLine( 'p', 'n2' );\n\t\taddLine( 'p', 'n3' );\n\t\taddLine( 'p', 'n4' );\n\n\t\t// up\n\n\t\taddLine( 'u1', 'u2' );\n\t\taddLine( 'u2', 'u3' );\n\t\taddLine( 'u3', 'u1' );\n\n\t\t// target\n\n\t\taddLine( 'c', 't' );\n\t\taddLine( 'p', 'c' );\n\n\t\t// cross\n\n\t\taddLine( 'cn1', 'cn2' );\n\t\taddLine( 'cn3', 'cn4' );\n\n\t\taddLine( 'cf1', 'cf2' );\n\t\taddLine( 'cf3', 'cf4' );\n\n\t\tfunction addLine( a, b ) {\n\n\t\t\taddPoint( a );\n\t\t\taddPoint( b );\n\n\t\t}\n\n\t\tfunction addPoint( id ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( 0, 0, 0 );\n\n\t\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\t\tpointMap[ id ] = [];\n\n\t\t\t}\n\n\t\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'CameraHelper';\n\n\t\tthis.camera = camera;\n\t\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\t\tthis.matrix = camera.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.pointMap = pointMap;\n\n\t\tthis.update();\n\n\t\t// colors\n\n\t\tconst colorFrustum = new Color( 0xffaa00 );\n\t\tconst colorCone = new Color( 0xff0000 );\n\t\tconst colorUp = new Color( 0x00aaff );\n\t\tconst colorTarget = new Color( 0xffffff );\n\t\tconst colorCross = new Color( 0x333333 );\n\n\t\tthis.setColors( colorFrustum, colorCone, colorUp, colorTarget, colorCross );\n\n\t}\n\n\tsetColors( frustum, cone, up, target, cross ) {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst colorAttribute = geometry.getAttribute( 'color' );\n\n\t\t// near\n\n\t\tcolorAttribute.setXYZ( 0, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 1, frustum.r, frustum.g, frustum.b ); // n1, n2\n\t\tcolorAttribute.setXYZ( 2, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 3, frustum.r, frustum.g, frustum.b ); // n2, n4\n\t\tcolorAttribute.setXYZ( 4, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 5, frustum.r, frustum.g, frustum.b ); // n4, n3\n\t\tcolorAttribute.setXYZ( 6, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 7, frustum.r, frustum.g, frustum.b ); // n3, n1\n\n\t\t// far\n\n\t\tcolorAttribute.setXYZ( 8, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 9, frustum.r, frustum.g, frustum.b ); // f1, f2\n\t\tcolorAttribute.setXYZ( 10, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 11, frustum.r, frustum.g, frustum.b ); // f2, f4\n\t\tcolorAttribute.setXYZ( 12, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 13, frustum.r, frustum.g, frustum.b ); // f4, f3\n\t\tcolorAttribute.setXYZ( 14, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 15, frustum.r, frustum.g, frustum.b ); // f3, f1\n\n\t\t// sides\n\n\t\tcolorAttribute.setXYZ( 16, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 17, frustum.r, frustum.g, frustum.b ); // n1, f1\n\t\tcolorAttribute.setXYZ( 18, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 19, frustum.r, frustum.g, frustum.b ); // n2, f2\n\t\tcolorAttribute.setXYZ( 20, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 21, frustum.r, frustum.g, frustum.b ); // n3, f3\n\t\tcolorAttribute.setXYZ( 22, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 23, frustum.r, frustum.g, frustum.b ); // n4, f4\n\n\t\t// cone\n\n\t\tcolorAttribute.setXYZ( 24, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 25, cone.r, cone.g, cone.b ); // p, n1\n\t\tcolorAttribute.setXYZ( 26, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 27, cone.r, cone.g, cone.b ); // p, n2\n\t\tcolorAttribute.setXYZ( 28, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 29, cone.r, cone.g, cone.b ); // p, n3\n\t\tcolorAttribute.setXYZ( 30, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 31, cone.r, cone.g, cone.b ); // p, n4\n\n\t\t// up\n\n\t\tcolorAttribute.setXYZ( 32, up.r, up.g, up.b ); colorAttribute.setXYZ( 33, up.r, up.g, up.b ); // u1, u2\n\t\tcolorAttribute.setXYZ( 34, up.r, up.g, up.b ); colorAttribute.setXYZ( 35, up.r, up.g, up.b ); // u2, u3\n\t\tcolorAttribute.setXYZ( 36, up.r, up.g, up.b ); colorAttribute.setXYZ( 37, up.r, up.g, up.b ); // u3, u1\n\n\t\t// target\n\n\t\tcolorAttribute.setXYZ( 38, target.r, target.g, target.b ); colorAttribute.setXYZ( 39, target.r, target.g, target.b ); // c, t\n\t\tcolorAttribute.setXYZ( 40, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 41, cross.r, cross.g, cross.b ); // p, c\n\n\t\t// cross\n\n\t\tcolorAttribute.setXYZ( 42, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 43, cross.r, cross.g, cross.b ); // cn1, cn2\n\t\tcolorAttribute.setXYZ( 44, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 45, cross.r, cross.g, cross.b ); // cn3, cn4\n\n\t\tcolorAttribute.setXYZ( 46, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 47, cross.r, cross.g, cross.b ); // cf1, cf2\n\t\tcolorAttribute.setXYZ( 48, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 49, cross.r, cross.g, cross.b ); // cf3, cf4\n\n\t\tcolorAttribute.needsUpdate = true;\n\n\t}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst pointMap = this.pointMap;\n\n\t\tconst w = 1, h = 1;\n\n\t\t// we need just camera projection matrix inverse\n\t\t// world matrix must be identity\n\n\t\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\t\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\t\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\t\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\t\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\t\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\t\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\t\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\t\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\t\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\t\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\t\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\t\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\t\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\t\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector.set( x, y, z ).unproject( camera );\n\n\tconst points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t}\n\n}\n\nconst _box = /*@__PURE__*/ new Box3();\n\nclass BoxHelper extends LineSegments {\n\n\tconstructor( object, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\t\tconst positions = new Float32Array( 8 * 3 );\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.type = 'BoxHelper';\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\t_box.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( _box.isEmpty() ) return;\n\n\t\tconst min = _box.min;\n\t\tconst max = _box.max;\n\n\t\t/*\n\t\t\t5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tconst position = this.geometry.attributes.position;\n\t\tconst array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.object = object;\n\t\tthis.update();\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.object = source.object;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nclass Box3Helper extends LineSegments {\n\n\tconstructor( box, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\t\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.box = box;\n\n\t\tthis.type = 'Box3Helper';\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst box = this.box;\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tbox.getCenter( this.position );\n\n\t\tbox.getSize( this.scale );\n\n\t\tthis.scale.multiplyScalar( 0.5 );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nclass PlaneHelper extends Line {\n\n\tconstructor( plane, size = 1, hex = 0xffff00 ) {\n\n\t\tconst color = hex;\n\n\t\tconst positions = [ 1, - 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, - 1, 0, 1, 1, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.type = 'PlaneHelper';\n\n\t\tthis.plane = plane;\n\n\t\tthis.size = size;\n\n\t\tconst positions2 = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, 1, 0, - 1, - 1, 0, 1, - 1, 0 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tthis.position.set( 0, 0, 0 );\n\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, 1 );\n\n\t\tthis.lookAt( this.plane.normal );\n\n\t\tthis.translateZ( - this.plane.constant );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n}\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n\t// dir is assumed to be normalized\n\n\tconstructor( dir = new Vector3( 0, 0, 1 ), origin = new Vector3( 0, 0, 0 ), length = 1, color = 0xffff00, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ArrowHelper';\n\n\t\tif ( _lineGeometry === undefined ) {\n\n\t\t\t_lineGeometry = new BufferGeometry();\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t\t_coneGeometry = new CylinderGeometry( 0, 0.5, 1, 5, 1 );\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t\t}\n\n\t\tthis.position.copy( origin );\n\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.line.matrixAutoUpdate = false;\n\t\tthis.add( this.line );\n\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.cone.matrixAutoUpdate = false;\n\t\tthis.add( this.cone );\n\n\t\tthis.setDirection( dir );\n\t\tthis.setLength( length, headLength, headWidth );\n\n\t}\n\n\tsetDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tconst radians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t\t}\n\n\t}\n\n\tsetLength( length, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\t\tthis.line.updateMatrix();\n\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\n\t}\n\n\tsetColor( color ) {\n\n\t\tthis.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tthis.line.copy( source.line );\n\t\tthis.cone.copy( source.cone );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.line.geometry.dispose();\n\t\tthis.line.material.dispose();\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n}\n\nclass AxesHelper extends LineSegments {\n\n\tconstructor( size = 1 ) {\n\n\t\tconst vertices = [\n\t\t\t0, 0, 0,\tsize, 0, 0,\n\t\t\t0, 0, 0,\t0, size, 0,\n\t\t\t0, 0, 0,\t0, 0, size\n\t\t];\n\n\t\tconst colors = [\n\t\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t\t0, 0, 1,\t0, 0.6, 1\n\t\t];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'AxesHelper';\n\n\t}\n\n\tsetColors( xAxisColor, yAxisColor, zAxisColor ) {\n\n\t\tconst color = new Color();\n\t\tconst array = this.geometry.attributes.color.array;\n\n\t\tcolor.set( xAxisColor );\n\t\tcolor.toArray( array, 0 );\n\t\tcolor.toArray( array, 3 );\n\n\t\tcolor.set( yAxisColor );\n\t\tcolor.toArray( array, 6 );\n\t\tcolor.toArray( array, 9 );\n\n\t\tcolor.set( zAxisColor );\n\t\tcolor.toArray( array, 12 );\n\t\tcolor.toArray( array, 15 );\n\n\t\tthis.geometry.attributes.color.needsUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nclass ShapePath {\n\n\tconstructor() {\n\n\t\tthis.type = 'ShapePath';\n\n\t\tthis.color = new Color();\n\n\t\tthis.subPaths = [];\n\t\tthis.currentPath = null;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t}\n\n\ttoShapes( isCCW ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tlet solid, tmpPath, tmpShape;\n\t\tconst shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tlet toChange = 0;\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange ++;\n\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( toChange > 0 && ambiguous === false ) {\n\n\t\t\t\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nclass BoxBufferGeometry extends BoxGeometry { // @deprecated, r144\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tconsole.warn( 'THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry.' );\n\t\tsuper( width, height, depth, widthSegments, heightSegments, depthSegments );\n\n\n\t}\n\n}\n\nclass CapsuleBufferGeometry extends CapsuleGeometry { // @deprecated, r144\n\n\tconstructor( radius, length, capSegments, radialSegments ) {\n\n\t\tconsole.warn( 'THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry.' );\n\t\tsuper( radius, length, capSegments, radialSegments );\n\n\t}\n\n}\n\nclass CircleBufferGeometry extends CircleGeometry { // @deprecated, r144\n\n\tconstructor( radius, segments, thetaStart, thetaLength ) {\n\n\t\tconsole.warn( 'THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry.' );\n\t\tsuper( radius, segments, thetaStart, thetaLength );\n\n\t}\n\n}\n\nclass ConeBufferGeometry extends ConeGeometry { // @deprecated, r144\n\n\tconstructor( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\t\tconsole.warn( 'THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry.' );\n\t\tsuper( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t}\n\n}\n\nclass CylinderBufferGeometry extends CylinderGeometry { // @deprecated, r144\n\n\tconstructor( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\t\tconsole.warn( 'THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry.' );\n\t\tsuper( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t}\n\n}\n\nclass DodecahedronBufferGeometry extends DodecahedronGeometry { // @deprecated, r144\n\n\tconstructor( radius, detail ) {\n\n\t\tconsole.warn( 'THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry.' );\n\t\tsuper( radius, detail );\n\n\t}\n\n}\n\nclass ExtrudeBufferGeometry extends ExtrudeGeometry { // @deprecated, r144\n\n\tconstructor( shapes, options ) {\n\n\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry.' );\n\t\tsuper( shapes, options );\n\n\t}\n\n}\n\nclass IcosahedronBufferGeometry extends IcosahedronGeometry { // @deprecated, r144\n\n\tconstructor( radius, detail ) {\n\n\t\tconsole.warn( 'THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry.' );\n\t\tsuper( radius, detail );\n\n\t}\n\n}\n\nclass LatheBufferGeometry extends LatheGeometry { // @deprecated, r144\n\n\tconstructor( points, segments, phiStart, phiLength ) {\n\n\t\tconsole.warn( 'THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry.' );\n\t\tsuper( points, segments, phiStart, phiLength );\n\n\t}\n\n}\n\nclass OctahedronBufferGeometry extends OctahedronGeometry { // @deprecated, r144\n\n\tconstructor( radius, detail ) {\n\n\t\tconsole.warn( 'THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry.' );\n\t\tsuper( radius, detail );\n\n\t}\n\n}\n\nclass PlaneBufferGeometry extends PlaneGeometry { // @deprecated, r144\n\n\tconstructor( width, height, widthSegments, heightSegments ) {\n\n\t\tconsole.warn( 'THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry.' );\n\t\tsuper( width, height, widthSegments, heightSegments );\n\n\t}\n\n}\n\nclass PolyhedronBufferGeometry extends PolyhedronGeometry { // @deprecated, r144\n\n\tconstructor( vertices, indices, radius, detail ) {\n\n\t\tconsole.warn( 'THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry.' );\n\t\tsuper( vertices, indices, radius, detail );\n\n\t}\n\n}\n\nclass RingBufferGeometry extends RingGeometry { // @deprecated, r144\n\n\tconstructor( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\t\tconsole.warn( 'THREE.RingBufferGeometry has been renamed to THREE.RingGeometry.' );\n\t\tsuper( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength );\n\n\t}\n\n}\n\nclass ShapeBufferGeometry extends ShapeGeometry { // @deprecated, r144\n\n\tconstructor( shapes, curveSegments ) {\n\n\t\tconsole.warn( 'THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry.' );\n\t\tsuper( shapes, curveSegments );\n\n\t}\n\n}\n\nclass SphereBufferGeometry extends SphereGeometry { // @deprecated, r144\n\n\tconstructor( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\t\tconsole.warn( 'THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry.' );\n\t\tsuper( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength );\n\n\t}\n\n}\n\nclass TetrahedronBufferGeometry extends TetrahedronGeometry { // @deprecated, r144\n\n\tconstructor( radius, detail ) {\n\n\t\tconsole.warn( 'THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry.' );\n\t\tsuper( radius, detail );\n\n\t}\n\n}\n\nclass TorusBufferGeometry extends TorusGeometry { // @deprecated, r144\n\n\tconstructor( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\t\tconsole.warn( 'THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry.' );\n\t\tsuper( radius, tube, radialSegments, tubularSegments, arc );\n\n\t}\n\n}\n\nclass TorusKnotBufferGeometry extends TorusKnotGeometry { // @deprecated, r144\n\n\tconstructor( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\t\tconsole.warn( 'THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry.' );\n\t\tsuper( radius, tube, tubularSegments, radialSegments, p, q );\n\n\t}\n\n}\n\nclass TubeBufferGeometry extends TubeGeometry { // @deprecated, r144\n\n\tconstructor( path, tubularSegments, radius, radialSegments, closed ) {\n\n\t\tconsole.warn( 'THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry.' );\n\t\tsuper( path, tubularSegments, radius, radialSegments, closed );\n\n\t}\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\n}\n\nif ( typeof window !== 'undefined' ) {\n\n\tif ( window.__THREE__ ) {\n\n\t\tconsole.warn( 'WARNING: Multiple instances of Three.js being imported.' );\n\n\t} else {\n\n\t\twindow.__THREE__ = REVISION;\n\n\t}\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveAnimationBlendMode, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationAction, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, BackSide, BasicDepthPacking, BasicShadowMap, Bone, BooleanKeyframeTrack, Box2, Box3, Box3Helper, BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasTexture, CapsuleBufferGeometry, CapsuleGeometry, CatmullRomCurve3, CineonToneMapping, CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, Color, ColorKeyframeTrack, ColorManagement, CompressedArrayTexture, CompressedTexture, CompressedTextureLoader, ConeBufferGeometry, ConeGeometry, CubeCamera, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CustomToneMapping, CylinderBufferGeometry, CylinderGeometry, Cylindrical, Data3DTexture, DataArrayTexture, DataTexture, DataTextureLoader, DataUtils, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DiscreteInterpolant, DisplayP3ColorSpace, DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeBufferGeometry, ExtrudeGeometry, FileLoader, Float16BufferAttribute, Float32BufferAttribute, Float64BufferAttribute, FloatType, Fog, FogExp2, FramebufferTexture, FrontSide, Frustum, GLBufferAttribute, GLSL1, GLSL3, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16BufferAttribute, Int32BufferAttribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, KeepStencilOp, KeyframeTrack, LOD, LatheBufferGeometry, LatheGeometry, Layers, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LineSegments, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearSRGBColorSpace, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColorSpace, NoToneMapping, NormalAnimationBlendMode, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, Path, PerspectiveCamera, Plane, PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, RED_GREEN_RGTC2_Format, RED_RGTC1_Format, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingBufferGeometry, RingGeometry, SIGNED_RED_GREEN_RGTC2_Format, SIGNED_RED_RGTC1_Format, SRGBColorSpace, Scene, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, Source, Sphere, SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SplineCurve, SpotLight, SpotLightHelper, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronBufferGeometry, TetrahedronGeometry, Texture, TextureLoader, TorusBufferGeometry, TorusGeometry, TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeBufferGeometry, TubeGeometry, TwoPassDoubleSide, UVMapping, Uint16BufferAttribute, Uint32BufferAttribute, Uint8BufferAttribute, Uint8ClampedBufferAttribute, Uniform, UniformsGroup, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, VideoTexture, WebGL1Renderer, WebGL3DRenderTarget, WebGLArrayRenderTarget, WebGLCubeRenderTarget, WebGLMultipleRenderTargets, WebGLRenderTarget, WebGLRenderer, WebGLUtils, WireframeGeometry, WrapAroundEnding, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, _SRGBAFormat, sRGBEncoding };\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// OrbitControls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.getDistance = function () {\n\n\t\t\treturn this.object.position.distanceTo( this.target );\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.stopListenToKeyEvents = function () {\n\n\t\t\tthis._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = null;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new Vector3();\n\t\t\tconst lastQuaternion = new Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerUp );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\t\t\t\tscope._domElementKeyEvents = null;\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new Spherical();\n\t\tconst sphericalDelta = new Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new Vector2();\n\t\tconst rotateEnd = new Vector2();\n\t\tconst rotateDelta = new Vector2();\n\n\t\tconst panStart = new Vector2();\n\t\tconst panEnd = new Vector2();\n\t\tconst panDelta = new Vector2();\n\n\t\tconst dollyStart = new Vector2();\n\t\tconst dollyEnd = new Vector2();\n\t\tconst dollyDelta = new Vector2();\n\n\t\tconst pointers = [];\n\t\tconst pointerPositions = {};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\trotateUp( 2 * Math.PI * scope.rotateSpeed / scope.domElement.clientHeight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\trotateUp( - 2 * Math.PI * scope.rotateSpeed / scope.domElement.clientHeight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\trotateLeft( 2 * Math.PI * scope.rotateSpeed / scope.domElement.clientHeight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\trotateLeft( - 2 * Math.PI * scope.rotateSpeed / scope.domElement.clientHeight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly() {\n\n\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\n\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan();\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( pointers.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\tconst dx = event.pageX - position.x;\n\t\t\tconst dy = event.pageY - position.y;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( pointers.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\tpointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\n\n\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\tpointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\tpointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];\n\n\t\t\treturn pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'pointercancel', onPointerUp );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\nexport { OrbitControls };\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tInstancedBufferAttribute,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tTrianglesDrawMode,\n\tVector3,\n} from 'three';\n\nfunction computeMikkTSpaceTangents( geometry, MikkTSpace, negateSign = true ) {\n\n\tif ( ! MikkTSpace || ! MikkTSpace.isReady ) {\n\n\t\tthrow new Error( 'BufferGeometryUtils: Initialized MikkTSpace library required.' );\n\n\t}\n\n\tif ( ! geometry.hasAttribute( 'position' ) || ! geometry.hasAttribute( 'normal' ) || ! geometry.hasAttribute( 'uv' ) ) {\n\n\t\tthrow new Error( 'BufferGeometryUtils: Tangents require \"position\", \"normal\", and \"uv\" attributes.' );\n\n\t}\n\n\tfunction getAttributeArray( attribute ) {\n\n\t\tif ( attribute.normalized || attribute.isInterleavedBufferAttribute ) {\n\n\t\t\tconst dstArray = new Float32Array( attribute.getCount() * attribute.itemSize );\n\n\t\t\tfor ( let i = 0, j = 0; i < attribute.getCount(); i ++ ) {\n\n\t\t\t\tdstArray[ j ++ ] = attribute.getX( i );\n\t\t\t\tdstArray[ j ++ ] = attribute.getY( i );\n\n\t\t\t\tif ( attribute.itemSize > 2 ) {\n\n\t\t\t\t\tdstArray[ j ++ ] = attribute.getZ( i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn dstArray;\n\n\t\t}\n\n\t\tif ( attribute.array instanceof Float32Array ) {\n\n\t\t\treturn attribute.array;\n\n\t\t}\n\n\t\treturn new Float32Array( attribute.array );\n\n\t}\n\n\t// MikkTSpace algorithm requires non-indexed input.\n\n\tconst _geometry = geometry.index ? geometry.toNonIndexed() : geometry;\n\n\t// Compute vertex tangents.\n\n\tconst tangents = MikkTSpace.generateTangents(\n\n\t\tgetAttributeArray( _geometry.attributes.position ),\n\t\tgetAttributeArray( _geometry.attributes.normal ),\n\t\tgetAttributeArray( _geometry.attributes.uv )\n\n\t);\n\n\t// Texture coordinate convention of glTF differs from the apparent\n\t// default of the MikkTSpace library; .w component must be flipped.\n\n\tif ( negateSign ) {\n\n\t\tfor ( let i = 3; i < tangents.length; i += 4 ) {\n\n\t\t\ttangents[ i ] *= - 1;\n\n\t\t}\n\n\t}\n\n\t//\n\n\t_geometry.setAttribute( 'tangent', new BufferAttribute( tangents, 4 ) );\n\n\tif ( geometry !== _geometry ) {\n\n\t\tgeometry.copy( _geometry );\n\n\t}\n\n\treturn geometry;\n\n}\n\n/**\n * @param  {Array<BufferGeometry>} geometries\n * @param  {Boolean} useGroups\n * @return {BufferGeometry}\n */\nfunction mergeGeometries( geometries, useGroups = false ) {\n\n\tconst isIndexed = geometries[ 0 ].index !== null;\n\n\tconst attributesUsed = new Set( Object.keys( geometries[ 0 ].attributes ) );\n\tconst morphAttributesUsed = new Set( Object.keys( geometries[ 0 ].morphAttributes ) );\n\n\tconst attributes = {};\n\tconst morphAttributes = {};\n\n\tconst morphTargetsRelative = geometries[ 0 ].morphTargetsRelative;\n\n\tconst mergedGeometry = new BufferGeometry();\n\n\tlet offset = 0;\n\n\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\tconst geometry = geometries[ i ];\n\t\tlet attributesCount = 0;\n\n\t\t// ensure that all geometries are indexed, or none\n\n\t\tif ( isIndexed !== ( geometry.index !== null ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// gather attributes, exit early if they're different\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tif ( ! attributesUsed.has( name ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure \"' + name + '\" attribute exists among all geometries, or in none of them.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tif ( attributes[ name ] === undefined ) attributes[ name ] = [];\n\n\t\t\tattributes[ name ].push( geometry.attributes[ name ] );\n\n\t\t\tattributesCount ++;\n\n\t\t}\n\n\t\t// ensure geometries have the same number of attributes\n\n\t\tif ( attributesCount !== attributesUsed.size ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. Make sure all geometries have the same number of attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// gather morph attributes, exit early if they're different\n\n\t\tif ( morphTargetsRelative !== geometry.morphTargetsRelative ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. .morphTargetsRelative must be consistent throughout all geometries.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfor ( const name in geometry.morphAttributes ) {\n\n\t\t\tif ( ! morphAttributesUsed.has( name ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '.  .morphAttributes must be consistent throughout all geometries.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tif ( morphAttributes[ name ] === undefined ) morphAttributes[ name ] = [];\n\n\t\t\tmorphAttributes[ name ].push( geometry.morphAttributes[ name ] );\n\n\t\t}\n\n\t\tif ( useGroups ) {\n\n\t\t\tlet count;\n\n\t\t\tif ( isIndexed ) {\n\n\t\t\t\tcount = geometry.index.count;\n\n\t\t\t} else if ( geometry.attributes.position !== undefined ) {\n\n\t\t\t\tcount = geometry.attributes.position.count;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. The geometry must have either an index or a position attribute' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tmergedGeometry.addGroup( offset, count, i );\n\n\t\t\toffset += count;\n\n\t\t}\n\n\t}\n\n\t// merge indices\n\n\tif ( isIndexed ) {\n\n\t\tlet indexOffset = 0;\n\t\tconst mergedIndex = [];\n\n\t\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\t\tconst index = geometries[ i ].index;\n\n\t\t\tfor ( let j = 0; j < index.count; ++ j ) {\n\n\t\t\t\tmergedIndex.push( index.getX( j ) + indexOffset );\n\n\t\t\t}\n\n\t\t\tindexOffset += geometries[ i ].attributes.position.count;\n\n\t\t}\n\n\t\tmergedGeometry.setIndex( mergedIndex );\n\n\t}\n\n\t// merge attributes\n\n\tfor ( const name in attributes ) {\n\n\t\tconst mergedAttribute = mergeAttributes( attributes[ name ] );\n\n\t\tif ( ! mergedAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the ' + name + ' attribute.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tmergedGeometry.setAttribute( name, mergedAttribute );\n\n\t}\n\n\t// merge morph attributes\n\n\tfor ( const name in morphAttributes ) {\n\n\t\tconst numMorphTargets = morphAttributes[ name ][ 0 ].length;\n\n\t\tif ( numMorphTargets === 0 ) break;\n\n\t\tmergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {};\n\t\tmergedGeometry.morphAttributes[ name ] = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; ++ i ) {\n\n\t\t\tconst morphAttributesToMerge = [];\n\n\t\t\tfor ( let j = 0; j < morphAttributes[ name ].length; ++ j ) {\n\n\t\t\t\tmorphAttributesToMerge.push( morphAttributes[ name ][ j ][ i ] );\n\n\t\t\t}\n\n\t\t\tconst mergedMorphAttribute = mergeAttributes( morphAttributesToMerge );\n\n\t\t\tif ( ! mergedMorphAttribute ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the ' + name + ' morphAttribute.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tmergedGeometry.morphAttributes[ name ].push( mergedMorphAttribute );\n\n\t\t}\n\n\t}\n\n\treturn mergedGeometry;\n\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {BufferAttribute}\n */\nfunction mergeAttributes( attributes ) {\n\n\tlet TypedArray;\n\tlet itemSize;\n\tlet normalized;\n\tlet arrayLength = 0;\n\n\tfor ( let i = 0; i < attributes.length; ++ i ) {\n\n\t\tconst attribute = attributes[ i ];\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. InterleavedBufferAttributes are not supported.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\n\t\tif ( TypedArray !== attribute.array.constructor ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( itemSize === undefined ) itemSize = attribute.itemSize;\n\t\tif ( itemSize !== attribute.itemSize ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( normalized === undefined ) normalized = attribute.normalized;\n\t\tif ( normalized !== attribute.normalized ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tarrayLength += attribute.array.length;\n\n\t}\n\n\tconst array = new TypedArray( arrayLength );\n\tlet offset = 0;\n\n\tfor ( let i = 0; i < attributes.length; ++ i ) {\n\n\t\tarray.set( attributes[ i ].array, offset );\n\n\t\toffset += attributes[ i ].array.length;\n\n\t}\n\n\treturn new BufferAttribute( array, itemSize, normalized );\n\n}\n\n/**\n * @param {BufferAttribute}\n * @return {BufferAttribute}\n */\nexport function deepCloneAttribute( attribute ) {\n\n\tif ( attribute.isInstancedInterleavedBufferAttribute || attribute.isInterleavedBufferAttribute ) {\n\n\t\treturn deinterleaveAttribute( attribute );\n\n\t}\n\n\tif ( attribute.isInstancedBufferAttribute ) {\n\n\t\treturn new InstancedBufferAttribute().copy( attribute );\n\n\t}\n\n\treturn new BufferAttribute().copy( attribute );\n\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {Array<InterleavedBufferAttribute>}\n */\nfunction interleaveAttributes( attributes ) {\n\n\t// Interleaves the provided attributes into an InterleavedBuffer and returns\n\t// a set of InterleavedBufferAttributes for each attribute\n\tlet TypedArray;\n\tlet arrayLength = 0;\n\tlet stride = 0;\n\n\t// calculate the length and type of the interleavedBuffer\n\tfor ( let i = 0, l = attributes.length; i < l; ++ i ) {\n\n\t\tconst attribute = attributes[ i ];\n\n\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\n\t\tif ( TypedArray !== attribute.array.constructor ) {\n\n\t\t\tconsole.error( 'AttributeBuffers of different types cannot be interleaved' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tarrayLength += attribute.array.length;\n\t\tstride += attribute.itemSize;\n\n\t}\n\n\t// Create the set of buffer attributes\n\tconst interleavedBuffer = new InterleavedBuffer( new TypedArray( arrayLength ), stride );\n\tlet offset = 0;\n\tconst res = [];\n\tconst getters = [ 'getX', 'getY', 'getZ', 'getW' ];\n\tconst setters = [ 'setX', 'setY', 'setZ', 'setW' ];\n\n\tfor ( let j = 0, l = attributes.length; j < l; j ++ ) {\n\n\t\tconst attribute = attributes[ j ];\n\t\tconst itemSize = attribute.itemSize;\n\t\tconst count = attribute.count;\n\t\tconst iba = new InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, attribute.normalized );\n\t\tres.push( iba );\n\n\t\toffset += itemSize;\n\n\t\t// Move the data for each attribute into the new interleavedBuffer\n\t\t// at the appropriate offset\n\t\tfor ( let c = 0; c < count; c ++ ) {\n\n\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\tiba[ setters[ k ] ]( c, attribute[ getters[ k ] ]( c ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn res;\n\n}\n\n// returns a new, non-interleaved version of the provided attribute\nexport function deinterleaveAttribute( attribute ) {\n\n\tconst cons = attribute.data.array.constructor;\n\tconst count = attribute.count;\n\tconst itemSize = attribute.itemSize;\n\tconst normalized = attribute.normalized;\n\n\tconst array = new cons( count * itemSize );\n\tlet newAttribute;\n\tif ( attribute.isInstancedInterleavedBufferAttribute ) {\n\n\t\tnewAttribute = new InstancedBufferAttribute( array, itemSize, normalized, attribute.meshPerAttribute );\n\n\t} else {\n\n\t\tnewAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t}\n\n\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\tnewAttribute.setX( i, attribute.getX( i ) );\n\n\t\tif ( itemSize >= 2 ) {\n\n\t\t\tnewAttribute.setY( i, attribute.getY( i ) );\n\n\t\t}\n\n\t\tif ( itemSize >= 3 ) {\n\n\t\t\tnewAttribute.setZ( i, attribute.getZ( i ) );\n\n\t\t}\n\n\t\tif ( itemSize >= 4 ) {\n\n\t\t\tnewAttribute.setW( i, attribute.getW( i ) );\n\n\t\t}\n\n\t}\n\n\treturn newAttribute;\n\n}\n\n// deinterleaves all attributes on the geometry\nexport function deinterleaveGeometry( geometry ) {\n\n\tconst attributes = geometry.attributes;\n\tconst morphTargets = geometry.morphTargets;\n\tconst attrMap = new Map();\n\n\tfor ( const key in attributes ) {\n\n\t\tconst attr = attributes[ key ];\n\t\tif ( attr.isInterleavedBufferAttribute ) {\n\n\t\t\tif ( ! attrMap.has( attr ) ) {\n\n\t\t\t\tattrMap.set( attr, deinterleaveAttribute( attr ) );\n\n\t\t\t}\n\n\t\t\tattributes[ key ] = attrMap.get( attr );\n\n\t\t}\n\n\t}\n\n\tfor ( const key in morphTargets ) {\n\n\t\tconst attr = morphTargets[ key ];\n\t\tif ( attr.isInterleavedBufferAttribute ) {\n\n\t\t\tif ( ! attrMap.has( attr ) ) {\n\n\t\t\t\tattrMap.set( attr, deinterleaveAttribute( attr ) );\n\n\t\t\t}\n\n\t\t\tmorphTargets[ key ] = attrMap.get( attr );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @param {Array<BufferGeometry>} geometry\n * @return {number}\n */\nfunction estimateBytesUsed( geometry ) {\n\n\t// Return the estimated memory used by this geometry in bytes\n\t// Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\n\t// for InterleavedBufferAttributes.\n\tlet mem = 0;\n\tfor ( const name in geometry.attributes ) {\n\n\t\tconst attr = geometry.getAttribute( name );\n\t\tmem += attr.count * attr.itemSize * attr.array.BYTES_PER_ELEMENT;\n\n\t}\n\n\tconst indices = geometry.getIndex();\n\tmem += indices ? indices.count * indices.itemSize * indices.array.BYTES_PER_ELEMENT : 0;\n\treturn mem;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} tolerance\n * @return {BufferGeometry}\n */\nfunction mergeVertices( geometry, tolerance = 1e-4 ) {\n\n\ttolerance = Math.max( tolerance, Number.EPSILON );\n\n\t// Generate an index buffer if the geometry doesn't have one, or optimize it\n\t// if it's already available.\n\tconst hashToIndex = {};\n\tconst indices = geometry.getIndex();\n\tconst positions = geometry.getAttribute( 'position' );\n\tconst vertexCount = indices ? indices.count : positions.count;\n\n\t// next value for triangle indices\n\tlet nextIndex = 0;\n\n\t// attributes and new attribute arrays\n\tconst attributeNames = Object.keys( geometry.attributes );\n\tconst tmpAttributes = {};\n\tconst tmpMorphAttributes = {};\n\tconst newIndices = [];\n\tconst getters = [ 'getX', 'getY', 'getZ', 'getW' ];\n\tconst setters = [ 'setX', 'setY', 'setZ', 'setW' ];\n\n\t// Initialize the arrays, allocating space conservatively. Extra\n\t// space will be trimmed in the last step.\n\tfor ( let i = 0, l = attributeNames.length; i < l; i ++ ) {\n\n\t\tconst name = attributeNames[ i ];\n\t\tconst attr = geometry.attributes[ name ];\n\n\t\ttmpAttributes[ name ] = new BufferAttribute(\n\t\t\tnew attr.array.constructor( attr.count * attr.itemSize ),\n\t\t\tattr.itemSize,\n\t\t\tattr.normalized\n\t\t);\n\n\t\tconst morphAttr = geometry.morphAttributes[ name ];\n\t\tif ( morphAttr ) {\n\n\t\t\ttmpMorphAttributes[ name ] = new BufferAttribute(\n\t\t\t\tnew morphAttr.array.constructor( morphAttr.count * morphAttr.itemSize ),\n\t\t\t\tmorphAttr.itemSize,\n\t\t\t\tmorphAttr.normalized\n\t\t\t);\n\n\t\t}\n\n\t}\n\n\t// convert the error tolerance to an amount of decimal places to truncate to\n\tconst decimalShift = Math.log10( 1 / tolerance );\n\tconst shiftMultiplier = Math.pow( 10, decimalShift );\n\tfor ( let i = 0; i < vertexCount; i ++ ) {\n\n\t\tconst index = indices ? indices.getX( i ) : i;\n\n\t\t// Generate a hash for the vertex attributes at the current index 'i'\n\t\tlet hash = '';\n\t\tfor ( let j = 0, l = attributeNames.length; j < l; j ++ ) {\n\n\t\t\tconst name = attributeNames[ j ];\n\t\t\tconst attribute = geometry.getAttribute( name );\n\t\t\tconst itemSize = attribute.itemSize;\n\n\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\t// double tilde truncates the decimal value\n\t\t\t\thash += `${ ~ ~ ( attribute[ getters[ k ] ]( index ) * shiftMultiplier ) },`;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add another reference to the vertex if it's already\n\t\t// used by another index\n\t\tif ( hash in hashToIndex ) {\n\n\t\t\tnewIndices.push( hashToIndex[ hash ] );\n\n\t\t} else {\n\n\t\t\t// copy data to the new index in the temporary attributes\n\t\t\tfor ( let j = 0, l = attributeNames.length; j < l; j ++ ) {\n\n\t\t\t\tconst name = attributeNames[ j ];\n\t\t\t\tconst attribute = geometry.getAttribute( name );\n\t\t\t\tconst morphAttr = geometry.morphAttributes[ name ];\n\t\t\t\tconst itemSize = attribute.itemSize;\n\t\t\t\tconst newarray = tmpAttributes[ name ];\n\t\t\t\tconst newMorphArrays = tmpMorphAttributes[ name ];\n\n\t\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\t\tconst getterFunc = getters[ k ];\n\t\t\t\t\tconst setterFunc = setters[ k ];\n\t\t\t\t\tnewarray[ setterFunc ]( nextIndex, attribute[ getterFunc ]( index ) );\n\n\t\t\t\t\tif ( morphAttr ) {\n\n\t\t\t\t\t\tfor ( let m = 0, ml = morphAttr.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\t\tnewMorphArrays[ m ][ setterFunc ]( nextIndex, morphAttr[ m ][ getterFunc ]( index ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\thashToIndex[ hash ] = nextIndex;\n\t\t\tnewIndices.push( nextIndex );\n\t\t\tnextIndex ++;\n\n\t\t}\n\n\t}\n\n\t// generate result BufferGeometry\n\tconst result = geometry.clone();\n\tfor ( const name in geometry.attributes ) {\n\n\t\tconst tmpAttribute = tmpAttributes[ name ];\n\n\t\tresult.setAttribute( name, new BufferAttribute(\n\t\t\ttmpAttribute.array.slice( 0, nextIndex * tmpAttribute.itemSize ),\n\t\t\ttmpAttribute.itemSize,\n\t\t\ttmpAttribute.normalized,\n\t\t) );\n\n\t\tif ( ! ( name in tmpMorphAttributes ) ) continue;\n\n\t\tfor ( let j = 0; j < tmpMorphAttributes[ name ].length; j ++ ) {\n\n\t\t\tconst tmpMorphAttribute = tmpMorphAttributes[ name ][ j ];\n\n\t\t\tresult.morphAttributes[ name ][ j ] = new BufferAttribute(\n\t\t\t\ttmpMorphAttribute.array.slice( 0, nextIndex * tmpMorphAttribute.itemSize ),\n\t\t\t\ttmpMorphAttribute.itemSize,\n\t\t\t\ttmpMorphAttribute.normalized,\n\t\t\t);\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tresult.setIndex( newIndices );\n\n\treturn result;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} drawMode\n * @return {BufferGeometry}\n */\nfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\tif ( drawMode === TrianglesDrawMode ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.' );\n\t\treturn geometry;\n\n\t}\n\n\tif ( drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode ) {\n\n\t\tlet index = geometry.getIndex();\n\n\t\t// generate index if not present\n\n\t\tif ( index === null ) {\n\n\t\t\tconst indices = [];\n\n\t\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t\tif ( position !== undefined ) {\n\n\t\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\t\tindices.push( i );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setIndex( indices );\n\t\t\t\tindex = geometry.getIndex();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\t\treturn geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst numberOfTriangles = index.count - 2;\n\t\tconst newIndices = [];\n\n\t\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t\t// gl.TRIANGLE_FAN\n\n\t\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// gl.TRIANGLE_STRIP\n\n\t\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t\t}\n\n\t\t// build final geometry\n\n\t\tconst newGeometry = geometry.clone();\n\t\tnewGeometry.setIndex( newIndices );\n\t\tnewGeometry.clearGroups();\n\n\t\treturn newGeometry;\n\n\t} else {\n\n\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode );\n\t\treturn geometry;\n\n\t}\n\n}\n\n/**\n * Calculates the morphed attributes of a morphed/skinned BufferGeometry.\n * Helpful for Raytracing or Decals.\n * @param {Mesh | Line | Points} object An instance of Mesh, Line or Points.\n * @return {Object} An Object with original position/normal attributes and morphed ones.\n */\nfunction computeMorphedAttributes( object ) {\n\n\tconst _vA = new Vector3();\n\tconst _vB = new Vector3();\n\tconst _vC = new Vector3();\n\n\tconst _tempA = new Vector3();\n\tconst _tempB = new Vector3();\n\tconst _tempC = new Vector3();\n\n\tconst _morphA = new Vector3();\n\tconst _morphB = new Vector3();\n\tconst _morphC = new Vector3();\n\n\tfunction _calculateMorphedAttributeData(\n\t\tobject,\n\t\tattribute,\n\t\tmorphAttribute,\n\t\tmorphTargetsRelative,\n\t\ta,\n\t\tb,\n\t\tc,\n\t\tmodifiedAttributeArray\n\t) {\n\n\t\t_vA.fromBufferAttribute( attribute, a );\n\t\t_vB.fromBufferAttribute( attribute, b );\n\t\t_vC.fromBufferAttribute( attribute, c );\n\n\t\tconst morphInfluences = object.morphTargetInfluences;\n\n\t\tif ( morphAttribute && morphInfluences ) {\n\n\t\t\t_morphA.set( 0, 0, 0 );\n\t\t\t_morphB.set( 0, 0, 0 );\n\t\t\t_morphC.set( 0, 0, 0 );\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst influence = morphInfluences[ i ];\n\t\t\t\tconst morph = morphAttribute[ i ];\n\n\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t_tempA.fromBufferAttribute( morph, a );\n\t\t\t\t_tempB.fromBufferAttribute( morph, b );\n\t\t\t\t_tempC.fromBufferAttribute( morph, c );\n\n\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_vA.add( _morphA );\n\t\t\t_vB.add( _morphB );\n\t\t\t_vC.add( _morphC );\n\n\t\t}\n\n\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\tobject.applyBoneTransform( a, _vA );\n\t\t\tobject.applyBoneTransform( b, _vB );\n\t\t\tobject.applyBoneTransform( c, _vC );\n\n\t\t}\n\n\t\tmodifiedAttributeArray[ a * 3 + 0 ] = _vA.x;\n\t\tmodifiedAttributeArray[ a * 3 + 1 ] = _vA.y;\n\t\tmodifiedAttributeArray[ a * 3 + 2 ] = _vA.z;\n\t\tmodifiedAttributeArray[ b * 3 + 0 ] = _vB.x;\n\t\tmodifiedAttributeArray[ b * 3 + 1 ] = _vB.y;\n\t\tmodifiedAttributeArray[ b * 3 + 2 ] = _vB.z;\n\t\tmodifiedAttributeArray[ c * 3 + 0 ] = _vC.x;\n\t\tmodifiedAttributeArray[ c * 3 + 1 ] = _vC.y;\n\t\tmodifiedAttributeArray[ c * 3 + 2 ] = _vC.z;\n\n\t}\n\n\tconst geometry = object.geometry;\n\tconst material = object.material;\n\n\tlet a, b, c;\n\tconst index = geometry.index;\n\tconst positionAttribute = geometry.attributes.position;\n\tconst morphPosition = geometry.morphAttributes.position;\n\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\tconst normalAttribute = geometry.attributes.normal;\n\tconst morphNormal = geometry.morphAttributes.position;\n\n\tconst groups = geometry.groups;\n\tconst drawRange = geometry.drawRange;\n\tlet i, j, il, jl;\n\tlet group;\n\tlet start, end;\n\n\tconst modifiedPosition = new Float32Array( positionAttribute.count * positionAttribute.itemSize );\n\tconst modifiedNormal = new Float32Array( normalAttribute.count * normalAttribute.itemSize );\n\n\tif ( index !== null ) {\n\n\t\t// indexed buffer geometry\n\n\t\tif ( Array.isArray( material ) ) {\n\n\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\tgroup = groups[ i ];\n\n\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t);\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\ta = index.getX( i );\n\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tpositionAttribute,\n\t\t\t\t\tmorphPosition,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedPosition\n\t\t\t\t);\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tnormalAttribute,\n\t\t\t\t\tmorphNormal,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedNormal\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t} else {\n\n\t\t// non-indexed buffer geometry\n\n\t\tif ( Array.isArray( material ) ) {\n\n\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\tgroup = groups[ i ];\n\n\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\ta = j;\n\t\t\t\t\tb = j + 1;\n\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t);\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\tend = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\ta = i;\n\t\t\t\tb = i + 1;\n\t\t\t\tc = i + 2;\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tpositionAttribute,\n\t\t\t\t\tmorphPosition,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedPosition\n\t\t\t\t);\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tnormalAttribute,\n\t\t\t\t\tmorphNormal,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedNormal\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tconst morphedPositionAttribute = new Float32BufferAttribute( modifiedPosition, 3 );\n\tconst morphedNormalAttribute = new Float32BufferAttribute( modifiedNormal, 3 );\n\n\treturn {\n\n\t\tpositionAttribute: positionAttribute,\n\t\tnormalAttribute: normalAttribute,\n\t\tmorphedPositionAttribute: morphedPositionAttribute,\n\t\tmorphedNormalAttribute: morphedNormalAttribute\n\n\t};\n\n}\n\nfunction mergeGroups( geometry ) {\n\n\tif ( geometry.groups.length === 0 ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge.' );\n\t\treturn geometry;\n\n\t}\n\n\tlet groups = geometry.groups;\n\n\t// sort groups by material index\n\n\tgroups = groups.sort( ( a, b ) => {\n\n\t\tif ( a.materialIndex !== b.materialIndex ) return a.materialIndex - b.materialIndex;\n\n\t\treturn a.start - b.start;\n\n\t} );\n\n\t// create index for non-indexed geometries\n\n\tif ( geometry.getIndex() === null ) {\n\n\t\tconst positionAttribute = geometry.getAttribute( 'position' );\n\t\tconst indices = [];\n\n\t\tfor ( let i = 0; i < positionAttribute.count; i += 3 ) {\n\n\t\t\tindices.push( i, i + 1, i + 2 );\n\n\t\t}\n\n\t\tgeometry.setIndex( indices );\n\n\t}\n\n\t// sort index\n\n\tconst index = geometry.getIndex();\n\n\tconst newIndices = [];\n\n\tfor ( let i = 0; i < groups.length; i ++ ) {\n\n\t\tconst group = groups[ i ];\n\n\t\tconst groupStart = group.start;\n\t\tconst groupLength = groupStart + group.count;\n\n\t\tfor ( let j = groupStart; j < groupLength; j ++ ) {\n\n\t\t\tnewIndices.push( index.getX( j ) );\n\n\t\t}\n\n\t}\n\n\tgeometry.dispose(); // Required to force buffer recreation\n\tgeometry.setIndex( newIndices );\n\n\t// update groups indices\n\n\tlet start = 0;\n\n\tfor ( let i = 0; i < groups.length; i ++ ) {\n\n\t\tconst group = groups[ i ];\n\n\t\tgroup.start = start;\n\t\tstart += group.count;\n\n\t}\n\n\t// merge groups\n\n\tlet currentGroup = groups[ 0 ];\n\n\tgeometry.groups = [ currentGroup ];\n\n\tfor ( let i = 1; i < groups.length; i ++ ) {\n\n\t\tconst group = groups[ i ];\n\n\t\tif ( currentGroup.materialIndex === group.materialIndex ) {\n\n\t\t\tcurrentGroup.count += group.count;\n\n\t\t} else {\n\n\t\t\tcurrentGroup = group;\n\t\t\tgeometry.groups.push( currentGroup );\n\n\t\t}\n\n\t}\n\n\treturn geometry;\n\n}\n\n\n// Creates a new, non-indexed geometry with smooth normals everywhere except faces that meet at\n// an angle greater than the crease angle.\nfunction toCreasedNormals( geometry, creaseAngle = Math.PI / 3 /* 60 degrees */ ) {\n\n\tconst creaseDot = Math.cos( creaseAngle );\n\tconst hashMultiplier = ( 1 + 1e-10 ) * 1e2;\n\n\t// reusable vertors\n\tconst verts = [ new Vector3(), new Vector3(), new Vector3() ];\n\tconst tempVec1 = new Vector3();\n\tconst tempVec2 = new Vector3();\n\tconst tempNorm = new Vector3();\n\tconst tempNorm2 = new Vector3();\n\n\t// hashes a vector\n\tfunction hashVertex( v ) {\n\n\t\tconst x = ~ ~ ( v.x * hashMultiplier );\n\t\tconst y = ~ ~ ( v.y * hashMultiplier );\n\t\tconst z = ~ ~ ( v.z * hashMultiplier );\n\t\treturn `${x},${y},${z}`;\n\n\t}\n\n\tconst resultGeometry = geometry.toNonIndexed();\n\tconst posAttr = resultGeometry.attributes.position;\n\tconst vertexMap = {};\n\n\t// find all the normals shared by commonly located vertices\n\tfor ( let i = 0, l = posAttr.count / 3; i < l; i ++ ) {\n\n\t\tconst i3 = 3 * i;\n\t\tconst a = verts[ 0 ].fromBufferAttribute( posAttr, i3 + 0 );\n\t\tconst b = verts[ 1 ].fromBufferAttribute( posAttr, i3 + 1 );\n\t\tconst c = verts[ 2 ].fromBufferAttribute( posAttr, i3 + 2 );\n\n\t\ttempVec1.subVectors( c, b );\n\t\ttempVec2.subVectors( a, b );\n\n\t\t// add the normal to the map for all vertices\n\t\tconst normal = new Vector3().crossVectors( tempVec1, tempVec2 ).normalize();\n\t\tfor ( let n = 0; n < 3; n ++ ) {\n\n\t\t\tconst vert = verts[ n ];\n\t\t\tconst hash = hashVertex( vert );\n\t\t\tif ( ! ( hash in vertexMap ) ) {\n\n\t\t\t\tvertexMap[ hash ] = [];\n\n\t\t\t}\n\n\t\t\tvertexMap[ hash ].push( normal );\n\n\t\t}\n\n\t}\n\n\t// average normals from all vertices that share a common location if they are within the\n\t// provided crease threshold\n\tconst normalArray = new Float32Array( posAttr.count * 3 );\n\tconst normAttr = new BufferAttribute( normalArray, 3, false );\n\tfor ( let i = 0, l = posAttr.count / 3; i < l; i ++ ) {\n\n\t\t// get the face normal for this vertex\n\t\tconst i3 = 3 * i;\n\t\tconst a = verts[ 0 ].fromBufferAttribute( posAttr, i3 + 0 );\n\t\tconst b = verts[ 1 ].fromBufferAttribute( posAttr, i3 + 1 );\n\t\tconst c = verts[ 2 ].fromBufferAttribute( posAttr, i3 + 2 );\n\n\t\ttempVec1.subVectors( c, b );\n\t\ttempVec2.subVectors( a, b );\n\n\t\ttempNorm.crossVectors( tempVec1, tempVec2 ).normalize();\n\n\t\t// average all normals that meet the threshold and set the normal value\n\t\tfor ( let n = 0; n < 3; n ++ ) {\n\n\t\t\tconst vert = verts[ n ];\n\t\t\tconst hash = hashVertex( vert );\n\t\t\tconst otherNormals = vertexMap[ hash ];\n\t\t\ttempNorm2.set( 0, 0, 0 );\n\n\t\t\tfor ( let k = 0, lk = otherNormals.length; k < lk; k ++ ) {\n\n\t\t\t\tconst otherNorm = otherNormals[ k ];\n\t\t\t\tif ( tempNorm.dot( otherNorm ) > creaseDot ) {\n\n\t\t\t\t\ttempNorm2.add( otherNorm );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttempNorm2.normalize();\n\t\t\tnormAttr.setXYZ( i3 + n, tempNorm2.x, tempNorm2.y, tempNorm2.z );\n\n\t\t}\n\n\t}\n\n\tresultGeometry.setAttribute( 'normal', normAttr );\n\treturn resultGeometry;\n\n}\n\nfunction mergeBufferGeometries( geometries, useGroups = false ) {\n\n\tconsole.warn( 'THREE.BufferGeometryUtils: mergeBufferGeometries() has been renamed to mergeGeometries().' ); // @deprecated, r151\n\treturn mergeGeometries( geometries, useGroups );\n\n}\n\nfunction mergeBufferAttributes( attributes ) {\n\n\tconsole.warn( 'THREE.BufferGeometryUtils: mergeBufferAttributes() has been renamed to mergeAttributes().' ); // @deprecated, r151\n\treturn mergeAttributes( attributes );\n\n}\n\nexport {\n\tcomputeMikkTSpaceTangents,\n\tmergeGeometries,\n\tmergeBufferGeometries,\n\tmergeAttributes,\n\tmergeBufferAttributes,\n\tinterleaveAttributes,\n\testimateBytesUsed,\n\tmergeVertices,\n\ttoTrianglesDrawMode,\n\tcomputeMorphedAttributes,\n\tmergeGroups,\n\ttoCreasedNormals\n};\n","import {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tImageBitmapLoader,\n\tInstancedMesh,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshPhysicalMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternion,\n\tQuaternionKeyframeTrack,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTexture,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\nimport { toTrianglesDrawMode } from '../utils/BufferGeometryUtils.js';\n\nclass GLTFLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ktx2Loader = null;\n\t\tthis.meshoptDecoder = null;\n\n\t\tthis.pluginCallbacks = [];\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureWebPExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureAVIFExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSheenExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsVolumeExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsIorExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsEmissiveStrengthExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSpecularExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsIridescenceExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFLightsExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshoptCompression( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshGpuInstancing( parser );\n\n\t\t} );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet resourcePath;\n\n\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\tresourcePath = this.resourcePath;\n\n\t\t} else if ( this.path !== '' ) {\n\n\t\t\tresourcePath = this.path;\n\n\t\t} else {\n\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t}\n\n\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\tthis.manager.itemStart( url );\n\n\t\tconst _onError = function ( e ) {\n\n\t\t\tif ( onError ) {\n\n\t\t\t\tonError( e );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( e );\n\n\t\t\t}\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t};\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( data ) {\n\n\t\t\ttry {\n\n\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, _onError );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\t_onError( e );\n\n\t\t\t}\n\n\t\t}, onProgress, _onError );\n\n\t}\n\n\tsetDRACOLoader( dracoLoader ) {\n\n\t\tthis.dracoLoader = dracoLoader;\n\t\treturn this;\n\n\t}\n\n\tsetDDSLoader() {\n\n\t\tthrow new Error(\n\n\t\t\t'THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".'\n\n\t\t);\n\n\t}\n\n\tsetKTX2Loader( ktx2Loader ) {\n\n\t\tthis.ktx2Loader = ktx2Loader;\n\t\treturn this;\n\n\t}\n\n\tsetMeshoptDecoder( meshoptDecoder ) {\n\n\t\tthis.meshoptDecoder = meshoptDecoder;\n\t\treturn this;\n\n\t}\n\n\tregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tparse( data, path, onLoad, onError ) {\n\n\t\tlet json;\n\t\tconst extensions = {};\n\t\tconst plugins = {};\n\t\tconst textDecoder = new TextDecoder();\n\n\t\tif ( typeof data === 'string' ) {\n\n\t\t\tjson = JSON.parse( data );\n\n\t\t} else if ( data instanceof ArrayBuffer ) {\n\n\t\t\tconst magic = textDecoder.decode( new Uint8Array( data, 0, 4 ) );\n\n\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tjson = JSON.parse( extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content );\n\n\t\t\t} else {\n\n\t\t\t\tjson = JSON.parse( textDecoder.decode( data ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tjson = data;\n\n\t\t}\n\n\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst parser = new GLTFParser( json, {\n\n\t\t\tpath: path || this.resourcePath || '',\n\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\trequestHeader: this.requestHeader,\n\t\t\tmanager: this.manager,\n\t\t\tktx2Loader: this.ktx2Loader,\n\t\t\tmeshoptDecoder: this.meshoptDecoder\n\n\t\t} );\n\n\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\tfor ( let i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\tconst plugin = this.pluginCallbacks[ i ]( parser );\n\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t// Remove this workaround if we move all the existing\n\t\t\t// extension handlers to plugin system\n\t\t\textensions[ plugin.name ] = true;\n\n\t\t}\n\n\t\tif ( json.extensionsUsed ) {\n\n\t\t\tfor ( let i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\tconst extensionName = json.extensionsUsed[ i ];\n\t\t\t\tconst extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tparser.setExtensions( extensions );\n\t\tparser.setPlugins( plugins );\n\t\tparser.parse( onLoad, onError );\n\n\t}\n\n\tparseAsync( data, path ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.parse( data, path, resolve, reject );\n\n\t\t} );\n\n\t}\n\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n\n\tlet objects = {};\n\n\treturn\t{\n\n\t\tget: function ( key ) {\n\n\t\t\treturn objects[ key ];\n\n\t\t},\n\n\t\tadd: function ( key, object ) {\n\n\t\t\tobjects[ key ] = object;\n\n\t\t},\n\n\t\tremove: function ( key ) {\n\n\t\t\tdelete objects[ key ];\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\tobjects = {};\n\n\t\t}\n\n\t};\n\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\tKHR_MATERIALS_IOR: 'KHR_materials_ior',\n\tKHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n\tKHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n\tKHR_MATERIALS_IRIDESCENCE: 'KHR_materials_iridescence',\n\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\tKHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\tKHR_MATERIALS_EMISSIVE_STRENGTH: 'KHR_materials_emissive_strength',\n\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\n\tEXT_TEXTURE_AVIF: 'EXT_texture_avif',\n\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',\n\tEXT_MESH_GPU_INSTANCING: 'EXT_mesh_gpu_instancing'\n};\n\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\nclass GLTFLightsExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\t// Object3D instance caches\n\t\tthis.cache = { refs: {}, uses: {} };\n\n\t}\n\n\t_markDefs() {\n\n\t\tconst parser = this.parser;\n\t\tconst nodeDefs = this.parser.json.nodes || [];\n\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t\t&& nodeDef.extensions[ this.name ]\n\t\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\n\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_loadLight( lightIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst cacheKey = 'light:' + lightIndex;\n\t\tlet dependency = parser.cache.get( cacheKey );\n\n\t\tif ( dependency ) return dependency;\n\n\t\tconst json = parser.json;\n\t\tconst extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\n\t\tconst lightDefs = extensions.lights || [];\n\t\tconst lightDef = lightDefs[ lightIndex ];\n\t\tlet lightNode;\n\n\t\tconst color = new Color( 0xffffff );\n\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tconst range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type: ' + lightDef.type );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tassignExtrasToUserData( lightNode, lightDef );\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\n\n\t\tdependency = Promise.resolve( lightNode );\n\n\t\tparser.cache.add( cacheKey, dependency );\n\n\t\treturn dependency;\n\n\t}\n\n\tgetDependency( type, index ) {\n\n\t\tif ( type !== 'light' ) return;\n\n\t\treturn this._loadLight( index );\n\n\t}\n\n\tcreateNodeAttachment( nodeIndex ) {\n\n\t\tconst self = this;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\t\tconst lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\n\t\tconst lightIndex = lightDef.light;\n\n\t\tif ( lightIndex === undefined ) return null;\n\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\n\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\nclass GLTFMaterialsUnlitExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn MeshBasicMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture, sRGBEncoding ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials Emissive Strength Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/blob/5768b3ce0ef32bc39cdf1bef10b948586635ead3/extensions/2.0/Khronos/KHR_materials_emissive_strength/README.md\n */\nclass GLTFMaterialsEmissiveStrengthExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst emissiveStrength = materialDef.extensions[ this.name ].emissiveStrength;\n\n\t\tif ( emissiveStrength !== undefined ) {\n\n\t\t\tmaterialParams.emissiveIntensity = emissiveStrength;\n\n\t\t}\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\nclass GLTFMaterialsClearcoatExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Iridescence Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_iridescence\n */\nclass GLTFMaterialsIridescenceExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IRIDESCENCE;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.iridescenceFactor !== undefined ) {\n\n\t\t\tmaterialParams.iridescence = extension.iridescenceFactor;\n\n\t\t}\n\n\t\tif ( extension.iridescenceTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'iridescenceMap', extension.iridescenceTexture ) );\n\n\t\t}\n\n\t\tif ( extension.iridescenceIor !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceIOR = extension.iridescenceIor;\n\n\t\t}\n\n\t\tif ( materialParams.iridescenceThicknessRange === undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange = [ 100, 400 ];\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessMinimum !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange[ 0 ] = extension.iridescenceThicknessMinimum;\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessMaximum !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange[ 1 ] = extension.iridescenceThicknessMaximum;\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'iridescenceThicknessMap', extension.iridescenceThicknessTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\nclass GLTFMaterialsSheenExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SHEEN;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.sheenColor = new Color( 0, 0, 0 );\n\t\tmaterialParams.sheenRoughness = 0;\n\t\tmaterialParams.sheen = 1;\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.sheenColorFactor !== undefined ) {\n\n\t\t\tmaterialParams.sheenColor.fromArray( extension.sheenColorFactor );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.sheenRoughness = extension.sheenRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.sheenColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenColorMap', extension.sheenColorTexture, sRGBEncoding ) );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\nclass GLTFMaterialsTransmissionExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.transmissionFactor !== undefined ) {\n\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\n\n\t\t}\n\n\t\tif ( extension.transmissionTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\nclass GLTFMaterialsVolumeExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n\t\tif ( extension.thicknessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'thicknessMap', extension.thicknessTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.attenuationDistance = extension.attenuationDistance || Infinity;\n\n\t\tconst colorArray = extension.attenuationColor || [ 1, 1, 1 ];\n\t\tmaterialParams.attenuationColor = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\nclass GLTFMaterialsIorExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IOR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\nclass GLTFMaterialsSpecularExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n\t\tif ( extension.specularTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularIntensityMap', extension.specularTexture ) );\n\n\t\t}\n\n\t\tconst colorArray = extension.specularColorFactor || [ 1, 1, 1 ];\n\t\tmaterialParams.specularColor = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\tif ( extension.specularColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularColorMap', extension.specularColorTexture, sRGBEncoding ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\nclass GLTFTextureBasisUExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ this.name ];\n\t\tconst loader = parser.options.ktx2Loader;\n\n\t\tif ( ! loader ) {\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\n\n\t\t\t} else {\n\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t}\n\n}\n\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\nclass GLTFTextureWebPExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst name = this.name;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ name ];\n\t\tconst source = json.images[ extension.source ];\n\n\t\tlet loader = parser.textureLoader;\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = parser.options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t}\n\n\tdetectSupport() {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tconst image = new Image();\n\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\n\t\t\t\t// WebP images, unfortunately.\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t}\n\n}\n\n/**\n * AVIF Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_avif\n */\nclass GLTFTextureAVIFExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_AVIF;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst name = this.name;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ name ];\n\t\tconst source = json.images[ extension.source ];\n\n\t\tlet loader = parser.textureLoader;\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = parser.options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: AVIF required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t}\n\n\tdetectSupport() {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tconst image = new Image();\n\n\t\t\t\t// Lossy test image.\n\t\t\t\timage.src = 'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=';\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t}\n\n}\n\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\nclass GLTFMeshoptCompression {\n\n\tconstructor( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n\t\tthis.parser = parser;\n\n\t}\n\n\tloadBufferView( index ) {\n\n\t\tconst json = this.parser.json;\n\t\tconst bufferView = json.bufferViews[ index ];\n\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\n\n\t\t\tconst extensionDef = bufferView.extensions[ this.name ];\n\n\t\t\tconst buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\n\t\t\tconst decoder = this.parser.options.meshoptDecoder;\n\n\t\t\tif ( ! decoder || ! decoder.supported ) {\n\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn buffer.then( function ( res ) {\n\n\t\t\t\tconst byteOffset = extensionDef.byteOffset || 0;\n\t\t\t\tconst byteLength = extensionDef.byteLength || 0;\n\n\t\t\t\tconst count = extensionDef.count;\n\t\t\t\tconst stride = extensionDef.byteStride;\n\n\t\t\t\tconst source = new Uint8Array( res, byteOffset, byteLength );\n\n\t\t\t\tif ( decoder.decodeGltfBufferAsync ) {\n\n\t\t\t\t\treturn decoder.decodeGltfBufferAsync( count, stride, source, extensionDef.mode, extensionDef.filter ).then( function ( res ) {\n\n\t\t\t\t\t\treturn res.buffer;\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Support for MeshoptDecoder 0.18 or earlier, without decodeGltfBufferAsync\n\t\t\t\t\treturn decoder.ready.then( function () {\n\n\t\t\t\t\t\tconst result = new ArrayBuffer( count * stride );\n\t\t\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\n\t\t\t\t\t\treturn result;\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * GPU Instancing Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_mesh_gpu_instancing\n *\n */\nclass GLTFMeshGpuInstancing {\n\n\tconstructor( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESH_GPU_INSTANCING;\n\t\tthis.parser = parser;\n\n\t}\n\n\tcreateNodeMesh( nodeIndex ) {\n\n\t\tconst json = this.parser.json;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tif ( ! nodeDef.extensions || ! nodeDef.extensions[ this.name ] ||\n\t\t\tnodeDef.mesh === undefined ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst meshDef = json.meshes[ nodeDef.mesh ];\n\n\t\t// No Points or Lines + Instancing support yet\n\n\t\tfor ( const primitive of meshDef.primitives ) {\n\n\t\t\tif ( primitive.mode !== WEBGL_CONSTANTS.TRIANGLES &&\n\t\t\t\t primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_STRIP &&\n\t\t\t\t primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_FAN &&\n\t\t\t\t primitive.mode !== undefined ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst extensionDef = nodeDef.extensions[ this.name ];\n\t\tconst attributesDef = extensionDef.attributes;\n\n\t\t// @TODO: Can we support InstancedMesh + SkinnedMesh?\n\n\t\tconst pending = [];\n\t\tconst attributes = {};\n\n\t\tfor ( const key in attributesDef ) {\n\n\t\t\tpending.push( this.parser.getDependency( 'accessor', attributesDef[ key ] ).then( accessor => {\n\n\t\t\t\tattributes[ key ] = accessor;\n\t\t\t\treturn attributes[ key ];\n\n\t\t\t} ) );\n\n\t\t}\n\n\t\tif ( pending.length < 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tpending.push( this.parser.createNodeMesh( nodeIndex ) );\n\n\t\treturn Promise.all( pending ).then( results => {\n\n\t\t\tconst nodeObject = results.pop();\n\t\t\tconst meshes = nodeObject.isGroup ? nodeObject.children : [ nodeObject ];\n\t\t\tconst count = results[ 0 ].count; // All attribute counts should be same\n\t\t\tconst instancedMeshes = [];\n\n\t\t\tfor ( const mesh of meshes ) {\n\n\t\t\t\t// Temporal variables\n\t\t\t\tconst m = new Matrix4();\n\t\t\t\tconst p = new Vector3();\n\t\t\t\tconst q = new Quaternion();\n\t\t\t\tconst s = new Vector3( 1, 1, 1 );\n\n\t\t\t\tconst instancedMesh = new InstancedMesh( mesh.geometry, mesh.material, count );\n\n\t\t\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\t\t\tif ( attributes.TRANSLATION ) {\n\n\t\t\t\t\t\tp.fromBufferAttribute( attributes.TRANSLATION, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attributes.ROTATION ) {\n\n\t\t\t\t\t\tq.fromBufferAttribute( attributes.ROTATION, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attributes.SCALE ) {\n\n\t\t\t\t\t\ts.fromBufferAttribute( attributes.SCALE, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tinstancedMesh.setMatrixAt( i, m.compose( p, q, s ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Add instance attributes to the geometry, excluding TRS.\n\t\t\t\tfor ( const attributeName in attributes ) {\n\n\t\t\t\t\tif ( attributeName !== 'TRANSLATION' &&\n\t\t\t\t\t\t attributeName !== 'ROTATION' &&\n\t\t\t\t\t\t attributeName !== 'SCALE' ) {\n\n\t\t\t\t\t\tmesh.geometry.setAttribute( attributeName, attributes[ attributeName ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Just in case\n\t\t\t\tObject3D.prototype.copy.call( instancedMesh, mesh );\n\n\t\t\t\tthis.parser.assignFinalMaterial( instancedMesh );\n\n\t\t\t\tinstancedMeshes.push( instancedMesh );\n\n\t\t\t}\n\n\t\t\tif ( nodeObject.isGroup ) {\n\n\t\t\t\tnodeObject.clear();\n\n\t\t\t\tnodeObject.add( ... instancedMeshes );\n\n\t\t\t\treturn nodeObject;\n\n\t\t\t}\n\n\t\t\treturn instancedMeshes[ 0 ];\n\n\t\t} );\n\n\t}\n\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\nclass GLTFBinaryExtension {\n\n\tconstructor( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tconst headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tconst textDecoder = new TextDecoder();\n\n\t\tthis.header = {\n\t\t\tmagic: textDecoder.decode( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tconst chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n\t\tconst chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tlet chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkContentsLength ) {\n\n\t\t\tconst chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tconst chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tconst contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = textDecoder.decode( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tconst byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\nclass GLTFDracoMeshCompressionExtension {\n\n\tconstructor( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tdecodePrimitive( primitive, parser ) {\n\n\t\tconst json = this.json;\n\t\tconst dracoLoader = this.dracoLoader;\n\t\tconst bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tconst gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tconst threeAttributeMap = {};\n\t\tconst attributeNormalizedMap = {};\n\t\tconst attributeTypeMap = {};\n\n\t\tfor ( const attributeName in gltfAttributeMap ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( const attributeName in primitive.attributes ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tconst accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tconst componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType.name;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( const attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tconst attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tconst normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\nclass GLTFTextureTransformExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\textendTexture( texture, transform ) {\n\n\t\tif ( ( transform.texCoord === undefined || transform.texCoord === texture.channel )\n\t\t\t&& transform.offset === undefined\n\t\t\t&& transform.rotation === undefined\n\t\t\t&& transform.scale === undefined ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21819.\n\t\t\treturn texture;\n\n\t\t}\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\ttexture.channel = transform.texCoord;\n\n\t\t}\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\nclass GLTFMeshQuantizationExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( let i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer;\n\t\tconst values = this.sampleValues;\n\t\tconst stride = this.valueSize;\n\n\t\tconst stride2 = stride * 2;\n\t\tconst stride3 = stride * 3;\n\n\t\tconst td = t1 - t0;\n\n\t\tconst p = ( t - t0 ) / td;\n\t\tconst pp = p * p;\n\t\tconst ppp = pp * p;\n\n\t\tconst offset1 = i1 * stride3;\n\t\tconst offset0 = offset1 - stride3;\n\n\t\tconst s2 = - 2 * ppp + 3 * pp;\n\t\tconst s3 = ppp - pp;\n\t\tconst s0 = 1 - s2;\n\t\tconst s1 = s3 - pp + p;\n\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\t\tfor ( let i = 0; i !== stride; i ++ ) {\n\n\t\t\tconst p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\t\tconst m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\t\tconst p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\t\tconst m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nconst _q = new Quaternion();\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = super.interpolate_( i1, t0, t, t1 );\n\n\t\t_q.fromArray( result ).normalize().toArray( result );\n\n\t\treturn result;\n\n\t}\n\n}\n\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n\tFLOAT: 5126,\n\t//FLOAT_MAT2: 35674,\n\tFLOAT_MAT3: 35675,\n\tFLOAT_MAT4: 35676,\n\tFLOAT_VEC2: 35664,\n\tFLOAT_VEC3: 35665,\n\tFLOAT_VEC4: 35666,\n\tLINEAR: 9729,\n\tREPEAT: 10497,\n\tSAMPLER_2D: 35678,\n\tPOINTS: 0,\n\tLINES: 1,\n\tLINE_LOOP: 2,\n\tLINE_STRIP: 3,\n\tTRIANGLES: 4,\n\tTRIANGLE_STRIP: 5,\n\tTRIANGLE_FAN: 6,\n\tUNSIGNED_BYTE: 5121,\n\tUNSIGNED_SHORT: 5123\n};\n\nconst WEBGL_COMPONENT_TYPES = {\n\t5120: Int8Array,\n\t5121: Uint8Array,\n\t5122: Int16Array,\n\t5123: Uint16Array,\n\t5125: Uint32Array,\n\t5126: Float32Array\n};\n\nconst WEBGL_FILTERS = {\n\t9728: NearestFilter,\n\t9729: LinearFilter,\n\t9984: NearestMipmapNearestFilter,\n\t9985: LinearMipmapNearestFilter,\n\t9986: NearestMipmapLinearFilter,\n\t9987: LinearMipmapLinearFilter\n};\n\nconst WEBGL_WRAPPINGS = {\n\t33071: ClampToEdgeWrapping,\n\t33648: MirroredRepeatWrapping,\n\t10497: RepeatWrapping\n};\n\nconst WEBGL_TYPE_SIZES = {\n\t'SCALAR': 1,\n\t'VEC2': 2,\n\t'VEC3': 3,\n\t'VEC4': 4,\n\t'MAT2': 4,\n\t'MAT3': 9,\n\t'MAT4': 16\n};\n\nconst ATTRIBUTES = {\n\tPOSITION: 'position',\n\tNORMAL: 'normal',\n\tTANGENT: 'tangent',\n\tTEXCOORD_0: 'uv',\n\tTEXCOORD_1: 'uv2',\n\tCOLOR_0: 'color',\n\tWEIGHTS_0: 'skinWeight',\n\tJOINTS_0: 'skinIndex',\n};\n\nconst PATH_PROPERTIES = {\n\tscale: 'scale',\n\ttranslation: 'position',\n\trotation: 'quaternion',\n\tweights: 'morphTargetInfluences'\n};\n\nconst INTERPOLATION = {\n\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\tLINEAR: InterpolateLinear,\n\tSTEP: InterpolateDiscrete\n};\n\nconst ALPHA_MODES = {\n\tOPAQUE: 'OPAQUE',\n\tMASK: 'MASK',\n\tBLEND: 'BLEND'\n};\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\nfunction createDefaultMaterial( cache ) {\n\n\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: FrontSide\n\t\t} );\n\n\t}\n\n\treturn cache[ 'DefaultMaterial' ];\n\n}\n\nfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t// Add unknown glTF extensions to an object's userData.\n\n\tfor ( const name in objectDef.extensions ) {\n\n\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\nfunction assignExtrasToUserData( object, gltfDef ) {\n\n\tif ( gltfDef.extras !== undefined ) {\n\n\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addMorphTargets( geometry, targets, parser ) {\n\n\tlet hasMorphPosition = false;\n\tlet hasMorphNormal = false;\n\tlet hasMorphColor = false;\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\t\tif ( target.COLOR_0 !== undefined ) hasMorphColor = true;\n\n\t\tif ( hasMorphPosition && hasMorphNormal && hasMorphColor ) break;\n\n\t}\n\n\tif ( ! hasMorphPosition && ! hasMorphNormal && ! hasMorphColor ) return Promise.resolve( geometry );\n\n\tconst pendingPositionAccessors = [];\n\tconst pendingNormalAccessors = [];\n\tconst pendingColorAccessors = [];\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( hasMorphPosition ) {\n\n\t\t\tconst pendingAccessor = target.POSITION !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t: geometry.attributes.position;\n\n\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphNormal ) {\n\n\t\t\tconst pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t: geometry.attributes.normal;\n\n\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphColor ) {\n\n\t\t\tconst pendingAccessor = target.COLOR_0 !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.COLOR_0 )\n\t\t\t\t: geometry.attributes.color;\n\n\t\t\tpendingColorAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( [\n\t\tPromise.all( pendingPositionAccessors ),\n\t\tPromise.all( pendingNormalAccessors ),\n\t\tPromise.all( pendingColorAccessors )\n\t] ).then( function ( accessors ) {\n\n\t\tconst morphPositions = accessors[ 0 ];\n\t\tconst morphNormals = accessors[ 1 ];\n\t\tconst morphColors = accessors[ 2 ];\n\n\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\tif ( hasMorphColor ) geometry.morphAttributes.color = morphColors;\n\t\tgeometry.morphTargetsRelative = true;\n\n\t\treturn geometry;\n\n\t} );\n\n}\n\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\nfunction updateMorphTargets( mesh, meshDef ) {\n\n\tmesh.updateMorphTargets();\n\n\tif ( meshDef.weights !== undefined ) {\n\n\t\tfor ( let i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t}\n\n\t}\n\n\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\tconst targetNames = meshDef.extras.targetNames;\n\n\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\tfor ( let i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t}\n\n\t}\n\n}\n\nfunction createPrimitiveKey( primitiveDef ) {\n\n\tconst dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\tlet geometryKey;\n\n\tif ( dracoExtension ) {\n\n\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t} else {\n\n\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t}\n\n\treturn geometryKey;\n\n}\n\nfunction createAttributesKey( attributes ) {\n\n\tlet attributesKey = '';\n\n\tconst keys = Object.keys( attributes ).sort();\n\n\tfor ( let i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t}\n\n\treturn attributesKey;\n\n}\n\nfunction getNormalizedComponentScale( constructor ) {\n\n\t// Reference:\n\t// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n\tswitch ( constructor ) {\n\n\t\tcase Int8Array:\n\t\t\treturn 1 / 127;\n\n\t\tcase Uint8Array:\n\t\t\treturn 1 / 255;\n\n\t\tcase Int16Array:\n\t\t\treturn 1 / 32767;\n\n\t\tcase Uint16Array:\n\t\t\treturn 1 / 65535;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported normalized accessor component type.' );\n\n\t}\n\n}\n\nfunction getImageURIMimeType( uri ) {\n\n\tif ( uri.search( /\\.jpe?g($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/jpeg/ ) === 0 ) return 'image/jpeg';\n\tif ( uri.search( /\\.webp($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/webp/ ) === 0 ) return 'image/webp';\n\n\treturn 'image/png';\n\n}\n\nconst _identityMatrix = new Matrix4();\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n\n\tconstructor( json = {}, options = {} ) {\n\n\t\tthis.json = json;\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options;\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Node cache\n\t\tthis.nodeCache = {};\n\n\t\t// Object3D instance caches\n\t\tthis.meshCache = { refs: {}, uses: {} };\n\t\tthis.cameraCache = { refs: {}, uses: {} };\n\t\tthis.lightCache = { refs: {}, uses: {} };\n\n\t\tthis.sourceCache = {};\n\t\tthis.textureCache = {};\n\n\t\t// Track node names, to ensure no duplicates\n\t\tthis.nodeNamesUsed = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\n\t\tlet isSafari = false;\n\t\tlet isFirefox = false;\n\t\tlet firefoxVersion = - 1;\n\n\t\tif ( typeof navigator !== 'undefined' ) {\n\n\t\t\tisSafari = /^((?!chrome|android).)*safari/i.test( navigator.userAgent ) === true;\n\t\t\tisFirefox = navigator.userAgent.indexOf( 'Firefox' ) > - 1;\n\t\t\tfirefoxVersion = isFirefox ? navigator.userAgent.match( /Firefox\\/([0-9]+)\\./ )[ 1 ] : - 1;\n\n\t\t}\n\n\t\tif ( typeof createImageBitmap === 'undefined' || isSafari || ( isFirefox && firefoxVersion < 98 ) ) {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\t\tthis.textureLoader.setRequestHeader( this.options.requestHeader );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tsetExtensions( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t}\n\n\tsetPlugins( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t}\n\n\tparse( onLoad, onError ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\t\tthis.nodeCache = {};\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis._invokeAll( function ( ext ) {\n\n\t\t\treturn ext._markDefs && ext._markDefs();\n\n\t\t} );\n\n\t\tPromise.all( this._invokeAll( function ( ext ) {\n\n\t\t\treturn ext.beforeRoot && ext.beforeRoot();\n\n\t\t} ) ).then( function () {\n\n\t\t\treturn Promise.all( [\n\n\t\t\t\tparser.getDependencies( 'scene' ),\n\t\t\t\tparser.getDependencies( 'animation' ),\n\t\t\t\tparser.getDependencies( 'camera' ),\n\n\t\t\t] );\n\n\t\t} ).then( function ( dependencies ) {\n\n\t\t\tconst result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tPromise.all( parser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.afterRoot && ext.afterRoot( result );\n\n\t\t\t} ) ).then( function () {\n\n\t\t\t\tonLoad( result );\n\n\t\t\t} );\n\n\t\t} ).catch( onError );\n\n\t}\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\t_markDefs() {\n\n\t\tconst nodeDefs = this.json.nodes || [];\n\t\tconst skinDefs = this.json.skins || [];\n\t\tconst meshDefs = this.json.meshes || [];\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tconst joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( let i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Iterate over all nodes, marking references to shared resources,\n\t\t// as well as skeleton joints.\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Counts references to shared node / Object3D resources. These resources\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\n\t * Textures) can be reused directly and are not marked here.\n\t *\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t */\n\t_addNodeRef( cache, index ) {\n\n\t\tif ( index === undefined ) return;\n\n\t\tif ( cache.refs[ index ] === undefined ) {\n\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\n\n\t\t}\n\n\t\tcache.refs[ index ] ++;\n\n\t}\n\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\n\t_getNodeRef( cache, index, object ) {\n\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\n\n\t\tconst ref = object.clone();\n\n\t\t// Propagates mappings to the cloned object, prevents mappings on the\n\t\t// original object from being lost.\n\t\tconst updateMappings = ( original, clone ) => {\n\n\t\t\tconst mappings = this.associations.get( original );\n\t\t\tif ( mappings != null ) {\n\n\t\t\t\tthis.associations.set( clone, mappings );\n\n\t\t\t}\n\n\t\t\tfor ( const [ i, child ] of original.children.entries() ) {\n\n\t\t\t\tupdateMappings( child, clone.children[ i ] );\n\n\t\t\t}\n\n\t\t};\n\n\t\tupdateMappings( object, ref );\n\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\n\n\t\treturn ref;\n\n\t}\n\n\t_invokeOne( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t_invokeAll( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) pending.push( result );\n\n\t\t}\n\n\t\treturn pending;\n\n\t}\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tgetDependency( type, index ) {\n\n\t\tconst cacheKey = type + ':' + index;\n\t\tlet dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadNode && ext.loadNode( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadAnimation && ext.loadAnimation( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext != this && ext.getDependency && ext.getDependency( type, index );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( ! dependency ) {\n\n\t\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t}\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tgetDependencies( type ) {\n\n\t\tlet dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tconst parser = this;\n\t\t\tconst defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBuffer( bufferIndex ) {\n\n\t\tconst bufferDef = this.json.buffers[ bufferIndex ];\n\t\tconst loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tconst options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( LoaderUtils.resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBufferView( bufferViewIndex ) {\n\n\t\tconst bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tconst byteLength = bufferViewDef.byteLength || 0;\n\t\t\tconst byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tloadAccessor( accessorIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\t\t\tconst normalized = accessorDef.normalized === true;\n\n\t\t\tconst array = new TypedArray( accessorDef.count * itemSize );\n\t\t\treturn Promise.resolve( new BufferAttribute( array, itemSize, normalized ) );\n\n\t\t}\n\n\t\tconst pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tconst bufferView = bufferViews[ 0 ];\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tconst elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tconst itemBytes = elementBytes * itemSize;\n\t\t\tconst byteOffset = accessorDef.byteOffset || 0;\n\t\t\tconst byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tconst normalized = accessorDef.normalized === true;\n\t\t\tlet array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tconst ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tconst ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tlet ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tconst itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tconst TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tconst byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tconst byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tconst sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tconst sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture|null>}\n\t */\n\tloadTexture( textureIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceIndex = textureDef.source;\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tlet loader = this.textureLoader;\n\n\t\tif ( sourceDef.uri ) {\n\n\t\t\tconst handler = options.manager.getHandler( sourceDef.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.loadTextureImage( textureIndex, sourceIndex, loader );\n\n\t}\n\n\tloadTextureImage( textureIndex, sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst cacheKey = ( sourceDef.uri || sourceDef.bufferView ) + ':' + textureDef.sampler;\n\n\t\tif ( this.textureCache[ cacheKey ] ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21559.\n\t\t\treturn this.textureCache[ cacheKey ];\n\n\t\t}\n\n\t\tconst promise = this.loadImageSource( sourceIndex, loader ).then( function ( texture ) {\n\n\t\t\ttexture.flipY = false;\n\n\t\t\ttexture.name = textureDef.name || sourceDef.name || '';\n\n\t\t\tif ( texture.name === '' && typeof sourceDef.uri === 'string' && sourceDef.uri.startsWith( 'data:image/' ) === false ) {\n\n\t\t\t\ttexture.name = sourceDef.uri;\n\n\t\t\t}\n\n\t\t\tconst samplers = json.samplers || {};\n\t\t\tconst sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\tparser.associations.set( texture, { textures: textureIndex } );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function () {\n\n\t\t\treturn null;\n\n\t\t} );\n\n\t\tthis.textureCache[ cacheKey ] = promise;\n\n\t\treturn promise;\n\n\t}\n\n\tloadImageSource( sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\n\t\tif ( this.sourceCache[ sourceIndex ] !== undefined ) {\n\n\t\t\treturn this.sourceCache[ sourceIndex ].then( ( texture ) => texture.clone() );\n\n\t\t}\n\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst URL = self.URL || self.webkitURL;\n\n\t\tlet sourceURI = sourceDef.uri || '';\n\t\tlet isObjectURL = false;\n\n\t\tif ( sourceDef.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', sourceDef.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tconst blob = new Blob( [ bufferView ], { type: sourceDef.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t} else if ( sourceDef.uri === undefined ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Image ' + sourceIndex + ' is missing URI and bufferView' );\n\n\t\t}\n\n\t\tconst promise = Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tlet onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tconst texture = new Texture( imageBitmap );\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\t\tresolve( texture );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( LoaderUtils.resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.userData.mimeType = sourceDef.mimeType || getImageURIMimeType( sourceDef.uri );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function ( error ) {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader: Couldn\\'t load texture', sourceURI );\n\t\t\tthrow error;\n\n\t\t} );\n\n\t\tthis.sourceCache[ sourceIndex ] = promise;\n\t\treturn promise;\n\n\t}\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise<Texture>}\n\t */\n\tassignTexture( materialParams, mapName, mapDef, encoding ) {\n\n\t\tconst parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\tif ( ! texture ) return null;\n\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord > 0 ) {\n\n\t\t\t\ttexture = texture.clone();\n\t\t\t\ttexture.channel = mapDef.texCoord;\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tconst transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tconst gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( encoding !== undefined ) {\n\n\t\t\t\ttexture.encoding = encoding;\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accommodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tassignFinalMaterial( mesh ) {\n\n\t\tconst geometry = mesh.geometry;\n\t\tlet material = mesh.material;\n\n\t\tconst useDerivativeTangents = geometry.attributes.tangent === undefined;\n\t\tconst useVertexColors = geometry.attributes.color !== undefined;\n\t\tconst useFlatShading = geometry.attributes.normal === undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tconst cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tlet pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tconst cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tlet lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\t\t\t\tlineMaterial.map = material.map;\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useDerivativeTangents || useVertexColors || useFlatShading ) {\n\n\t\t\tlet cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( useDerivativeTangents ) cacheKey += 'derivative-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\n\t\t\tlet cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\n\t\t\t\tif ( useDerivativeTangents ) {\n\n\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\t\tif ( cachedMaterial.normalScale ) cachedMaterial.normalScale.y *= - 1;\n\t\t\t\t\tif ( cachedMaterial.clearcoatNormalScale ) cachedMaterial.clearcoatNormalScale.y *= - 1;\n\n\t\t\t\t}\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t}\n\n\tgetMaterialType( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tloadMaterial( materialIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst materialDef = json.materials[ materialIndex ];\n\n\t\tlet materialType;\n\t\tconst materialParams = {};\n\t\tconst materialExtensions = materialDef.extensions || {};\n\n\t\tconst pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tconst kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture, sRGBEncoding ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tconst alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = materialDef.normalTexture.scale;\n\n\t\t\t\tmaterialParams.normalScale.set( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture, sRGBEncoding ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tconst material = new materialType( materialParams );\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { materials: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t}\n\n\t/** When Object3D instances are targeted by animation, they need unique names. */\n\tcreateUniqueName( originalName ) {\n\n\t\tconst sanitizedName = PropertyBinding.sanitizeNodeName( originalName || '' );\n\n\t\tlet name = sanitizedName;\n\n\t\tfor ( let i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\n\n\t\t\tname = sanitizedName + '_' + i;\n\n\t\t}\n\n\t\tthis.nodeNamesUsed[ name ] = true;\n\n\t\treturn name;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tloadGeometries( primitives ) {\n\n\t\tconst parser = this;\n\t\tconst extensions = this.extensions;\n\t\tconst cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst primitive = primitives[ i ];\n\t\t\tconst cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tconst cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tlet geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tloadMesh( meshIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\tconst meshDef = json.meshes[ meshIndex ];\n\t\tconst primitives = meshDef.primitives;\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tconst materials = results.slice( 0, results.length - 1 );\n\t\t\tconst geometries = results[ results.length - 1 ];\n\n\t\t\tconst meshes = [];\n\n\t\t\tfor ( let i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tconst geometry = geometries[ i ];\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tconst material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true ) {\n\n\t\t\t\t\t\t// normalize skin weights to fix malformed assets (see #15319)\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tparser.associations.set( meshes[ i ], {\n\t\t\t\t\tmeshes: meshIndex,\n\t\t\t\t\tprimitives: i\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tconst group = new Group();\n\n\t\t\tparser.associations.set( group, { meshes: meshIndex } );\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tloadCamera( cameraIndex ) {\n\n\t\tlet camera;\n\t\tconst cameraDef = this.json.cameras[ cameraIndex ];\n\t\tconst params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Skeleton>}\n\t */\n\tloadSkin( skinIndex ) {\n\n\t\tconst skinDef = this.json.skins[ skinIndex ];\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = skinDef.joints.length; i < il; i ++ ) {\n\n\t\t\tpending.push( this._loadNodeShallow( skinDef.joints[ i ] ) );\n\n\t\t}\n\n\t\tif ( skinDef.inverseBindMatrices !== undefined ) {\n\n\t\t\tpending.push( this.getDependency( 'accessor', skinDef.inverseBindMatrices ) );\n\n\t\t} else {\n\n\t\t\tpending.push( null );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tconst inverseBindMatrices = results.pop();\n\t\t\tconst jointNodes = results;\n\n\t\t\t// Note that bones (joint nodes) may or may not be in the\n\t\t\t// scene graph at this time.\n\n\t\t\tconst bones = [];\n\t\t\tconst boneInverses = [];\n\n\t\t\tfor ( let i = 0, il = jointNodes.length; i < il; i ++ ) {\n\n\t\t\t\tconst jointNode = jointNodes[ i ];\n\n\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\tconst mat = new Matrix4();\n\n\t\t\t\t\tif ( inverseBindMatrices !== null ) {\n\n\t\t\t\t\t\tmat.fromArray( inverseBindMatrices.array, i * 16 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinDef.joints[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new Skeleton( bones, boneInverses );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tloadAnimation( animationIndex ) {\n\n\t\tconst json = this.json;\n\n\t\tconst animationDef = json.animations[ animationIndex ];\n\t\tconst animationName = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\tconst pendingNodes = [];\n\t\tconst pendingInputAccessors = [];\n\t\tconst pendingOutputAccessors = [];\n\t\tconst pendingSamplers = [];\n\t\tconst pendingTargets = [];\n\n\t\tfor ( let i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tconst channel = animationDef.channels[ i ];\n\t\t\tconst sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tconst target = channel.target;\n\t\t\tconst name = target.node;\n\t\t\tconst input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tconst output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tif ( target.node === undefined ) continue;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tconst nodes = dependencies[ 0 ];\n\t\t\tconst inputAccessors = dependencies[ 1 ];\n\t\t\tconst outputAccessors = dependencies[ 2 ];\n\t\t\tconst samplers = dependencies[ 3 ];\n\t\t\tconst targets = dependencies[ 4 ];\n\n\t\t\tconst tracks = [];\n\n\t\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tconst node = nodes[ i ];\n\t\t\t\tconst inputAccessor = inputAccessors[ i ];\n\t\t\t\tconst outputAccessor = outputAccessors[ i ];\n\t\t\t\tconst sampler = samplers[ i ];\n\t\t\t\tconst target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\n\t\t\t\tlet TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tconst targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tconst interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tconst targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tlet outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tconst scale = getNormalizedComponentScale( outputArray.constructor );\n\t\t\t\t\tconst scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( let j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\tconst interpolantType = ( this instanceof QuaternionKeyframeTrack ) ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\n\n\t\t\t\t\t\t\treturn new interpolantType( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new AnimationClip( animationName, undefined, tracks );\n\n\t\t} );\n\n\t}\n\n\tcreateNodeMesh( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tif ( nodeDef.mesh === undefined ) return null;\n\n\t\treturn parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\tconst node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\n\n\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\tfor ( let i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tloadNode( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tconst nodePending = parser._loadNodeShallow( nodeIndex );\n\n\t\tconst childPending = [];\n\t\tconst childrenDef = nodeDef.children || [];\n\n\t\tfor ( let i = 0, il = childrenDef.length; i < il; i ++ ) {\n\n\t\t\tchildPending.push( parser.getDependency( 'node', childrenDef[ i ] ) );\n\n\t\t}\n\n\t\tconst skeletonPending = nodeDef.skin === undefined\n\t\t\t? Promise.resolve( null )\n\t\t\t: parser.getDependency( 'skin', nodeDef.skin );\n\n\t\treturn Promise.all( [\n\t\t\tnodePending,\n\t\t\tPromise.all( childPending ),\n\t\t\tskeletonPending\n\t\t] ).then( function ( results ) {\n\n\t\t\tconst node = results[ 0 ];\n\t\t\tconst children = results[ 1 ];\n\t\t\tconst skeleton = results[ 2 ];\n\n\t\t\tif ( skeleton !== null ) {\n\n\t\t\t\t// This full traverse should be fine because\n\t\t\t\t// child glTF nodes have not been added to this node yet.\n\t\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\t\tif ( ! mesh.isSkinnedMesh ) return;\n\n\t\t\t\t\tmesh.bind( skeleton, _identityMatrix );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\tnode.add( children[ i ] );\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t// ._loadNodeShallow() parses a single node.\n\t// skin and child nodes are created and added in .loadNode() (no '_' prefix).\n\t_loadNodeShallow( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst parser = this;\n\n\t\t// This method is called from .loadNode() and .loadSkin().\n\t\t// Cache a node to avoid duplication.\n\n\t\tif ( this.nodeCache[ nodeIndex ] !== undefined ) {\n\n\t\t\treturn this.nodeCache[ nodeIndex ];\n\n\t\t}\n\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\n\t\tconst nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\n\n\t\tconst pending = [];\n\n\t\tconst meshPromise = parser._invokeOne( function ( ext ) {\n\n\t\t\treturn ext.createNodeMesh && ext.createNodeMesh( nodeIndex );\n\n\t\t} );\n\n\t\tif ( meshPromise ) {\n\n\t\t\tpending.push( meshPromise );\n\n\t\t}\n\n\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\n\n\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\n\n\t\t\t} ) );\n\n\t\t}\n\n\t\tparser._invokeAll( function ( ext ) {\n\n\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\n\n\t\t} ).forEach( function ( promise ) {\n\n\t\t\tpending.push( promise );\n\n\t\t} );\n\n\t\tthis.nodeCache[ nodeIndex ] = Promise.all( pending ).then( function ( objects ) {\n\n\t\t\tlet node;\n\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( let i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = nodeName;\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tconst matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ! parser.associations.has( node ) ) {\n\n\t\t\t\tparser.associations.set( node, {} );\n\n\t\t\t}\n\n\t\t\tparser.associations.get( node ).nodes = nodeIndex;\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t\treturn this.nodeCache[ nodeIndex ];\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tloadScene( sceneIndex ) {\n\n\t\tconst extensions = this.extensions;\n\t\tconst sceneDef = this.json.scenes[ sceneIndex ];\n\t\tconst parser = this;\n\n\t\t// Loader returns Group, not Scene.\n\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\tconst scene = new Group();\n\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\n\n\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\tconst nodeIds = sceneDef.nodes || [];\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\tpending.push( parser.getDependency( 'node', nodeIds[ i ] ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function ( nodes ) {\n\n\t\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tscene.add( nodes[ i ] );\n\n\t\t\t}\n\n\t\t\t// Removes dangling associations, associations that reference a node that\n\t\t\t// didn't make it into the scene.\n\t\t\tconst reduceAssociations = ( node ) => {\n\n\t\t\t\tconst reducedAssociations = new Map();\n\n\t\t\t\tfor ( const [ key, value ] of parser.associations ) {\n\n\t\t\t\t\tif ( key instanceof Material || key instanceof Texture ) {\n\n\t\t\t\t\t\treducedAssociations.set( key, value );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tnode.traverse( ( node ) => {\n\n\t\t\t\t\tconst mappings = parser.associations.get( node );\n\n\t\t\t\t\tif ( mappings != null ) {\n\n\t\t\t\t\t\treducedAssociations.set( node, mappings );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\treturn reducedAssociations;\n\n\t\t\t};\n\n\t\t\tparser.associations = reduceAssociations( scene );\n\n\t\t\treturn scene;\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst box = new Box3();\n\n\tif ( attributes.POSITION !== undefined ) {\n\n\t\tconst accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\tconst min = accessor.min;\n\t\tconst max = accessor.max;\n\n\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\tbox.set(\n\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] )\n\t\t\t);\n\n\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\tbox.min.multiplyScalar( boxScale );\n\t\t\t\tbox.max.multiplyScalar( boxScale );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\treturn;\n\n\t\t}\n\n\t} else {\n\n\t\treturn;\n\n\t}\n\n\tconst targets = primitiveDef.targets;\n\n\tif ( targets !== undefined ) {\n\n\t\tconst maxDisplacement = new Vector3();\n\t\tconst vector = new Vector3();\n\n\t\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tconst target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\tconst accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\tconst min = accessor.min;\n\t\t\t\tconst max = accessor.max;\n\n\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\n\t\t\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\t\t\tvector.multiplyScalar( boxScale );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\tbox.expandByVector( maxDisplacement );\n\n\t}\n\n\tgeometry.boundingBox = box;\n\n\tconst sphere = new Sphere();\n\n\tbox.getCenter( sphere.center );\n\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\tgeometry.boundingSphere = sphere;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst pending = [];\n\n\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t.then( function ( accessor ) {\n\n\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t} );\n\n\t}\n\n\tfor ( const gltfAttributeName in attributes ) {\n\n\t\tconst threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t}\n\n\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\tconst accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\tgeometry.setIndex( accessor );\n\n\t\t} );\n\n\t\tpending.push( accessor );\n\n\t}\n\n\tassignExtrasToUserData( geometry, primitiveDef );\n\n\tcomputeBounds( geometry, primitiveDef, parser );\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\treturn primitiveDef.targets !== undefined\n\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t: geometry;\n\n\t} );\n\n}\n\nexport { GLTFLoader };\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tColor,\n\tFileLoader,\n\tLoader,\n\tLinearSRGBColorSpace,\n\tSRGBColorSpace\n} from 'three';\n\nconst _taskCache = new WeakMap();\n\nclass DRACOLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.decoderPath = '';\n\t\tthis.decoderConfig = {};\n\t\tthis.decoderBinary = null;\n\t\tthis.decoderPending = null;\n\n\t\tthis.workerLimit = 4;\n\t\tthis.workerPool = [];\n\t\tthis.workerNextTaskID = 1;\n\t\tthis.workerSourceURL = '';\n\n\t\tthis.defaultAttributeIDs = {\n\t\t\tposition: 'POSITION',\n\t\t\tnormal: 'NORMAL',\n\t\t\tcolor: 'COLOR',\n\t\t\tuv: 'TEX_COORD'\n\t\t};\n\t\tthis.defaultAttributeTypes = {\n\t\t\tposition: 'Float32Array',\n\t\t\tnormal: 'Float32Array',\n\t\t\tcolor: 'Float32Array',\n\t\t\tuv: 'Float32Array'\n\t\t};\n\n\t}\n\n\tsetDecoderPath( path ) {\n\n\t\tthis.decoderPath = path;\n\n\t\treturn this;\n\n\t}\n\n\tsetDecoderConfig( config ) {\n\n\t\tthis.decoderConfig = config;\n\n\t\treturn this;\n\n\t}\n\n\tsetWorkerLimit( workerLimit ) {\n\n\t\tthis.workerLimit = workerLimit;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, ( buffer ) => {\n\n\t\t\tthis.parse( buffer, onLoad, onError );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse ( buffer, onLoad, onError ) {\n\n\t\tthis.decodeDracoFile( buffer, onLoad, null, null, SRGBColorSpace ).catch( onError );\n\n\t}\n\n\tdecodeDracoFile( buffer, callback, attributeIDs, attributeTypes, vertexColorSpace = LinearSRGBColorSpace ) {\n\n\t\tconst taskConfig = {\n\t\t\tattributeIDs: attributeIDs || this.defaultAttributeIDs,\n\t\t\tattributeTypes: attributeTypes || this.defaultAttributeTypes,\n\t\t\tuseUniqueIDs: !! attributeIDs,\n\t\t\tvertexColorSpace: vertexColorSpace,\n\t\t};\n\n\t\treturn this.decodeGeometry( buffer, taskConfig ).then( callback );\n\n\t}\n\n\tdecodeGeometry( buffer, taskConfig ) {\n\n\t\tconst taskKey = JSON.stringify( taskConfig );\n\n\t\t// Check for an existing task using this buffer. A transferred buffer cannot be transferred\n\t\t// again from this thread.\n\t\tif ( _taskCache.has( buffer ) ) {\n\n\t\t\tconst cachedTask = _taskCache.get( buffer );\n\n\t\t\tif ( cachedTask.key === taskKey ) {\n\n\t\t\t\treturn cachedTask.promise;\n\n\t\t\t} else if ( buffer.byteLength === 0 ) {\n\n\t\t\t\t// Technically, it would be possible to wait for the previous task to complete,\n\t\t\t\t// transfer the buffer back, and decode again with the second configuration. That\n\t\t\t\t// is complex, and I don't know of any reason to decode a Draco buffer twice in\n\t\t\t\t// different ways, so this is left unimplemented.\n\t\t\t\tthrow new Error(\n\n\t\t\t\t\t'THREE.DRACOLoader: Unable to re-decode a buffer with different ' +\n\t\t\t\t\t'settings. Buffer has already been transferred.'\n\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet worker;\n\t\tconst taskID = this.workerNextTaskID ++;\n\t\tconst taskCost = buffer.byteLength;\n\n\t\t// Obtain a worker and assign a task, and construct a geometry instance\n\t\t// when the task completes.\n\t\tconst geometryPending = this._getWorker( taskID, taskCost )\n\t\t\t.then( ( _worker ) => {\n\n\t\t\t\tworker = _worker;\n\n\t\t\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\t\t\tworker._callbacks[ taskID ] = { resolve, reject };\n\n\t\t\t\t\tworker.postMessage( { type: 'decode', id: taskID, taskConfig, buffer }, [ buffer ] );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t} );\n\n\t\t\t} )\n\t\t\t.then( ( message ) => this._createGeometry( message.geometry ) );\n\n\t\t// Remove task from the task list.\n\t\t// Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n\t\tgeometryPending\n\t\t\t.catch( () => true )\n\t\t\t.then( () => {\n\n\t\t\t\tif ( worker && taskID ) {\n\n\t\t\t\t\tthis._releaseTask( worker, taskID );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t// Cache the task result.\n\t\t_taskCache.set( buffer, {\n\n\t\t\tkey: taskKey,\n\t\t\tpromise: geometryPending\n\n\t\t} );\n\n\t\treturn geometryPending;\n\n\t}\n\n\t_createGeometry( geometryData ) {\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tif ( geometryData.index ) {\n\n\t\t\tgeometry.setIndex( new BufferAttribute( geometryData.index.array, 1 ) );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < geometryData.attributes.length; i ++ ) {\n\n\t\t\tconst result = geometryData.attributes[ i ];\n\t\t\tconst name = result.name;\n\t\t\tconst array = result.array;\n\t\t\tconst itemSize = result.itemSize;\n\n\t\t\tconst attribute = new BufferAttribute( array, itemSize );\n\n\t\t\tif ( name === 'color' ) {\n\n\t\t\t\tthis._assignVertexColorSpace( attribute, result.vertexColorSpace );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( name, attribute );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n\t_assignVertexColorSpace( attribute, inputColorSpace ) {\n\n\t\t// While .drc files do not specify colorspace, the only 'official' tooling\n\t\t// is PLY and OBJ converters, which use sRGB. We'll assume sRGB when a .drc\n\t\t// file is passed into .load() or .parse(). GLTFLoader uses internal APIs\n\t\t// to decode geometry, and vertex colors are already Linear-sRGB in there.\n\n\t\tif ( inputColorSpace !== SRGBColorSpace ) return;\n\n\t\tconst _color = new Color();\n\n\t\tfor ( let i = 0, il = attribute.count; i < il; i ++ ) {\n\n\t\t\t_color.fromBufferAttribute( attribute, i ).convertSRGBToLinear();\n\t\t\tattribute.setXYZ( i, _color.r, _color.g, _color.b );\n\n\t\t}\n\n\t}\n\n\t_loadLibrary( url, responseType ) {\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.decoderPath );\n\t\tloader.setResponseType( responseType );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\tloader.load( url, resolve, undefined, reject );\n\n\t\t} );\n\n\t}\n\n\tpreload() {\n\n\t\tthis._initDecoder();\n\n\t\treturn this;\n\n\t}\n\n\t_initDecoder() {\n\n\t\tif ( this.decoderPending ) return this.decoderPending;\n\n\t\tconst useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js';\n\t\tconst librariesPending = [];\n\n\t\tif ( useJS ) {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.js', 'text' ) );\n\n\t\t} else {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_wasm_wrapper.js', 'text' ) );\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.wasm', 'arraybuffer' ) );\n\n\t\t}\n\n\t\tthis.decoderPending = Promise.all( librariesPending )\n\t\t\t.then( ( libraries ) => {\n\n\t\t\t\tconst jsContent = libraries[ 0 ];\n\n\t\t\t\tif ( ! useJS ) {\n\n\t\t\t\t\tthis.decoderConfig.wasmBinary = libraries[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t\tconst fn = DRACOWorker.toString();\n\n\t\t\t\tconst body = [\n\t\t\t\t\t'/* draco decoder */',\n\t\t\t\t\tjsContent,\n\t\t\t\t\t'',\n\t\t\t\t\t'/* worker */',\n\t\t\t\t\tfn.substring( fn.indexOf( '{' ) + 1, fn.lastIndexOf( '}' ) )\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tthis.workerSourceURL = URL.createObjectURL( new Blob( [ body ] ) );\n\n\t\t\t} );\n\n\t\treturn this.decoderPending;\n\n\t}\n\n\t_getWorker( taskID, taskCost ) {\n\n\t\treturn this._initDecoder().then( () => {\n\n\t\t\tif ( this.workerPool.length < this.workerLimit ) {\n\n\t\t\t\tconst worker = new Worker( this.workerSourceURL );\n\n\t\t\t\tworker._callbacks = {};\n\t\t\t\tworker._taskCosts = {};\n\t\t\t\tworker._taskLoad = 0;\n\n\t\t\t\tworker.postMessage( { type: 'init', decoderConfig: this.decoderConfig } );\n\n\t\t\t\tworker.onmessage = function ( e ) {\n\n\t\t\t\t\tconst message = e.data;\n\n\t\t\t\t\tswitch ( message.type ) {\n\n\t\t\t\t\t\tcase 'decode':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].resolve( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'error':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].reject( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"' );\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tthis.workerPool.push( worker );\n\n\t\t\t} else {\n\n\t\t\t\tthis.workerPool.sort( function ( a, b ) {\n\n\t\t\t\t\treturn a._taskLoad > b._taskLoad ? - 1 : 1;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tconst worker = this.workerPool[ this.workerPool.length - 1 ];\n\t\t\tworker._taskCosts[ taskID ] = taskCost;\n\t\t\tworker._taskLoad += taskCost;\n\t\t\treturn worker;\n\n\t\t} );\n\n\t}\n\n\t_releaseTask( worker, taskID ) {\n\n\t\tworker._taskLoad -= worker._taskCosts[ taskID ];\n\t\tdelete worker._callbacks[ taskID ];\n\t\tdelete worker._taskCosts[ taskID ];\n\n\t}\n\n\tdebug() {\n\n\t\tconsole.log( 'Task load: ', this.workerPool.map( ( worker ) => worker._taskLoad ) );\n\n\t}\n\n\tdispose() {\n\n\t\tfor ( let i = 0; i < this.workerPool.length; ++ i ) {\n\n\t\t\tthis.workerPool[ i ].terminate();\n\n\t\t}\n\n\t\tthis.workerPool.length = 0;\n\n\t\tif ( this.workerSourceURL !== '' ) {\n\n\t\t\tURL.revokeObjectURL( this.workerSourceURL );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/* WEB WORKER */\n\nfunction DRACOWorker() {\n\n\tlet decoderConfig;\n\tlet decoderPending;\n\n\tonmessage = function ( e ) {\n\n\t\tconst message = e.data;\n\n\t\tswitch ( message.type ) {\n\n\t\t\tcase 'init':\n\t\t\t\tdecoderConfig = message.decoderConfig;\n\t\t\t\tdecoderPending = new Promise( function ( resolve/*, reject*/ ) {\n\n\t\t\t\t\tdecoderConfig.onModuleLoaded = function ( draco ) {\n\n\t\t\t\t\t\t// Module is Promise-like. Wrap before resolving to avoid loop.\n\t\t\t\t\t\tresolve( { draco: draco } );\n\n\t\t\t\t\t};\n\n\t\t\t\t\tDracoDecoderModule( decoderConfig ); // eslint-disable-line no-undef\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t\tcase 'decode':\n\t\t\t\tconst buffer = message.buffer;\n\t\t\t\tconst taskConfig = message.taskConfig;\n\t\t\t\tdecoderPending.then( ( module ) => {\n\n\t\t\t\t\tconst draco = module.draco;\n\t\t\t\t\tconst decoder = new draco.Decoder();\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tconst geometry = decodeGeometry( draco, decoder, new Int8Array( buffer ), taskConfig );\n\n\t\t\t\t\t\tconst buffers = geometry.attributes.map( ( attr ) => attr.array.buffer );\n\n\t\t\t\t\t\tif ( geometry.index ) buffers.push( geometry.index.array.buffer );\n\n\t\t\t\t\t\tself.postMessage( { type: 'decode', id: message.id, geometry }, buffers );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tconsole.error( error );\n\n\t\t\t\t\t\tself.postMessage( { type: 'error', id: message.id, error: error.message } );\n\n\t\t\t\t\t} finally {\n\n\t\t\t\t\t\tdraco.destroy( decoder );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t};\n\n\tfunction decodeGeometry( draco, decoder, array, taskConfig ) {\n\n\t\tconst attributeIDs = taskConfig.attributeIDs;\n\t\tconst attributeTypes = taskConfig.attributeTypes;\n\n\t\tlet dracoGeometry;\n\t\tlet decodingStatus;\n\n\t\tconst geometryType = decoder.GetEncodedGeometryType( array );\n\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tdracoGeometry = new draco.Mesh();\n\t\t\tdecodingStatus = decoder.DecodeArrayToMesh( array, array.byteLength, dracoGeometry );\n\n\t\t} else if ( geometryType === draco.POINT_CLOUD ) {\n\n\t\t\tdracoGeometry = new draco.PointCloud();\n\t\t\tdecodingStatus = decoder.DecodeArrayToPointCloud( array, array.byteLength, dracoGeometry );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Unexpected geometry type.' );\n\n\t\t}\n\n\t\tif ( ! decodingStatus.ok() || dracoGeometry.ptr === 0 ) {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg() );\n\n\t\t}\n\n\t\tconst geometry = { index: null, attributes: [] };\n\n\t\t// Gather all vertex attributes.\n\t\tfor ( const attributeName in attributeIDs ) {\n\n\t\t\tconst attributeType = self[ attributeTypes[ attributeName ] ];\n\n\t\t\tlet attribute;\n\t\t\tlet attributeID;\n\n\t\t\t// A Draco file may be created with default vertex attributes, whose attribute IDs\n\t\t\t// are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n\t\t\t// a Draco file may contain a custom set of attributes, identified by known unique\n\t\t\t// IDs. glTF files always do the latter, and `.drc` files typically do the former.\n\t\t\tif ( taskConfig.useUniqueIDs ) {\n\n\t\t\t\tattributeID = attributeIDs[ attributeName ];\n\t\t\t\tattribute = decoder.GetAttributeByUniqueId( dracoGeometry, attributeID );\n\n\t\t\t} else {\n\n\t\t\t\tattributeID = decoder.GetAttributeId( dracoGeometry, draco[ attributeIDs[ attributeName ] ] );\n\n\t\t\t\tif ( attributeID === - 1 ) continue;\n\n\t\t\t\tattribute = decoder.GetAttribute( dracoGeometry, attributeID );\n\n\t\t\t}\n\n\t\t\tconst attributeResult = decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute );\n\n\t\t\tif ( attributeName === 'color' ) {\n\n\t\t\t\tattributeResult.vertexColorSpace = taskConfig.vertexColorSpace;\n\n\t\t\t}\n\n\t\t\tgeometry.attributes.push( attributeResult );\n\n\t\t}\n\n\t\t// Add index.\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tgeometry.index = decodeIndex( draco, decoder, dracoGeometry );\n\n\t\t}\n\n\t\tdraco.destroy( dracoGeometry );\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction decodeIndex( draco, decoder, dracoGeometry ) {\n\n\t\tconst numFaces = dracoGeometry.num_faces();\n\t\tconst numIndices = numFaces * 3;\n\t\tconst byteLength = numIndices * 4;\n\n\t\tconst ptr = draco._malloc( byteLength );\n\t\tdecoder.GetTrianglesUInt32Array( dracoGeometry, byteLength, ptr );\n\t\tconst index = new Uint32Array( draco.HEAPF32.buffer, ptr, numIndices ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn { array: index, itemSize: 1 };\n\n\t}\n\n\tfunction decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) {\n\n\t\tconst numComponents = attribute.num_components();\n\t\tconst numPoints = dracoGeometry.num_points();\n\t\tconst numValues = numPoints * numComponents;\n\t\tconst byteLength = numValues * attributeType.BYTES_PER_ELEMENT;\n\t\tconst dataType = getDracoDataType( draco, attributeType );\n\n\t\tconst ptr = draco._malloc( byteLength );\n\t\tdecoder.GetAttributeDataArrayForAllPoints( dracoGeometry, attribute, dataType, byteLength, ptr );\n\t\tconst array = new attributeType( draco.HEAPF32.buffer, ptr, numValues ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn {\n\t\t\tname: attributeName,\n\t\t\tarray: array,\n\t\t\titemSize: numComponents\n\t\t};\n\n\t}\n\n\tfunction getDracoDataType( draco, attributeType ) {\n\n\t\tswitch ( attributeType ) {\n\n\t\t\tcase Float32Array: return draco.DT_FLOAT32;\n\t\t\tcase Int8Array: return draco.DT_INT8;\n\t\t\tcase Int16Array: return draco.DT_INT16;\n\t\t\tcase Int32Array: return draco.DT_INT32;\n\t\t\tcase Uint8Array: return draco.DT_UINT8;\n\t\t\tcase Uint16Array: return draco.DT_UINT16;\n\t\t\tcase Uint32Array: return draco.DT_UINT32;\n\n\t\t}\n\n\t}\n\n}\n\nexport { DRACOLoader };\n","/**\n * lil-gui\n * https://lil-gui.georgealways.com\n * @version 0.18.1\n * @author George Michael Brower\n * @license MIT\n */\n\n/**\n * Base class for all controllers.\n */\nclass Controller {\n\n\tconstructor( parent, object, property, className, widgetTag = 'div' ) {\n\n\t\t/**\n\t\t * The GUI that contains this controller.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The object this controller will modify.\n\t\t * @type {object}\n\t\t */\n\t\tthis.object = object;\n\n\t\t/**\n\t\t * The name of the property to control.\n\t\t * @type {string}\n\t\t */\n\t\tthis.property = property;\n\n\t\t/**\n\t\t * Used to determine if the controller is disabled.\n\t\t * Use `controller.disable( true|false )` to modify this value\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._disabled = false;\n\n\t\t/**\n\t\t * Used to determine if the Controller is hidden.\n\t\t * Use `controller.show()` or `controller.hide()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._hidden = false;\n\n\t\t/**\n\t\t * The value of `object[ property ]` when the controller was created.\n\t\t * @type {any}\n\t\t */\n\t\tthis.initialValue = this.getValue();\n\n\t\t/**\n\t\t * The outermost container DOM element for this controller.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.domElement.classList.add( 'controller' );\n\t\tthis.domElement.classList.add( className );\n\n\t\t/**\n\t\t * The DOM element that contains the controller's name.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$name = document.createElement( 'div' );\n\t\tthis.$name.classList.add( 'name' );\n\n\t\tController.nextNameID = Controller.nextNameID || 0;\n\t\tthis.$name.id = `lil-gui-name-${++Controller.nextNameID}`;\n\n\t\t/**\n\t\t * The DOM element that contains the controller's \"widget\" (which differs by controller type).\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$widget = document.createElement( widgetTag );\n\t\tthis.$widget.classList.add( 'widget' );\n\n\t\t/**\n\t\t * The DOM element that receives the disabled attribute when using disable()\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$disable = this.$widget;\n\n\t\tthis.domElement.appendChild( this.$name );\n\t\tthis.domElement.appendChild( this.$widget );\n\n\t\tthis.parent.children.push( this );\n\t\tthis.parent.controllers.push( this );\n\n\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\tthis._listenCallback = this._listenCallback.bind( this );\n\n\t\tthis.name( property );\n\n\t}\n\n\t/**\n\t * Sets the name of the controller and its label in the GUI.\n\t * @param {string} name\n\t * @returns {this}\n\t */\n\tname( name ) {\n\t\t/**\n\t\t * The controller's name. Use `controller.name( 'Name' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._name = name;\n\t\tthis.$name.innerHTML = name;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever the value is modified by this controller.\n\t * The function receives the new value as its first parameter. The value of `this` will be the\n\t * controller.\n\t *\n\t * For function controllers, the `onChange` callback will be fired on click, after the function\n\t * executes.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onChange( function( v ) {\n\t * \tconsole.log( 'The value is now ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value directly.\n\t\t * Use the `controller.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls the onChange methods of this controller and its parent GUI.\n\t * @protected\n\t */\n\t_callOnChange() {\n\n\t\tthis.parent._callOnChange( this );\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, this.getValue() );\n\t\t}\n\n\t\tthis._changed = true;\n\n\t}\n\n\t/**\n\t * Pass a function to be called after this controller has been modified and loses focus.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onFinishChange( function( v ) {\n\t * \tconsole.log( 'Changes complete: ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `controller.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Should be called by Controller when its widgets lose focus.\n\t * @protected\n\t */\n\t_callOnFinishChange() {\n\n\t\tif ( this._changed ) {\n\n\t\t\tthis.parent._callOnFinishChange( this );\n\n\t\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\t\tthis._onFinishChange.call( this, this.getValue() );\n\t\t\t}\n\n\t\t}\n\n\t\tthis._changed = false;\n\n\t}\n\n\t/**\n\t * Sets the controller back to its initial value.\n\t * @returns {this}\n\t */\n\treset() {\n\t\tthis.setValue( this.initialValue );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Enables this controller.\n\t * @param {boolean} enabled\n\t * @returns {this}\n\t * @example\n\t * controller.enable();\n\t * controller.enable( false ); // disable\n\t * controller.enable( controller._disabled ); // toggle\n\t */\n\tenable( enabled = true ) {\n\t\treturn this.disable( !enabled );\n\t}\n\n\t/**\n\t * Disables this controller.\n\t * @param {boolean} disabled\n\t * @returns {this}\n\t * @example\n\t * controller.disable();\n\t * controller.disable( false ); // enable\n\t * controller.disable( !controller._disabled ); // toggle\n\t */\n\tdisable( disabled = true ) {\n\n\t\tif ( disabled === this._disabled ) return this;\n\n\t\tthis._disabled = disabled;\n\n\t\tthis.domElement.classList.toggle( 'disabled', disabled );\n\t\tthis.$disable.toggleAttribute( 'disabled', disabled );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Shows the Controller after it's been hidden.\n\t * @param {boolean} show\n\t * @returns {this}\n\t * @example\n\t * controller.show();\n\t * controller.show( false ); // hide\n\t * controller.show( controller._hidden ); // toggle\n\t */\n\tshow( show = true ) {\n\n\t\tthis._hidden = !show;\n\n\t\tthis.domElement.style.display = this._hidden ? 'none' : '';\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Hides the Controller.\n\t * @returns {this}\n\t */\n\thide() {\n\t\treturn this.show( false );\n\t}\n\n\t/**\n\t * Destroys this controller and replaces it with a new option controller. Provided as a more\n\t * descriptive syntax for `gui.add`, but primarily for compatibility with dat.gui.\n\t *\n\t * Use caution, as this method will destroy old references to this controller. It will also\n\t * change controller order if called out of sequence, moving the option controller to the end of\n\t * the GUI.\n\t * @example\n\t * // safe usage\n\t *\n\t * gui.add( object1, 'property' ).options( [ 'a', 'b', 'c' ] );\n\t * gui.add( object2, 'property' );\n\t *\n\t * // danger\n\t *\n\t * const c = gui.add( object1, 'property' );\n\t * gui.add( object2, 'property' );\n\t *\n\t * c.options( [ 'a', 'b', 'c' ] );\n\t * // controller is now at the end of the GUI even though it was added first\n\t *\n\t * assert( c.parent.children.indexOf( c ) === -1 )\n\t * // c references a controller that no longer exists\n\t *\n\t * @param {object|Array} options\n\t * @returns {Controller}\n\t */\n\toptions( options ) {\n\t\tconst controller = this.parent.add( this.object, this.property, options );\n\t\tcontroller.name( this._name );\n\t\tthis.destroy();\n\t\treturn controller;\n\t}\n\n\t/**\n\t * Sets the minimum value. Only works on number controllers.\n\t * @param {number} min\n\t * @returns {this}\n\t */\n\tmin( min ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the maximum value. Only works on number controllers.\n\t * @param {number} max\n\t * @returns {this}\n\t */\n\tmax( max ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Values set by this controller will be rounded to multiples of `step`. Only works on number\n\t * controllers.\n\t * @param {number} step\n\t * @returns {this}\n\t */\n\tstep( step ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Rounds the displayed value to a fixed number of decimals, without affecting the actual value\n\t * like `step()`. Only works on number controllers.\n\t * @example\n\t * gui.add( object, 'property' ).listen().decimals( 4 );\n\t * @param {number} decimals\n\t * @returns {this}\n\t */\n\tdecimals( decimals ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls `updateDisplay()` every animation frame. Pass `false` to stop listening.\n\t * @param {boolean} listen\n\t * @returns {this}\n\t */\n\tlisten( listen = true ) {\n\n\t\t/**\n\t\t * Used to determine if the controller is currently listening. Don't modify this value\n\t\t * directly. Use the `controller.listen( true|false )` method instead.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._listening = listen;\n\n\t\tif ( this._listenCallbackID !== undefined ) {\n\t\t\tcancelAnimationFrame( this._listenCallbackID );\n\t\t\tthis._listenCallbackID = undefined;\n\t\t}\n\n\t\tif ( this._listening ) {\n\t\t\tthis._listenCallback();\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_listenCallback() {\n\n\t\tthis._listenCallbackID = requestAnimationFrame( this._listenCallback );\n\n\t\t// To prevent framerate loss, make sure the value has changed before updating the display.\n\t\t// Note: save() is used here instead of getValue() only because of ColorController. The !== operator\n\t\t// won't work for color objects or arrays, but ColorController.save() always returns a string.\n\n\t\tconst curValue = this.save();\n\n\t\tif ( curValue !== this._listenPrevValue ) {\n\t\t\tthis.updateDisplay();\n\t\t}\n\n\t\tthis._listenPrevValue = curValue;\n\n\t}\n\n\t/**\n\t * Returns `object[ property ]`.\n\t * @returns {any}\n\t */\n\tgetValue() {\n\t\treturn this.object[ this.property ];\n\t}\n\n\t/**\n\t * Sets the value of `object[ property ]`, invokes any `onChange` handlers and updates the display.\n\t * @param {any} value\n\t * @returns {this}\n\t */\n\tsetValue( value ) {\n\t\tthis.object[ this.property ] = value;\n\t\tthis._callOnChange();\n\t\tthis.updateDisplay();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Updates the display to keep it in sync with the current value. Useful for updating your\n\t * controllers when their values have been modified outside of the GUI.\n\t * @returns {this}\n\t */\n\tupdateDisplay() {\n\t\treturn this;\n\t}\n\n\tload( value ) {\n\t\tthis.setValue( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tsave() {\n\t\treturn this.getValue();\n\t}\n\n\t/**\n\t * Destroys this controller and removes it from the parent GUI.\n\t */\n\tdestroy() {\n\t\tthis.listen( false );\n\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\tthis.parent.controllers.splice( this.parent.controllers.indexOf( this ), 1 );\n\t\tthis.parent.$children.removeChild( this.domElement );\n\t}\n\n}\n\nclass BooleanController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'boolean', 'label' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'checkbox' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$input.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this.$input.checked );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.checked = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nfunction normalizeColorString( string ) {\n\n\tlet match, result;\n\n\tif ( match = string.match( /(#|0x)?([a-f0-9]{6})/i ) ) {\n\n\t\tresult = match[ 2 ];\n\n\t} else if ( match = string.match( /rgb\\(\\s*(\\d*)\\s*,\\s*(\\d*)\\s*,\\s*(\\d*)\\s*\\)/ ) ) {\n\n\t\tresult = parseInt( match[ 1 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 2 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 3 ] ).toString( 16 ).padStart( 2, 0 );\n\n\t} else if ( match = string.match( /^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i ) ) {\n\n\t\tresult = match[ 1 ] + match[ 1 ] + match[ 2 ] + match[ 2 ] + match[ 3 ] + match[ 3 ];\n\n\t}\n\n\tif ( result ) {\n\t\treturn '#' + result;\n\t}\n\n\treturn false;\n\n}\n\nconst STRING = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'string',\n\tfromHexString: normalizeColorString,\n\ttoHexString: normalizeColorString\n};\n\nconst INT = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'number',\n\tfromHexString: string => parseInt( string.substring( 1 ), 16 ),\n\ttoHexString: value => '#' + value.toString( 16 ).padStart( 6, 0 )\n};\n\nconst ARRAY = {\n\tisPrimitive: false,\n\t\n\t// The arrow function is here to appease tree shakers like esbuild or webpack.\n\t// See https://esbuild.github.io/api/#tree-shaking\n\tmatch: v => Array.isArray( v ),\n\t\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget[ 0 ] = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 1 ] = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 2 ] = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( [ r, g, b ], rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = ( r * rgbScale ) << 16 ^\n\t\t\t( g * rgbScale ) << 8 ^\n\t\t\t( b * rgbScale ) << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst OBJECT = {\n\tisPrimitive: false,\n\tmatch: v => Object( v ) === v,\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget.r = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget.g = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget.b = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( { r, g, b }, rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = ( r * rgbScale ) << 16 ^\n\t\t\t( g * rgbScale ) << 8 ^\n\t\t\t( b * rgbScale ) << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst FORMATS = [ STRING, INT, ARRAY, OBJECT ];\n\nfunction getColorFormat( value ) {\n\treturn FORMATS.find( format => format.match( value ) );\n}\n\nclass ColorController extends Controller {\n\n\tconstructor( parent, object, property, rgbScale ) {\n\n\t\tsuper( parent, object, property, 'color' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'color' );\n\t\tthis.$input.setAttribute( 'tabindex', -1 );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$text = document.createElement( 'input' );\n\t\tthis.$text.setAttribute( 'type', 'text' );\n\t\tthis.$text.setAttribute( 'spellcheck', 'false' );\n\t\tthis.$text.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'display' );\n\n\t\tthis.$display.appendChild( this.$input );\n\t\tthis.$widget.appendChild( this.$display );\n\t\tthis.$widget.appendChild( this.$text );\n\n\t\tthis._format = getColorFormat( this.initialValue );\n\t\tthis._rgbScale = rgbScale;\n\n\t\tthis._initialValueHexString = this.save();\n\t\tthis._textFocused = false;\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis._setValueFromHexString( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'input', () => {\n\t\t\tconst tryParse = normalizeColorString( this.$text.value );\n\t\t\tif ( tryParse ) {\n\t\t\t\tthis._setValueFromHexString( tryParse );\n\t\t\t}\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'focus', () => {\n\t\t\tthis._textFocused = true;\n\t\t\tthis.$text.select();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'blur', () => {\n\t\t\tthis._textFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$text;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\treset() {\n\t\tthis._setValueFromHexString( this._initialValueHexString );\n\t\treturn this;\n\t}\n\n\t_setValueFromHexString( value ) {\n\n\t\tif ( this._format.isPrimitive ) {\n\n\t\t\tconst newValue = this._format.fromHexString( value );\n\t\t\tthis.setValue( newValue );\n\n\t\t} else {\n\n\t\t\tthis._format.fromHexString( value, this.getValue(), this._rgbScale );\n\t\t\tthis._callOnChange();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\tsave() {\n\t\treturn this._format.toHexString( this.getValue(), this._rgbScale );\n\t}\n\n\tload( value ) {\n\t\tthis._setValueFromHexString( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this._format.toHexString( this.getValue(), this._rgbScale );\n\t\tif ( !this._textFocused ) {\n\t\t\tthis.$text.value = this.$input.value.substring( 1 );\n\t\t}\n\t\tthis.$display.style.backgroundColor = this.$input.value;\n\t\treturn this;\n\t}\n\n}\n\nclass FunctionController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'function' );\n\n\t\t// Buttons are the only case where widget contains name\n\t\tthis.$button = document.createElement( 'button' );\n\t\tthis.$button.appendChild( this.$name );\n\t\tthis.$widget.appendChild( this.$button );\n\n\t\tthis.$button.addEventListener( 'click', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.getValue().call( this.object );\n\t\t\tthis._callOnChange();\n\t\t} );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$button.addEventListener( 'touchstart', () => {}, { passive: true } );\n\n\t\tthis.$disable = this.$button;\n\n\t}\n\n}\n\nclass NumberController extends Controller {\n\n\tconstructor( parent, object, property, min, max, step ) {\n\n\t\tsuper( parent, object, property, 'number' );\n\n\t\tthis._initInput();\n\n\t\tthis.min( min );\n\t\tthis.max( max );\n\n\t\tconst stepExplicit = step !== undefined;\n\t\tthis.step( stepExplicit ? step : this._getImplicitStep(), stepExplicit );\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tdecimals( decimals ) {\n\t\tthis._decimals = decimals;\n\t\tthis.updateDisplay();\n\t\treturn this;\n\t}\n\n\tmin( min ) {\n\t\tthis._min = min;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tmax( max ) {\n\t\tthis._max = max;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tstep( step, explicit = true ) {\n\t\tthis._step = step;\n\t\tthis._stepExplicit = explicit;\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\n\t\tconst value = this.getValue();\n\n\t\tif ( this._hasSlider ) {\n\n\t\t\tlet percent = ( value - this._min ) / ( this._max - this._min );\n\t\t\tpercent = Math.max( 0, Math.min( percent, 1 ) );\n\n\t\t\tthis.$fill.style.width = percent * 100 + '%';\n\n\t\t}\n\n\t\tif ( !this._inputFocused ) {\n\t\t\tthis.$input.value = this._decimals === undefined ? value : value.toFixed( this._decimals );\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_initInput() {\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'number' );\n\t\tthis.$input.setAttribute( 'step', 'any' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tconst onInput = () => {\n\n\t\t\tlet value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tif ( this._stepExplicit ) {\n\t\t\t\tvalue = this._snap( value );\n\t\t\t}\n\n\t\t\tthis.setValue( this._clamp( value ) );\n\n\t\t};\n\n\t\t// Keys & mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst increment = delta => {\n\n\t\t\tconst value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tthis._snapClampSetValue( value + delta );\n\n\t\t\t// Force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t};\n\n\t\tconst onKeyDown = e => {\n\t\t\tif ( e.code === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowUp' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) );\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowDown' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) * -1 );\n\t\t\t}\n\t\t};\n\n\t\tconst onWheel = e => {\n\t\t\tif ( this._inputFocused ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._normalizeMouseWheel( e ) );\n\t\t\t}\n\t\t};\n\n\t\t// Vertical drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForVerticalDrag = false,\n\t\t\tinitClientX,\n\t\t\tinitClientY,\n\t\t\tprevClientY,\n\t\t\tinitValue,\n\t\t\tdragDelta;\n\n\t\t// Once the mouse is dragged more than DRAG_THRESH px on any axis, we decide\n\t\t// on the user's intent: horizontal means highlight, vertical means drag.\n\t\tconst DRAG_THRESH = 5;\n\n\t\tconst onMouseDown = e => {\n\n\t\t\tinitClientX = e.clientX;\n\t\t\tinitClientY = prevClientY = e.clientY;\n\t\t\ttestingForVerticalDrag = true;\n\n\t\t\tinitValue = this.getValue();\n\t\t\tdragDelta = 0;\n\n\t\t\twindow.addEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.addEventListener( 'mouseup', onMouseUp );\n\n\t\t};\n\n\t\tconst onMouseMove = e => {\n\n\t\t\tif ( testingForVerticalDrag ) {\n\n\t\t\t\tconst dx = e.clientX - initClientX;\n\t\t\t\tconst dy = e.clientY - initClientY;\n\n\t\t\t\tif ( Math.abs( dy ) > DRAG_THRESH ) {\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.$input.blur();\n\t\t\t\t\ttestingForVerticalDrag = false;\n\t\t\t\t\tthis._setDraggingStyle( true, 'vertical' );\n\n\t\t\t\t} else if ( Math.abs( dx ) > DRAG_THRESH ) {\n\n\t\t\t\t\tonMouseUp();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// This isn't an else so that the first move counts towards dragDelta\n\t\t\tif ( !testingForVerticalDrag ) {\n\n\t\t\t\tconst dy = e.clientY - prevClientY;\n\n\t\t\t\tdragDelta -= dy * this._step * this._arrowKeyMultiplier( e );\n\n\t\t\t\t// Clamp dragDelta so we don't have 'dead space' after dragging past bounds.\n\t\t\t\t// We're okay with the fact that bounds can be undefined here.\n\t\t\t\tif ( initValue + dragDelta > this._max ) {\n\t\t\t\t\tdragDelta = this._max - initValue;\n\t\t\t\t} else if ( initValue + dragDelta < this._min ) {\n\t\t\t\t\tdragDelta = this._min - initValue;\n\t\t\t\t}\n\n\t\t\t\tthis._snapClampSetValue( initValue + dragDelta );\n\n\t\t\t}\n\n\t\t\tprevClientY = e.clientY;\n\n\t\t};\n\n\t\tconst onMouseUp = () => {\n\t\t\tthis._setDraggingStyle( false, 'vertical' );\n\t\t\tthis._callOnFinishChange();\n\t\t\twindow.removeEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', onMouseUp );\n\t\t};\n\n\t\t// Focus state & onFinishChange\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst onFocus = () => {\n\t\t\tthis._inputFocused = true;\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tthis._inputFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t};\n\n\t\tthis.$input.addEventListener( 'input', onInput );\n\t\tthis.$input.addEventListener( 'keydown', onKeyDown );\n\t\tthis.$input.addEventListener( 'wheel', onWheel, { passive: false } );\n\t\tthis.$input.addEventListener( 'mousedown', onMouseDown );\n\t\tthis.$input.addEventListener( 'focus', onFocus );\n\t\tthis.$input.addEventListener( 'blur', onBlur );\n\n\t}\n\n\t_initSlider() {\n\n\t\tthis._hasSlider = true;\n\n\t\t// Build DOM\n\t\t// ---------------------------------------------------------------------\n\n\t\tthis.$slider = document.createElement( 'div' );\n\t\tthis.$slider.classList.add( 'slider' );\n\n\t\tthis.$fill = document.createElement( 'div' );\n\t\tthis.$fill.classList.add( 'fill' );\n\n\t\tthis.$slider.appendChild( this.$fill );\n\t\tthis.$widget.insertBefore( this.$slider, this.$input );\n\n\t\tthis.domElement.classList.add( 'hasSlider' );\n\n\t\t// Map clientX to value\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst map = ( v, a, b, c, d ) => {\n\t\t\treturn ( v - a ) / ( b - a ) * ( d - c ) + c;\n\t\t};\n\n\t\tconst setValueFromX = clientX => {\n\t\t\tconst rect = this.$slider.getBoundingClientRect();\n\t\t\tlet value = map( clientX, rect.left, rect.right, this._min, this._max );\n\t\t\tthis._snapClampSetValue( value );\n\t\t};\n\n\t\t// Mouse drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst mouseDown = e => {\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.clientX );\n\t\t\twindow.addEventListener( 'mousemove', mouseMove );\n\t\t\twindow.addEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\tconst mouseMove = e => {\n\t\t\tsetValueFromX( e.clientX );\n\t\t};\n\n\t\tconst mouseUp = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'mousemove', mouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\t// Touch drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForScroll = false, prevClientX, prevClientY;\n\n\t\tconst beginTouchDrag = e => {\n\t\t\te.preventDefault();\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\t\t\ttestingForScroll = false;\n\t\t};\n\n\t\tconst onTouchStart = e => {\n\n\t\t\tif ( e.touches.length > 1 ) return;\n\n\t\t\t// If we're in a scrollable container, we should wait for the first\n\t\t\t// touchmove to see if the user is trying to slide or scroll.\n\t\t\tif ( this._hasScrollBar ) {\n\n\t\t\t\tprevClientX = e.touches[ 0 ].clientX;\n\t\t\t\tprevClientY = e.touches[ 0 ].clientY;\n\t\t\t\ttestingForScroll = true;\n\n\t\t\t} else {\n\n\t\t\t\t// Otherwise, we can set the value straight away on touchstart.\n\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t}\n\n\t\t\twindow.addEventListener( 'touchmove', onTouchMove, { passive: false } );\n\t\t\twindow.addEventListener( 'touchend', onTouchEnd );\n\n\t\t};\n\n\t\tconst onTouchMove = e => {\n\n\t\t\tif ( testingForScroll ) {\n\n\t\t\t\tconst dx = e.touches[ 0 ].clientX - prevClientX;\n\t\t\t\tconst dy = e.touches[ 0 ].clientY - prevClientY;\n\n\t\t\t\tif ( Math.abs( dx ) > Math.abs( dy ) ) {\n\n\t\t\t\t\t// We moved horizontally, set the value and stop checking.\n\t\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// This was, in fact, an attempt to scroll. Abort.\n\t\t\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\te.preventDefault();\n\t\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst onTouchEnd = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\t\t};\n\n\t\t// Mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\t// We have to use a debounced function to call onFinishChange because\n\t\t// there's no way to tell when the user is \"done\" mouse-wheeling.\n\t\tconst callOnFinishChange = this._callOnFinishChange.bind( this );\n\t\tconst WHEEL_DEBOUNCE_TIME = 400;\n\t\tlet wheelFinishChangeTimeout;\n\n\t\tconst onWheel = e => {\n\n\t\t\t// ignore vertical wheels if there's a scrollbar\n\t\t\tconst isVertical = Math.abs( e.deltaX ) < Math.abs( e.deltaY );\n\t\t\tif ( isVertical && this._hasScrollBar ) return;\n\n\t\t\te.preventDefault();\n\n\t\t\t// set value\n\t\t\tconst delta = this._normalizeMouseWheel( e ) * this._step;\n\t\t\tthis._snapClampSetValue( this.getValue() + delta );\n\n\t\t\t// force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t\t// debounce onFinishChange\n\t\t\tclearTimeout( wheelFinishChangeTimeout );\n\t\t\twheelFinishChangeTimeout = setTimeout( callOnFinishChange, WHEEL_DEBOUNCE_TIME );\n\n\t\t};\n\n\t\tthis.$slider.addEventListener( 'mousedown', mouseDown );\n\t\tthis.$slider.addEventListener( 'touchstart', onTouchStart, { passive: false } );\n\t\tthis.$slider.addEventListener( 'wheel', onWheel, { passive: false } );\n\n\t}\n\n\t_setDraggingStyle( active, axis = 'horizontal' ) {\n\t\tif ( this.$slider ) {\n\t\t\tthis.$slider.classList.toggle( 'active', active );\n\t\t}\n\t\tdocument.body.classList.toggle( 'lil-gui-dragging', active );\n\t\tdocument.body.classList.toggle( `lil-gui-${axis}`, active );\n\t}\n\n\t_getImplicitStep() {\n\n\t\tif ( this._hasMin && this._hasMax ) {\n\t\t\treturn ( this._max - this._min ) / 1000;\n\t\t}\n\n\t\treturn 0.1;\n\n\t}\n\n\t_onUpdateMinMax() {\n\n\t\tif ( !this._hasSlider && this._hasMin && this._hasMax ) {\n\n\t\t\t// If this is the first time we're hearing about min and max\n\t\t\t// and we haven't explicitly stated what our step is, let's\n\t\t\t// update that too.\n\t\t\tif ( !this._stepExplicit ) {\n\t\t\t\tthis.step( this._getImplicitStep(), false );\n\t\t\t}\n\n\t\t\tthis._initSlider();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\t_normalizeMouseWheel( e ) {\n\n\t\tlet { deltaX, deltaY } = e;\n\n\t\t// Safari and Chrome report weird non-integral values for a notched wheel,\n\t\t// but still expose actual lines scrolled via wheelDelta. Notched wheels\n\t\t// should behave the same way as arrow keys.\n\t\tif ( Math.floor( e.deltaY ) !== e.deltaY && e.wheelDelta ) {\n\t\t\tdeltaX = 0;\n\t\t\tdeltaY = -e.wheelDelta / 120;\n\t\t\tdeltaY *= this._stepExplicit ? 1 : 10;\n\t\t}\n\n\t\tconst wheel = deltaX + -deltaY;\n\n\t\treturn wheel;\n\n\t}\n\n\t_arrowKeyMultiplier( e ) {\n\n\t\tlet mult = this._stepExplicit ? 1 : 10;\n\n\t\tif ( e.shiftKey ) {\n\t\t\tmult *= 10;\n\t\t} else if ( e.altKey ) {\n\t\t\tmult /= 10;\n\t\t}\n\n\t\treturn mult;\n\n\t}\n\n\t_snap( value ) {\n\n\t\t// This would be the logical way to do things, but floating point errors.\n\t\t// return Math.round( value / this._step ) * this._step;\n\n\t\t// Using inverse step solves a lot of them, but not all\n\t\t// const inverseStep = 1 / this._step;\n\t\t// return Math.round( value * inverseStep ) / inverseStep;\n\n\t\t// Not happy about this, but haven't seen it break.\n\t\tconst r = Math.round( value / this._step ) * this._step;\n\t\treturn parseFloat( r.toPrecision( 15 ) );\n\n\t}\n\n\t_clamp( value ) {\n\t\t// either condition is false if min or max is undefined\n\t\tif ( value < this._min ) value = this._min;\n\t\tif ( value > this._max ) value = this._max;\n\t\treturn value;\n\t}\n\n\t_snapClampSetValue( value ) {\n\t\tthis.setValue( this._clamp( this._snap( value ) ) );\n\t}\n\n\tget _hasScrollBar() {\n\t\tconst root = this.parent.root.$children;\n\t\treturn root.scrollHeight > root.clientHeight;\n\t}\n\n\tget _hasMin() {\n\t\treturn this._min !== undefined;\n\t}\n\n\tget _hasMax() {\n\t\treturn this._max !== undefined;\n\t}\n\n}\n\nclass OptionController extends Controller {\n\n\tconstructor( parent, object, property, options ) {\n\n\t\tsuper( parent, object, property, 'option' );\n\n\t\tthis.$select = document.createElement( 'select' );\n\t\tthis.$select.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'display' );\n\n\t\tthis._values = Array.isArray( options ) ? options : Object.values( options );\n\t\tthis._names = Array.isArray( options ) ? options : Object.keys( options );\n\n\t\tthis._names.forEach( name => {\n\t\t\tconst $option = document.createElement( 'option' );\n\t\t\t$option.innerHTML = name;\n\t\t\tthis.$select.appendChild( $option );\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this._values[ this.$select.selectedIndex ] );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'focus', () => {\n\t\t\tthis.$display.classList.add( 'focus' );\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'blur', () => {\n\t\t\tthis.$display.classList.remove( 'focus' );\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$select );\n\t\tthis.$widget.appendChild( this.$display );\n\n\t\tthis.$disable = this.$select;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tconst value = this.getValue();\n\t\tconst index = this._values.indexOf( value );\n\t\tthis.$select.selectedIndex = index;\n\t\tthis.$display.innerHTML = index === -1 ? value : this._names[ index ];\n\t\treturn this;\n\t}\n\n}\n\nclass StringController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'string' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'text' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis.setValue( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'keydown', e => {\n\t\t\tif ( e.code === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nconst stylesheet = `.lil-gui {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  text-align: left;\n  background-color: var(--background-color);\n  color: var(--text-color);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  --background-color: #1f1f1f;\n  --text-color: #ebebeb;\n  --title-background-color: #111111;\n  --title-text-color: #ebebeb;\n  --widget-color: #424242;\n  --hover-color: #4f4f4f;\n  --focus-color: #595959;\n  --number-color: #2cc9ff;\n  --string-color: #a2db3c;\n  --font-size: 11px;\n  --input-font-size: 11px;\n  --font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif;\n  --font-family-mono: Menlo, Monaco, Consolas, \"Droid Sans Mono\", monospace;\n  --padding: 4px;\n  --spacing: 4px;\n  --widget-height: 20px;\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\n  --name-width: 45%;\n  --slider-knob-width: 2px;\n  --slider-input-width: 27%;\n  --color-input-width: 27%;\n  --slider-input-min-width: 45px;\n  --color-input-min-width: 45px;\n  --folder-indent: 7px;\n  --widget-padding: 0 0 0 3px;\n  --widget-border-radius: 2px;\n  --checkbox-size: calc(0.75 * var(--widget-height));\n  --scrollbar-width: 5px;\n}\n.lil-gui, .lil-gui * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.lil-gui.root {\n  width: var(--width, 245px);\n  display: flex;\n  flex-direction: column;\n}\n.lil-gui.root > .title {\n  background: var(--title-background-color);\n  color: var(--title-text-color);\n}\n.lil-gui.root > .children {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.lil-gui.root > .children::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n  height: var(--scrollbar-width);\n  background: var(--background-color);\n}\n.lil-gui.root > .children::-webkit-scrollbar-thumb {\n  border-radius: var(--scrollbar-width);\n  background: var(--focus-color);\n}\n@media (pointer: coarse) {\n  .lil-gui.allow-touch-styles {\n    --widget-height: 28px;\n    --padding: 6px;\n    --spacing: 6px;\n    --font-size: 13px;\n    --input-font-size: 16px;\n    --folder-indent: 10px;\n    --scrollbar-width: 7px;\n    --slider-input-min-width: 50px;\n    --color-input-min-width: 65px;\n  }\n}\n.lil-gui.force-touch-styles {\n  --widget-height: 28px;\n  --padding: 6px;\n  --spacing: 6px;\n  --font-size: 13px;\n  --input-font-size: 16px;\n  --folder-indent: 10px;\n  --scrollbar-width: 7px;\n  --slider-input-min-width: 50px;\n  --color-input-min-width: 65px;\n}\n.lil-gui.autoPlace {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 1001;\n}\n\n.lil-gui .controller {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n}\n.lil-gui .controller.disabled {\n  opacity: 0.5;\n}\n.lil-gui .controller.disabled, .lil-gui .controller.disabled * {\n  pointer-events: none !important;\n}\n.lil-gui .controller > .name {\n  min-width: var(--name-width);\n  flex-shrink: 0;\n  white-space: pre;\n  padding-right: var(--spacing);\n  line-height: var(--widget-height);\n}\n.lil-gui .controller .widget {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: var(--widget-height);\n}\n.lil-gui .controller.string input {\n  color: var(--string-color);\n}\n.lil-gui .controller.boolean .widget {\n  cursor: pointer;\n}\n.lil-gui .controller.color .display {\n  width: 100%;\n  height: var(--widget-height);\n  border-radius: var(--widget-border-radius);\n  position: relative;\n}\n@media (hover: hover) {\n  .lil-gui .controller.color .display:hover:before {\n    content: \" \";\n    display: block;\n    position: absolute;\n    border-radius: var(--widget-border-radius);\n    border: 1px solid #fff9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.lil-gui .controller.color input[type=color] {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n.lil-gui .controller.color input[type=text] {\n  margin-left: var(--spacing);\n  font-family: var(--font-family-mono);\n  min-width: var(--color-input-min-width);\n  width: var(--color-input-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.option select {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  max-width: 100%;\n}\n.lil-gui .controller.option .display {\n  position: relative;\n  pointer-events: none;\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  line-height: var(--widget-height);\n  max-width: 100%;\n  overflow: hidden;\n  word-break: break-all;\n  padding-left: 0.55em;\n  padding-right: 1.75em;\n  background: var(--widget-color);\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .display.focus {\n    background: var(--focus-color);\n  }\n}\n.lil-gui .controller.option .display.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.option .display:after {\n  font-family: \"lil-gui\";\n  content: \"\";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding-right: 0.375em;\n}\n.lil-gui .controller.option .widget,\n.lil-gui .controller.option select {\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .widget:hover .display {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number input {\n  color: var(--number-color);\n}\n.lil-gui .controller.number.hasSlider input {\n  margin-left: var(--spacing);\n  width: var(--slider-input-width);\n  min-width: var(--slider-input-min-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.number .slider {\n  width: 100%;\n  height: var(--widget-height);\n  background-color: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  padding-right: var(--slider-knob-width);\n  overflow: hidden;\n  cursor: ew-resize;\n  touch-action: pan-y;\n}\n@media (hover: hover) {\n  .lil-gui .controller.number .slider:hover {\n    background-color: var(--hover-color);\n  }\n}\n.lil-gui .controller.number .slider.active {\n  background-color: var(--focus-color);\n}\n.lil-gui .controller.number .slider.active .fill {\n  opacity: 0.95;\n}\n.lil-gui .controller.number .fill {\n  height: 100%;\n  border-right: var(--slider-knob-width) solid var(--number-color);\n  box-sizing: content-box;\n}\n\n.lil-gui-dragging .lil-gui {\n  --hover-color: var(--widget-color);\n}\n.lil-gui-dragging * {\n  cursor: ew-resize !important;\n}\n\n.lil-gui-dragging.lil-gui-vertical * {\n  cursor: ns-resize !important;\n}\n\n.lil-gui .title {\n  height: var(--title-height);\n  line-height: calc(var(--title-height) - 4px);\n  font-weight: 600;\n  padding: 0 var(--padding);\n  -webkit-tap-highlight-color: transparent;\n  cursor: pointer;\n  outline: none;\n  text-decoration-skip: objects;\n}\n.lil-gui .title:before {\n  font-family: \"lil-gui\";\n  content: \"\";\n  padding-right: 2px;\n  display: inline-block;\n}\n.lil-gui .title:active {\n  background: var(--title-background-color);\n  opacity: 0.75;\n}\n@media (hover: hover) {\n  body:not(.lil-gui-dragging) .lil-gui .title:hover {\n    background: var(--title-background-color);\n    opacity: 0.85;\n  }\n  .lil-gui .title:focus {\n    text-decoration: underline var(--focus-color);\n  }\n}\n.lil-gui.root > .title:focus {\n  text-decoration: none !important;\n}\n.lil-gui.closed > .title:before {\n  content: \"\";\n}\n.lil-gui.closed > .children {\n  transform: translateY(-7px);\n  opacity: 0;\n}\n.lil-gui.closed:not(.transition) > .children {\n  display: none;\n}\n.lil-gui.transition > .children {\n  transition-duration: 300ms;\n  transition-property: height, opacity, transform;\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\n  overflow: hidden;\n  pointer-events: none;\n}\n.lil-gui .children:empty:before {\n  content: \"Empty\";\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n  display: block;\n  height: var(--widget-height);\n  font-style: italic;\n  line-height: var(--widget-height);\n  opacity: 0.5;\n}\n.lil-gui.root > .children > .lil-gui > .title {\n  border: 0 solid var(--widget-color);\n  border-width: 1px 0;\n  transition: border-color 300ms;\n}\n.lil-gui.root > .children > .lil-gui.closed > .title {\n  border-bottom-color: transparent;\n}\n.lil-gui + .controller {\n  border-top: 1px solid var(--widget-color);\n  margin-top: 0;\n  padding-top: var(--spacing);\n}\n.lil-gui .lil-gui .lil-gui > .title {\n  border: none;\n}\n.lil-gui .lil-gui .lil-gui > .children {\n  border: none;\n  margin-left: var(--folder-indent);\n  border-left: 2px solid var(--widget-color);\n}\n.lil-gui .lil-gui .controller {\n  border: none;\n}\n\n.lil-gui input {\n  -webkit-tap-highlight-color: transparent;\n  border: 0;\n  outline: none;\n  font-family: var(--font-family);\n  font-size: var(--input-font-size);\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  background: var(--widget-color);\n  color: var(--text-color);\n  width: 100%;\n}\n@media (hover: hover) {\n  .lil-gui input:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui input:active {\n    background: var(--focus-color);\n  }\n}\n.lil-gui input:disabled {\n  opacity: 1;\n}\n.lil-gui input[type=text],\n.lil-gui input[type=number] {\n  padding: var(--widget-padding);\n}\n.lil-gui input[type=text]:focus,\n.lil-gui input[type=number]:focus {\n  background: var(--focus-color);\n}\n.lil-gui input::-webkit-outer-spin-button,\n.lil-gui input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.lil-gui input[type=number] {\n  -moz-appearance: textfield;\n}\n.lil-gui input[type=checkbox] {\n  appearance: none;\n  -webkit-appearance: none;\n  height: var(--checkbox-size);\n  width: var(--checkbox-size);\n  border-radius: var(--widget-border-radius);\n  text-align: center;\n  cursor: pointer;\n}\n.lil-gui input[type=checkbox]:checked:before {\n  font-family: \"lil-gui\";\n  content: \"\";\n  font-size: var(--checkbox-size);\n  line-height: var(--checkbox-size);\n}\n@media (hover: hover) {\n  .lil-gui input[type=checkbox]:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button {\n  -webkit-tap-highlight-color: transparent;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--text-color);\n  width: 100%;\n  height: var(--widget-height);\n  text-transform: none;\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  border: 1px solid var(--widget-color);\n  text-align: center;\n  line-height: calc(var(--widget-height) - 4px);\n}\n@media (hover: hover) {\n  .lil-gui button:hover {\n    background: var(--hover-color);\n    border-color: var(--hover-color);\n  }\n  .lil-gui button:focus {\n    border-color: var(--focus-color);\n  }\n}\n.lil-gui button:active {\n  background: var(--focus-color);\n}\n\n@font-face {\n  font-family: \"lil-gui\";\n  src: url(\"data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==\") format(\"woff\");\n}`;\n\nfunction _injectStyles( cssContent ) {\n\tconst injected = document.createElement( 'style' );\n\tinjected.innerHTML = cssContent;\n\tconst before = document.querySelector( 'head link[rel=stylesheet], head style' );\n\tif ( before ) {\n\t\tdocument.head.insertBefore( injected, before );\n\t} else {\n\t\tdocument.head.appendChild( injected );\n\t}\n}\n\nlet stylesInjected = false;\n\nclass GUI {\n\n\t/**\n\t * Creates a panel that holds controllers.\n\t * @example\n\t * new GUI();\n\t * new GUI( { container: document.getElementById( 'custom' ) } );\n\t *\n\t * @param {object} [options]\n\t * @param {boolean} [options.autoPlace=true]\n\t * Adds the GUI to `document.body` and fixes it to the top right of the page.\n\t *\n\t * @param {HTMLElement} [options.container]\n\t * Adds the GUI to this DOM element. Overrides `autoPlace`.\n\t *\n\t * @param {number} [options.width=245]\n\t * Width of the GUI in pixels, usually set when name labels become too long. Note that you can make\n\t * name labels wider in CSS with `.lilgui { namewidth: 55% }`\n\t *\n\t * @param {string} [options.title=Controls]\n\t * Name to display in the title bar.\n\t *\n\t * @param {boolean} [options.closeFolders=false]\n\t * Pass `true` to close all folders in this GUI by default.\n\t *\n\t * @param {boolean} [options.injectStyles=true]\n\t * Injects the default stylesheet into the page if this is the first GUI.\n\t * Pass `false` to use your own stylesheet.\n\t *\n\t * @param {number} [options.touchStyles=true]\n\t * Makes controllers larger on touch devices. Pass `false` to disable touch styles.\n\t *\n\t * @param {GUI} [options.parent]\n\t * Adds this GUI as a child in another GUI. Usually this is done for you by `addFolder()`.\n\t *\n\t */\n\tconstructor( {\n\t\tparent,\n\t\tautoPlace = parent === undefined,\n\t\tcontainer,\n\t\twidth,\n\t\ttitle = 'Controls',\n\t\tcloseFolders = false,\n\t\tinjectStyles = true,\n\t\ttouchStyles = true\n\t} = {} ) {\n\n\t\t/**\n\t\t * The GUI containing this folder, or `undefined` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The top level GUI containing this folder, or `this` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.root = parent ? parent.root : this;\n\n\t\t/**\n\t\t * The list of controllers and folders contained by this GUI.\n\t\t * @type {Array<GUI|Controller>}\n\t\t */\n\t\tthis.children = [];\n\n\t\t/**\n\t\t * The list of controllers contained by this GUI.\n\t\t * @type {Array<Controller>}\n\t\t */\n\t\tthis.controllers = [];\n\n\t\t/**\n\t\t * The list of folders contained by this GUI.\n\t\t * @type {Array<GUI>}\n\t\t */\n\t\tthis.folders = [];\n\n\t\t/**\n\t\t * Used to determine if the GUI is closed. Use `gui.open()` or `gui.close()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._closed = false;\n\n\t\t/**\n\t\t * Used to determine if the GUI is hidden. Use `gui.show()` or `gui.hide()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._hidden = false;\n\n\t\t/**\n\t\t * The outermost container element.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.domElement.classList.add( 'lil-gui' );\n\n\t\t/**\n\t\t * The DOM element that contains the title.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$title = document.createElement( 'div' );\n\t\tthis.$title.classList.add( 'title' );\n\t\tthis.$title.setAttribute( 'role', 'button' );\n\t\tthis.$title.setAttribute( 'aria-expanded', true );\n\t\tthis.$title.setAttribute( 'tabindex', 0 );\n\n\t\tthis.$title.addEventListener( 'click', () => this.openAnimated( this._closed ) );\n\t\tthis.$title.addEventListener( 'keydown', e => {\n\t\t\tif ( e.code === 'Enter' || e.code === 'Space' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.$title.click();\n\t\t\t}\n\t\t} );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$title.addEventListener( 'touchstart', () => {}, { passive: true } );\n\n\t\t/**\n\t\t * The DOM element that contains children.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$children = document.createElement( 'div' );\n\t\tthis.$children.classList.add( 'children' );\n\n\t\tthis.domElement.appendChild( this.$title );\n\t\tthis.domElement.appendChild( this.$children );\n\n\t\tthis.title( title );\n\n\t\tif ( touchStyles ) {\n\t\t\tthis.domElement.classList.add( 'allow-touch-styles' );\n\t\t}\n\n\t\tif ( this.parent ) {\n\n\t\t\tthis.parent.children.push( this );\n\t\t\tthis.parent.folders.push( this );\n\n\t\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\t\t// Stop the constructor early, everything onward only applies to root GUI's\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.domElement.classList.add( 'root' );\n\n\t\t// Inject stylesheet if we haven't done that yet\n\t\tif ( !stylesInjected && injectStyles ) {\n\t\t\t_injectStyles( stylesheet );\n\t\t\tstylesInjected = true;\n\t\t}\n\n\t\tif ( container ) {\n\n\t\t\tcontainer.appendChild( this.domElement );\n\n\t\t} else if ( autoPlace ) {\n\n\t\t\tthis.domElement.classList.add( 'autoPlace' );\n\t\t\tdocument.body.appendChild( this.domElement );\n\n\t\t}\n\n\t\tif ( width ) {\n\t\t\tthis.domElement.style.setProperty( '--width', width + 'px' );\n\t\t}\n\n\t\tthis._closeFolders = closeFolders;\n\n\t\t// Don't fire global key events while typing in the GUI:\n\t\tthis.domElement.addEventListener( 'keydown', e => e.stopPropagation() );\n\t\tthis.domElement.addEventListener( 'keyup', e => e.stopPropagation() );\n\n\t}\n\n\t/**\n\t * Adds a controller to the GUI, inferring controller type using the `typeof` operator.\n\t * @example\n\t * gui.add( object, 'property' );\n\t * gui.add( object, 'number', 0, 100, 1 );\n\t * gui.add( object, 'options', [ 1, 2, 3 ] );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number|object|Array} [$1] Minimum value for number controllers, or the set of\n\t * selectable values for a dropdown.\n\t * @param {number} [max] Maximum value for number controllers.\n\t * @param {number} [step] Step value for number controllers.\n\t * @returns {Controller}\n\t */\n\tadd( object, property, $1, max, step ) {\n\n\t\tif ( Object( $1 ) === $1 ) {\n\n\t\t\treturn new OptionController( this, object, property, $1 );\n\n\t\t}\n\n\t\tconst initialValue = object[ property ];\n\n\t\tswitch ( typeof initialValue ) {\n\n\t\t\tcase 'number':\n\n\t\t\t\treturn new NumberController( this, object, property, $1, max, step );\n\n\t\t\tcase 'boolean':\n\n\t\t\t\treturn new BooleanController( this, object, property );\n\n\t\t\tcase 'string':\n\n\t\t\t\treturn new StringController( this, object, property );\n\n\t\t\tcase 'function':\n\n\t\t\t\treturn new FunctionController( this, object, property );\n\n\t\t}\n\n\t\tconsole.error( `gui.add failed\n\tproperty:`, property, `\n\tobject:`, object, `\n\tvalue:`, initialValue );\n\n\t}\n\n\t/**\n\t * Adds a color controller to the GUI.\n\t * @example\n\t * params = {\n\t * \tcssColor: '#ff00ff',\n\t * \trgbColor: { r: 0, g: 0.2, b: 0.4 },\n\t * \tcustomRange: [ 0, 127, 255 ],\n\t * };\n\t *\n\t * gui.addColor( params, 'cssColor' );\n\t * gui.addColor( params, 'rgbColor' );\n\t * gui.addColor( params, 'customRange', 255 );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number} rgbScale Maximum value for a color channel when using an RGB color. You may\n\t * need to set this to 255 if your colors are too bright.\n\t * @returns {Controller}\n\t */\n\taddColor( object, property, rgbScale = 1 ) {\n\t\treturn new ColorController( this, object, property, rgbScale );\n\t}\n\n\t/**\n\t * Adds a folder to the GUI, which is just another GUI. This method returns\n\t * the nested GUI so you can add controllers to it.\n\t * @example\n\t * const folder = gui.addFolder( 'Position' );\n\t * folder.add( position, 'x' );\n\t * folder.add( position, 'y' );\n\t * folder.add( position, 'z' );\n\t *\n\t * @param {string} title Name to display in the folder's title bar.\n\t * @returns {GUI}\n\t */\n\taddFolder( title ) {\n\t\tconst folder = new GUI( { parent: this, title } );\n\t\tif ( this.root._closeFolders ) folder.close();\n\t\treturn folder;\n\t}\n\n\t/**\n\t * Recalls values that were saved with `gui.save()`.\n\t * @param {object} obj\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\tload( obj, recursive = true ) {\n\n\t\tif ( obj.controllers ) {\n\n\t\t\tthis.controllers.forEach( c => {\n\n\t\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\t\tc.load( obj.controllers[ c._name ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( recursive && obj.folders ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tf.load( obj.folders[ f._title ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Returns an object mapping controller names to values. The object can be passed to `gui.load()` to\n\t * recall these values.\n\t * @example\n\t * {\n\t * \tcontrollers: {\n\t * \t\tprop1: 1,\n\t * \t\tprop2: 'value',\n\t * \t\t...\n\t * \t},\n\t * \tfolders: {\n\t * \t\tfolderName1: { controllers, folders },\n\t * \t\tfolderName2: { controllers, folders }\n\t * \t\t...\n\t * \t}\n\t * }\n\t *\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {object}\n\t */\n\tsave( recursive = true ) {\n\n\t\tconst obj = {\n\t\t\tcontrollers: {},\n\t\t\tfolders: {}\n\t\t};\n\n\t\tthis.controllers.forEach( c => {\n\n\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\tthrow new Error( `Cannot save GUI with duplicate property \"${c._name}\"` );\n\t\t\t}\n\n\t\t\tobj.controllers[ c._name ] = c.save();\n\n\t\t} );\n\n\t\tif ( recursive ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tthrow new Error( `Cannot save GUI with duplicate folder \"${f._title}\"` );\n\t\t\t\t}\n\n\t\t\t\tobj.folders[ f._title ] = f.save();\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn obj;\n\n\t}\n\n\t/**\n\t * Opens a GUI or folder. GUI and folders are open by default.\n\t * @param {boolean} open Pass false to close\n\t * @returns {this}\n\t * @example\n\t * gui.open(); // open\n\t * gui.open( false ); // close\n\t * gui.open( gui._closed ); // toggle\n\t */\n\topen( open = true ) {\n\n\t\tthis._setClosed( !open );\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\t\tthis.domElement.classList.toggle( 'closed', this._closed );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Closes the GUI.\n\t * @returns {this}\n\t */\n\tclose() {\n\t\treturn this.open( false );\n\t}\n\n\t_setClosed( closed ) {\n\t\tif ( this._closed === closed ) return;\n\t\tthis._closed = closed;\n\t\tthis._callOnOpenClose( this );\n\t}\n\n\t/**\n\t * Shows the GUI after it's been hidden.\n\t * @param {boolean} show\n\t * @returns {this}\n\t * @example\n\t * gui.show();\n\t * gui.show( false ); // hide\n\t * gui.show( gui._hidden ); // toggle\n\t */\n\tshow( show = true ) {\n\n\t\tthis._hidden = !show;\n\n\t\tthis.domElement.style.display = this._hidden ? 'none' : '';\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Hides the GUI.\n\t * @returns {this}\n\t */\n\thide() {\n\t\treturn this.show( false );\n\t}\n\n\topenAnimated( open = true ) {\n\n\t\t// set state immediately\n\t\tthis._setClosed( !open );\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\n\t\t// wait for next frame to measure $children\n\t\trequestAnimationFrame( () => {\n\n\t\t\t// explicitly set initial height for transition\n\t\t\tconst initialHeight = this.$children.clientHeight;\n\t\t\tthis.$children.style.height = initialHeight + 'px';\n\n\t\t\tthis.domElement.classList.add( 'transition' );\n\n\t\t\tconst onTransitionEnd = e => {\n\t\t\t\tif ( e.target !== this.$children ) return;\n\t\t\t\tthis.$children.style.height = '';\n\t\t\t\tthis.domElement.classList.remove( 'transition' );\n\t\t\t\tthis.$children.removeEventListener( 'transitionend', onTransitionEnd );\n\t\t\t};\n\n\t\t\tthis.$children.addEventListener( 'transitionend', onTransitionEnd );\n\n\t\t\t// todo: this is wrong if children's scrollHeight makes for a gui taller than maxHeight\n\t\t\tconst targetHeight = !open ? 0 : this.$children.scrollHeight;\n\n\t\t\tthis.domElement.classList.toggle( 'closed', !open );\n\n\t\t\trequestAnimationFrame( () => {\n\t\t\t\tthis.$children.style.height = targetHeight + 'px';\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Change the title of this GUI.\n\t * @param {string} title\n\t * @returns {this}\n\t */\n\ttitle( title ) {\n\t\t/**\n\t\t * Current title of the GUI. Use `gui.title( 'Title' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._title = title;\n\t\tthis.$title.innerHTML = title;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Resets all controllers to their initial values.\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\treset( recursive = true ) {\n\t\tconst controllers = recursive ? this.controllersRecursive() : this.controllers;\n\t\tcontrollers.forEach( c => c.reset() );\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI changes.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnChange( controller );\n\t\t}\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI has finished changing.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onFinishChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnFinishChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnFinishChange( controller );\n\t\t}\n\n\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\tthis._onFinishChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Pass a function to be called when this GUI or its descendants are opened or closed.\n\t * @param {function(GUI)} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onOpenClose( changedGUI => {\n\t * \tconsole.log( changedGUI._closed );\n\t * } );\n\t */\n\tonOpenClose( callback ) {\n\t\tthis._onOpenClose = callback;\n\t\treturn this;\n\t}\n\n\t_callOnOpenClose( changedGUI ) {\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnOpenClose( changedGUI );\n\t\t}\n\n\t\tif ( this._onOpenClose !== undefined ) {\n\t\t\tthis._onOpenClose.call( this, changedGUI );\n\t\t}\n\t}\n\n\t/**\n\t * Destroys all DOM elements and event listeners associated with this GUI\n\t */\n\tdestroy() {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\t\tthis.parent.folders.splice( this.parent.folders.indexOf( this ), 1 );\n\t\t}\n\n\t\tif ( this.domElement.parentElement ) {\n\t\t\tthis.domElement.parentElement.removeChild( this.domElement );\n\t\t}\n\n\t\tArray.from( this.children ).forEach( c => c.destroy() );\n\n\t}\n\n\t/**\n\t * Returns an array of controllers contained by this GUI and its descendents.\n\t * @returns {Controller[]}\n\t */\n\tcontrollersRecursive() {\n\t\tlet controllers = Array.from( this.controllers );\n\t\tthis.folders.forEach( f => {\n\t\t\tcontrollers = controllers.concat( f.controllersRecursive() );\n\t\t} );\n\t\treturn controllers;\n\t}\n\n\t/**\n\t * Returns an array of folders contained by this GUI and its descendents.\n\t * @returns {GUI[]}\n\t */\n\tfoldersRecursive() {\n\t\tlet folders = Array.from( this.folders );\n\t\tthis.folders.forEach( f => {\n\t\t\tfolders = folders.concat( f.foldersRecursive() );\n\t\t} );\n\t\treturn folders;\n\t}\n\n}\n\nexport default GUI;\nexport { BooleanController, ColorController, Controller, FunctionController, GUI, NumberController, OptionController, StringController };\n","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * GSAP 3.11.5\n * https://greensock.com\n *\n * @license Copyright 2008-2023, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nvar _config = {\n  autoSleep: 120,\n  force3D: \"auto\",\n  nullTargetWarn: 1,\n  units: {\n    lineHeight: \"\"\n  }\n},\n    _defaults = {\n  duration: .5,\n  overwrite: false,\n  delay: 0\n},\n    _suppressOverwrites,\n    _reverting,\n    _context,\n    _bigNum = 1e8,\n    _tinyNum = 1 / _bigNum,\n    _2PI = Math.PI * 2,\n    _HALF_PI = _2PI / 4,\n    _gsID = 0,\n    _sqrt = Math.sqrt,\n    _cos = Math.cos,\n    _sin = Math.sin,\n    _isString = function _isString(value) {\n  return typeof value === \"string\";\n},\n    _isFunction = function _isFunction(value) {\n  return typeof value === \"function\";\n},\n    _isNumber = function _isNumber(value) {\n  return typeof value === \"number\";\n},\n    _isUndefined = function _isUndefined(value) {\n  return typeof value === \"undefined\";\n},\n    _isObject = function _isObject(value) {\n  return typeof value === \"object\";\n},\n    _isNotFalse = function _isNotFalse(value) {\n  return value !== false;\n},\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _isFuncOrString = function _isFuncOrString(value) {\n  return _isFunction(value) || _isString(value);\n},\n    _isTypedArray = typeof ArrayBuffer === \"function\" && ArrayBuffer.isView || function () {},\n    // note: IE10 has ArrayBuffer, but NOT ArrayBuffer.isView().\n_isArray = Array.isArray,\n    _strictNumExp = /(?:-?\\.?\\d|\\.)+/gi,\n    //only numbers (including negatives and decimals) but NOT relative values.\n_numExp = /[-+=.]*\\d+[.e\\-+]*\\d*[e\\-+]*\\d*/g,\n    //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\n_numWithUnitExp = /[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,\n    _complexStringNumExp = /[-+=.]*\\d+\\.?\\d*(?:e-|e\\+)?\\d*/gi,\n    //duplicate so that while we're looping through matches from exec(), it doesn't contaminate the lastIndex of _numExp which we use to search for colors too.\n_relExp = /[+-]=-?[.\\d]+/,\n    _delimitedValueExp = /[^,'\"\\[\\]\\s]+/gi,\n    // previously /[#\\-+.]*\\b[a-z\\d\\-=+%.]+/gi but didn't catch special characters.\n_unitExp = /^[+\\-=e\\s\\d]*\\d+[.\\d]*([a-z]*|%)\\s*$/i,\n    _globalTimeline,\n    _win,\n    _coreInitted,\n    _doc,\n    _globals = {},\n    _installScope = {},\n    _coreReady,\n    _install = function _install(scope) {\n  return (_installScope = _merge(scope, _globals)) && gsap;\n},\n    _missingPlugin = function _missingPlugin(property, value) {\n  return console.warn(\"Invalid property\", property, \"set to\", value, \"Missing plugin? gsap.registerPlugin()\");\n},\n    _warn = function _warn(message, suppress) {\n  return !suppress && console.warn(message);\n},\n    _addGlobal = function _addGlobal(name, obj) {\n  return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;\n},\n    _emptyFunc = function _emptyFunc() {\n  return 0;\n},\n    _startAtRevertConfig = {\n  suppressEvents: true,\n  isStart: true,\n  kill: false\n},\n    _revertConfigNoKill = {\n  suppressEvents: true,\n  kill: false\n},\n    _revertConfig = {\n  suppressEvents: true\n},\n    _reservedProps = {},\n    _lazyTweens = [],\n    _lazyLookup = {},\n    _lastRenderedFrame,\n    _plugins = {},\n    _effects = {},\n    _nextGCFrame = 30,\n    _harnessPlugins = [],\n    _callbackNames = \"\",\n    _harness = function _harness(targets) {\n  var target = targets[0],\n      harnessPlugin,\n      i;\n  _isObject(target) || _isFunction(target) || (targets = [targets]);\n\n  if (!(harnessPlugin = (target._gsap || {}).harness)) {\n    // find the first target with a harness. We assume targets passed into an animation will be of similar type, meaning the same kind of harness can be used for them all (performance optimization)\n    i = _harnessPlugins.length;\n\n    while (i-- && !_harnessPlugins[i].targetTest(target)) {}\n\n    harnessPlugin = _harnessPlugins[i];\n  }\n\n  i = targets.length;\n\n  while (i--) {\n    targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);\n  }\n\n  return targets;\n},\n    _getCache = function _getCache(target) {\n  return target._gsap || _harness(toArray(target))[0]._gsap;\n},\n    _getProperty = function _getProperty(target, property, v) {\n  return (v = target[property]) && _isFunction(v) ? target[property]() : _isUndefined(v) && target.getAttribute && target.getAttribute(property) || v;\n},\n    _forEachName = function _forEachName(names, func) {\n  return (names = names.split(\",\")).forEach(func) || names;\n},\n    //split a comma-delimited list of names into an array, then run a forEach() function and return the split array (this is just a way to consolidate/shorten some code).\n_round = function _round(value) {\n  return Math.round(value * 100000) / 100000 || 0;\n},\n    _roundPrecise = function _roundPrecise(value) {\n  return Math.round(value * 10000000) / 10000000 || 0;\n},\n    // increased precision mostly for timing values.\n_parseRelative = function _parseRelative(start, value) {\n  var operator = value.charAt(0),\n      end = parseFloat(value.substr(2));\n  start = parseFloat(start);\n  return operator === \"+\" ? start + end : operator === \"-\" ? start - end : operator === \"*\" ? start * end : start / end;\n},\n    _arrayContainsAny = function _arrayContainsAny(toSearch, toFind) {\n  //searches one array to find matches for any of the items in the toFind array. As soon as one is found, it returns true. It does NOT return all the matches; it's simply a boolean search.\n  var l = toFind.length,\n      i = 0;\n\n  for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l;) {}\n\n  return i < l;\n},\n    _lazyRender = function _lazyRender() {\n  var l = _lazyTweens.length,\n      a = _lazyTweens.slice(0),\n      i,\n      tween;\n\n  _lazyLookup = {};\n  _lazyTweens.length = 0;\n\n  for (i = 0; i < l; i++) {\n    tween = a[i];\n    tween && tween._lazy && (tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0);\n  }\n},\n    _lazySafeRender = function _lazySafeRender(animation, time, suppressEvents, force) {\n  _lazyTweens.length && !_reverting && _lazyRender();\n  animation.render(time, suppressEvents, force || _reverting && time < 0 && (animation._initted || animation._startAt));\n  _lazyTweens.length && !_reverting && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\n},\n    _numericIfPossible = function _numericIfPossible(value) {\n  var n = parseFloat(value);\n  return (n || n === 0) && (value + \"\").match(_delimitedValueExp).length < 2 ? n : _isString(value) ? value.trim() : value;\n},\n    _passThrough = function _passThrough(p) {\n  return p;\n},\n    _setDefaults = function _setDefaults(obj, defaults) {\n  for (var p in defaults) {\n    p in obj || (obj[p] = defaults[p]);\n  }\n\n  return obj;\n},\n    _setKeyframeDefaults = function _setKeyframeDefaults(excludeDuration) {\n  return function (obj, defaults) {\n    for (var p in defaults) {\n      p in obj || p === \"duration\" && excludeDuration || p === \"ease\" || (obj[p] = defaults[p]);\n    }\n  };\n},\n    _merge = function _merge(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = toMerge[p];\n  }\n\n  return base;\n},\n    _mergeDeep = function _mergeDeep(base, toMerge) {\n  for (var p in toMerge) {\n    p !== \"__proto__\" && p !== \"constructor\" && p !== \"prototype\" && (base[p] = _isObject(toMerge[p]) ? _mergeDeep(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p]);\n  }\n\n  return base;\n},\n    _copyExcluding = function _copyExcluding(obj, excluding) {\n  var copy = {},\n      p;\n\n  for (p in obj) {\n    p in excluding || (copy[p] = obj[p]);\n  }\n\n  return copy;\n},\n    _inheritDefaults = function _inheritDefaults(vars) {\n  var parent = vars.parent || _globalTimeline,\n      func = vars.keyframes ? _setKeyframeDefaults(_isArray(vars.keyframes)) : _setDefaults;\n\n  if (_isNotFalse(vars.inherit)) {\n    while (parent) {\n      func(vars, parent.vars.defaults);\n      parent = parent.parent || parent._dp;\n    }\n  }\n\n  return vars;\n},\n    _arraysMatch = function _arraysMatch(a1, a2) {\n  var i = a1.length,\n      match = i === a2.length;\n\n  while (match && i-- && a1[i] === a2[i]) {}\n\n  return i < 0;\n},\n    _addLinkedListItem = function _addLinkedListItem(parent, child, firstProp, lastProp, sortBy) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = parent[lastProp],\n      t;\n\n  if (sortBy) {\n    t = child[sortBy];\n\n    while (prev && prev[sortBy] > t) {\n      prev = prev._prev;\n    }\n  }\n\n  if (prev) {\n    child._next = prev._next;\n    prev._next = child;\n  } else {\n    child._next = parent[firstProp];\n    parent[firstProp] = child;\n  }\n\n  if (child._next) {\n    child._next._prev = child;\n  } else {\n    parent[lastProp] = child;\n  }\n\n  child._prev = prev;\n  child.parent = child._dp = parent;\n  return child;\n},\n    _removeLinkedListItem = function _removeLinkedListItem(parent, child, firstProp, lastProp) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = child._prev,\n      next = child._next;\n\n  if (prev) {\n    prev._next = next;\n  } else if (parent[firstProp] === child) {\n    parent[firstProp] = next;\n  }\n\n  if (next) {\n    next._prev = prev;\n  } else if (parent[lastProp] === child) {\n    parent[lastProp] = prev;\n  }\n\n  child._next = child._prev = child.parent = null; // don't delete the _dp just so we can revert if necessary. But parent should be null to indicate the item isn't in a linked list.\n},\n    _removeFromParent = function _removeFromParent(child, onlyIfParentHasAutoRemove) {\n  child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren) && child.parent.remove(child);\n  child._act = 0;\n},\n    _uncache = function _uncache(animation, child) {\n  if (animation && (!child || child._end > animation._dur || child._start < 0)) {\n    // performance optimization: if a child animation is passed in we should only uncache if that child EXTENDS the animation (its end time is beyond the end)\n    var a = animation;\n\n    while (a) {\n      a._dirty = 1;\n      a = a.parent;\n    }\n  }\n\n  return animation;\n},\n    _recacheAncestors = function _recacheAncestors(animation) {\n  var parent = animation.parent;\n\n  while (parent && parent.parent) {\n    //sometimes we must force a re-sort of all children and update the duration/totalDuration of all ancestor timelines immediately in case, for example, in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\n    parent._dirty = 1;\n    parent.totalDuration();\n    parent = parent.parent;\n  }\n\n  return animation;\n},\n    _rewindStartAt = function _rewindStartAt(tween, totalTime, suppressEvents, force) {\n  return tween._startAt && (_reverting ? tween._startAt.revert(_revertConfigNoKill) : tween.vars.immediateRender && !tween.vars.autoRevert || tween._startAt.render(totalTime, true, force));\n},\n    _hasNoPausedAncestors = function _hasNoPausedAncestors(animation) {\n  return !animation || animation._ts && _hasNoPausedAncestors(animation.parent);\n},\n    _elapsedCycleDuration = function _elapsedCycleDuration(animation) {\n  return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;\n},\n    // feed in the totalTime and cycleDuration and it'll return the cycle (iteration minus 1) and if the playhead is exactly at the very END, it will NOT bump up to the next cycle.\n_animationCycle = function _animationCycle(tTime, cycleDuration) {\n  var whole = Math.floor(tTime /= cycleDuration);\n  return tTime && whole === tTime ? whole - 1 : whole;\n},\n    _parentToChildTotalTime = function _parentToChildTotalTime(parentTime, child) {\n  return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);\n},\n    _setEnd = function _setEnd(animation) {\n  return animation._end = _roundPrecise(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));\n},\n    _alignPlayhead = function _alignPlayhead(animation, totalTime) {\n  // adjusts the animation's _start and _end according to the provided totalTime (only if the parent's smoothChildTiming is true and the animation isn't paused). It doesn't do any rendering or forcing things back into parent timelines, etc. - that's what totalTime() is for.\n  var parent = animation._dp;\n\n  if (parent && parent.smoothChildTiming && animation._ts) {\n    animation._start = _roundPrecise(parent._time - (animation._ts > 0 ? totalTime / animation._ts : ((animation._dirty ? animation.totalDuration() : animation._tDur) - totalTime) / -animation._ts));\n\n    _setEnd(animation);\n\n    parent._dirty || _uncache(parent, animation); //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\n  }\n\n  return animation;\n},\n\n/*\n_totalTimeToTime = (clampedTotalTime, duration, repeat, repeatDelay, yoyo) => {\n\tlet cycleDuration = duration + repeatDelay,\n\t\ttime = _round(clampedTotalTime % cycleDuration);\n\tif (time > duration) {\n\t\ttime = duration;\n\t}\n\treturn (yoyo && (~~(clampedTotalTime / cycleDuration) & 1)) ? duration - time : time;\n},\n*/\n_postAddChecks = function _postAddChecks(timeline, child) {\n  var t;\n\n  if (child._time || child._initted && !child._dur) {\n    //in case, for example, the _start is moved on a tween that has already rendered. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning.\n    t = _parentToChildTotalTime(timeline.rawTime(), child);\n\n    if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {\n      child.render(t, true);\n    }\n  } //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\n\n\n  if (_uncache(timeline, child)._dp && timeline._initted && timeline._time >= timeline._dur && timeline._ts) {\n    //in case any of the ancestors had completed but should now be enabled...\n    if (timeline._dur < timeline.duration()) {\n      t = timeline;\n\n      while (t._dp) {\n        t.rawTime() >= 0 && t.totalTime(t._tTime); //moves the timeline (shifts its startTime) if necessary, and also enables it. If it's currently zero, though, it may not be scheduled to render until later so there's no need to force it to align with the current playhead position. Only move to catch up with the playhead.\n\n        t = t._dp;\n      }\n    }\n\n    timeline._zTime = -_tinyNum; // helps ensure that the next render() will be forced (crossingStart = true in render()), even if the duration hasn't changed (we're adding a child which would need to get rendered). Definitely an edge case. Note: we MUST do this AFTER the loop above where the totalTime() might trigger a render() because this _addToTimeline() method gets called from the Animation constructor, BEFORE tweens even record their targets, etc. so we wouldn't want things to get triggered in the wrong order.\n  }\n},\n    _addToTimeline = function _addToTimeline(timeline, child, position, skipChecks) {\n  child.parent && _removeFromParent(child);\n  child._start = _roundPrecise((_isNumber(position) ? position : position || timeline !== _globalTimeline ? _parsePosition(timeline, position, child) : timeline._time) + child._delay);\n  child._end = _roundPrecise(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));\n\n  _addLinkedListItem(timeline, child, \"_first\", \"_last\", timeline._sort ? \"_start\" : 0);\n\n  _isFromOrFromStart(child) || (timeline._recent = child);\n  skipChecks || _postAddChecks(timeline, child);\n  timeline._ts < 0 && _alignPlayhead(timeline, timeline._tTime); // if the timeline is reversed and the new child makes it longer, we may need to adjust the parent's _start (push it back)\n\n  return timeline;\n},\n    _scrollTrigger = function _scrollTrigger(animation, trigger) {\n  return (_globals.ScrollTrigger || _missingPlugin(\"scrollTrigger\", trigger)) && _globals.ScrollTrigger.create(trigger, animation);\n},\n    _attemptInitTween = function _attemptInitTween(tween, time, force, suppressEvents, tTime) {\n  _initTween(tween, time, tTime);\n\n  if (!tween._initted) {\n    return 1;\n  }\n\n  if (!force && tween._pt && !_reverting && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {\n    _lazyTweens.push(tween);\n\n    tween._lazy = [tTime, suppressEvents];\n    return 1;\n  }\n},\n    _parentPlayheadIsBeforeStart = function _parentPlayheadIsBeforeStart(_ref) {\n  var parent = _ref.parent;\n  return parent && parent._ts && parent._initted && !parent._lock && (parent.rawTime() < 0 || _parentPlayheadIsBeforeStart(parent));\n},\n    // check parent's _lock because when a timeline repeats/yoyos and does its artificial wrapping, we shouldn't force the ratio back to 0\n_isFromOrFromStart = function _isFromOrFromStart(_ref2) {\n  var data = _ref2.data;\n  return data === \"isFromStart\" || data === \"isStart\";\n},\n    _renderZeroDurationTween = function _renderZeroDurationTween(tween, totalTime, suppressEvents, force) {\n  var prevRatio = tween.ratio,\n      ratio = totalTime < 0 || !totalTime && (!tween._start && _parentPlayheadIsBeforeStart(tween) && !(!tween._initted && _isFromOrFromStart(tween)) || (tween._ts < 0 || tween._dp._ts < 0) && !_isFromOrFromStart(tween)) ? 0 : 1,\n      // if the tween or its parent is reversed and the totalTime is 0, we should go to a ratio of 0. Edge case: if a from() or fromTo() stagger tween is placed later in a timeline, the \"startAt\" zero-duration tween could initially render at a time when the parent timeline's playhead is technically BEFORE where this tween is, so make sure that any \"from\" and \"fromTo\" startAt tweens are rendered the first time at a ratio of 1.\n  repeatDelay = tween._rDelay,\n      tTime = 0,\n      pt,\n      iteration,\n      prevIteration;\n\n  if (repeatDelay && tween._repeat) {\n    // in case there's a zero-duration tween that has a repeat with a repeatDelay\n    tTime = _clamp(0, tween._tDur, totalTime);\n    iteration = _animationCycle(tTime, repeatDelay);\n    tween._yoyo && iteration & 1 && (ratio = 1 - ratio);\n\n    if (iteration !== _animationCycle(tween._tTime, repeatDelay)) {\n      // if iteration changed\n      prevRatio = 1 - ratio;\n      tween.vars.repeatRefresh && tween._initted && tween.invalidate();\n    }\n  }\n\n  if (ratio !== prevRatio || _reverting || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {\n    if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents, tTime)) {\n      // if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\n      return;\n    }\n\n    prevIteration = tween._zTime;\n    tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0); // when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n    suppressEvents || (suppressEvents = totalTime && !prevIteration); // if it was rendered previously at exactly 0 (_zTime) and now the playhead is moving away, DON'T fire callbacks otherwise they'll seem like duplicates.\n\n    tween.ratio = ratio;\n    tween._from && (ratio = 1 - ratio);\n    tween._time = 0;\n    tween._tTime = tTime;\n    pt = tween._pt;\n\n    while (pt) {\n      pt.r(ratio, pt.d);\n      pt = pt._next;\n    }\n\n    totalTime < 0 && _rewindStartAt(tween, totalTime, suppressEvents, true);\n    tween._onUpdate && !suppressEvents && _callback(tween, \"onUpdate\");\n    tTime && tween._repeat && !suppressEvents && tween.parent && _callback(tween, \"onRepeat\");\n\n    if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {\n      ratio && _removeFromParent(tween, 1);\n\n      if (!suppressEvents && !_reverting) {\n        _callback(tween, ratio ? \"onComplete\" : \"onReverseComplete\", true);\n\n        tween._prom && tween._prom();\n      }\n    }\n  } else if (!tween._zTime) {\n    tween._zTime = totalTime;\n  }\n},\n    _findNextPauseTween = function _findNextPauseTween(animation, prevTime, time) {\n  var child;\n\n  if (time > prevTime) {\n    child = animation._first;\n\n    while (child && child._start <= time) {\n      if (child.data === \"isPause\" && child._start > prevTime) {\n        return child;\n      }\n\n      child = child._next;\n    }\n  } else {\n    child = animation._last;\n\n    while (child && child._start >= time) {\n      if (child.data === \"isPause\" && child._start < prevTime) {\n        return child;\n      }\n\n      child = child._prev;\n    }\n  }\n},\n    _setDuration = function _setDuration(animation, duration, skipUncache, leavePlayhead) {\n  var repeat = animation._repeat,\n      dur = _roundPrecise(duration) || 0,\n      totalProgress = animation._tTime / animation._tDur;\n  totalProgress && !leavePlayhead && (animation._time *= dur / animation._dur);\n  animation._dur = dur;\n  animation._tDur = !repeat ? dur : repeat < 0 ? 1e10 : _roundPrecise(dur * (repeat + 1) + animation._rDelay * repeat);\n  totalProgress > 0 && !leavePlayhead && _alignPlayhead(animation, animation._tTime = animation._tDur * totalProgress);\n  animation.parent && _setEnd(animation);\n  skipUncache || _uncache(animation.parent, animation);\n  return animation;\n},\n    _onUpdateTotalDuration = function _onUpdateTotalDuration(animation) {\n  return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);\n},\n    _zeroPosition = {\n  _start: 0,\n  endTime: _emptyFunc,\n  totalDuration: _emptyFunc\n},\n    _parsePosition = function _parsePosition(animation, position, percentAnimation) {\n  var labels = animation.labels,\n      recent = animation._recent || _zeroPosition,\n      clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur,\n      //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\n  i,\n      offset,\n      isPercent;\n\n  if (_isString(position) && (isNaN(position) || position in labels)) {\n    //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\n    offset = position.charAt(0);\n    isPercent = position.substr(-1) === \"%\";\n    i = position.indexOf(\"=\");\n\n    if (offset === \"<\" || offset === \">\") {\n      i >= 0 && (position = position.replace(/=/, \"\"));\n      return (offset === \"<\" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0) * (isPercent ? (i < 0 ? recent : percentAnimation).totalDuration() / 100 : 1);\n    }\n\n    if (i < 0) {\n      position in labels || (labels[position] = clippedDuration);\n      return labels[position];\n    }\n\n    offset = parseFloat(position.charAt(i - 1) + position.substr(i + 1));\n\n    if (isPercent && percentAnimation) {\n      offset = offset / 100 * (_isArray(percentAnimation) ? percentAnimation[0] : percentAnimation).totalDuration();\n    }\n\n    return i > 1 ? _parsePosition(animation, position.substr(0, i - 1), percentAnimation) + offset : clippedDuration + offset;\n  }\n\n  return position == null ? clippedDuration : +position;\n},\n    _createTweenType = function _createTweenType(type, params, timeline) {\n  var isLegacy = _isNumber(params[1]),\n      varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1),\n      vars = params[varsIndex],\n      irVars,\n      parent;\n\n  isLegacy && (vars.duration = params[1]);\n  vars.parent = timeline;\n\n  if (type) {\n    irVars = vars;\n    parent = timeline;\n\n    while (parent && !(\"immediateRender\" in irVars)) {\n      // inheritance hasn't happened yet, but someone may have set a default in an ancestor timeline. We could do vars.immediateRender = _isNotFalse(_inheritDefaults(vars).immediateRender) but that'd exact a slight performance penalty because _inheritDefaults() also runs in the Tween constructor. We're paying a small kb price here to gain speed.\n      irVars = parent.vars.defaults || {};\n      parent = _isNotFalse(parent.vars.inherit) && parent.parent;\n    }\n\n    vars.immediateRender = _isNotFalse(irVars.immediateRender);\n    type < 2 ? vars.runBackwards = 1 : vars.startAt = params[varsIndex - 1]; // \"from\" vars\n  }\n\n  return new Tween(params[0], vars, params[varsIndex + 1]);\n},\n    _conditionalReturn = function _conditionalReturn(value, func) {\n  return value || value === 0 ? func(value) : func;\n},\n    _clamp = function _clamp(min, max, value) {\n  return value < min ? min : value > max ? max : value;\n},\n    getUnit = function getUnit(value, v) {\n  return !_isString(value) || !(v = _unitExp.exec(value)) ? \"\" : v[1];\n},\n    // note: protect against padded numbers as strings, like \"100.100\". That shouldn't return \"00\" as the unit. If it's numeric, return no unit.\nclamp = function clamp(min, max, value) {\n  return _conditionalReturn(value, function (v) {\n    return _clamp(min, max, v);\n  });\n},\n    _slice = [].slice,\n    _isArrayLike = function _isArrayLike(value, nonEmpty) {\n  return value && _isObject(value) && \"length\" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;\n},\n    _flatten = function _flatten(ar, leaveStrings, accumulator) {\n  if (accumulator === void 0) {\n    accumulator = [];\n  }\n\n  return ar.forEach(function (value) {\n    var _accumulator;\n\n    return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);\n  }) || accumulator;\n},\n    //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\ntoArray = function toArray(value, scope, leaveStrings) {\n  return _context && !scope && _context.selector ? _context.selector(value) : _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call((scope || _doc).querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];\n},\n    selector = function selector(value) {\n  value = toArray(value)[0] || _warn(\"Invalid scope\") || {};\n  return function (v) {\n    var el = value.current || value.nativeElement || value;\n    return toArray(v, el.querySelectorAll ? el : el === value ? _warn(\"Invalid scope\") || _doc.createElement(\"div\") : value);\n  };\n},\n    shuffle = function shuffle(a) {\n  return a.sort(function () {\n    return .5 - Math.random();\n  });\n},\n    // alternative that's a bit faster and more reliably diverse but bigger:   for (let j, v, i = a.length; i; j = Math.floor(Math.random() * i), v = a[--i], a[i] = a[j], a[j] = v); return a;\n//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\ndistribute = function distribute(v) {\n  if (_isFunction(v)) {\n    return v;\n  }\n\n  var vars = _isObject(v) ? v : {\n    each: v\n  },\n      //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n  ease = _parseEase(vars.ease),\n      from = vars.from || 0,\n      base = parseFloat(vars.base) || 0,\n      cache = {},\n      isDecimal = from > 0 && from < 1,\n      ratios = isNaN(from) || isDecimal,\n      axis = vars.axis,\n      ratioX = from,\n      ratioY = from;\n\n  if (_isString(from)) {\n    ratioX = ratioY = {\n      center: .5,\n      edges: .5,\n      end: 1\n    }[from] || 0;\n  } else if (!isDecimal && ratios) {\n    ratioX = from[0];\n    ratioY = from[1];\n  }\n\n  return function (i, target, a) {\n    var l = (a || vars).length,\n        distances = cache[l],\n        originX,\n        originY,\n        x,\n        y,\n        d,\n        j,\n        max,\n        min,\n        wrapAt;\n\n    if (!distances) {\n      wrapAt = vars.grid === \"auto\" ? 0 : (vars.grid || [1, _bigNum])[1];\n\n      if (!wrapAt) {\n        max = -_bigNum;\n\n        while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {}\n\n        wrapAt--;\n      }\n\n      distances = cache[l] = [];\n      originX = ratios ? Math.min(wrapAt, l) * ratioX - .5 : from % wrapAt;\n      originY = wrapAt === _bigNum ? 0 : ratios ? l * ratioY / wrapAt - .5 : from / wrapAt | 0;\n      max = 0;\n      min = _bigNum;\n\n      for (j = 0; j < l; j++) {\n        x = j % wrapAt - originX;\n        y = originY - (j / wrapAt | 0);\n        distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === \"y\" ? y : x);\n        d > max && (max = d);\n        d < min && (min = d);\n      }\n\n      from === \"random\" && shuffle(distances);\n      distances.max = max - min;\n      distances.min = min;\n      distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === \"y\" ? l / wrapAt : wrapAt) || 0) * (from === \"edges\" ? -1 : 1);\n      distances.b = l < 0 ? base - l : base;\n      distances.u = getUnit(vars.amount || vars.each) || 0; //unit\n\n      ease = ease && l < 0 ? _invertEase(ease) : ease;\n    }\n\n    l = (distances[i] - distances.min) / distances.max || 0;\n    return _roundPrecise(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u; //round in order to work around floating point errors\n  };\n},\n    _roundModifier = function _roundModifier(v) {\n  //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\n  var p = Math.pow(10, ((v + \"\").split(\".\")[1] || \"\").length); //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed())\n\n  return function (raw) {\n    var n = _roundPrecise(Math.round(parseFloat(raw) / v) * v * p);\n\n    return (n - n % 1) / p + (_isNumber(raw) ? 0 : getUnit(raw)); // n - n % 1 replaces Math.floor() in order to handle negative values properly. For example, Math.floor(-150.00000000000003) is 151!\n  };\n},\n    snap = function snap(snapTo, value) {\n  var isArray = _isArray(snapTo),\n      radius,\n      is2D;\n\n  if (!isArray && _isObject(snapTo)) {\n    radius = isArray = snapTo.radius || _bigNum;\n\n    if (snapTo.values) {\n      snapTo = toArray(snapTo.values);\n\n      if (is2D = !_isNumber(snapTo[0])) {\n        radius *= radius; //performance optimization so we don't have to Math.sqrt() in the loop.\n      }\n    } else {\n      snapTo = _roundModifier(snapTo.increment);\n    }\n  }\n\n  return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function (raw) {\n    is2D = snapTo(raw);\n    return Math.abs(is2D - raw) <= radius ? is2D : raw;\n  } : function (raw) {\n    var x = parseFloat(is2D ? raw.x : raw),\n        y = parseFloat(is2D ? raw.y : 0),\n        min = _bigNum,\n        closest = 0,\n        i = snapTo.length,\n        dx,\n        dy;\n\n    while (i--) {\n      if (is2D) {\n        dx = snapTo[i].x - x;\n        dy = snapTo[i].y - y;\n        dx = dx * dx + dy * dy;\n      } else {\n        dx = Math.abs(snapTo[i] - x);\n      }\n\n      if (dx < min) {\n        min = dx;\n        closest = i;\n      }\n    }\n\n    closest = !radius || min <= radius ? snapTo[closest] : raw;\n    return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);\n  });\n},\n    random = function random(min, max, roundingIncrement, returnFunction) {\n  return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function () {\n    return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + \"\").length - 2) : 1) && Math.floor(Math.round((min - roundingIncrement / 2 + Math.random() * (max - min + roundingIncrement * .99)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;\n  });\n},\n    pipe = function pipe() {\n  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {\n    functions[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    return functions.reduce(function (v, f) {\n      return f(v);\n    }, value);\n  };\n},\n    unitize = function unitize(func, unit) {\n  return function (value) {\n    return func(parseFloat(value)) + (unit || getUnit(value));\n  };\n},\n    normalize = function normalize(min, max, value) {\n  return mapRange(min, max, 0, 1, value);\n},\n    _wrapArray = function _wrapArray(a, wrapper, value) {\n  return _conditionalReturn(value, function (index) {\n    return a[~~wrapper(index)];\n  });\n},\n    wrap = function wrap(min, max, value) {\n  // NOTE: wrap() CANNOT be an arrow function! A very odd compiling bug causes problems (unrelated to GSAP).\n  var range = max - min;\n  return _isArray(min) ? _wrapArray(min, wrap(0, min.length), max) : _conditionalReturn(value, function (value) {\n    return (range + (value - min) % range) % range + min;\n  });\n},\n    wrapYoyo = function wrapYoyo(min, max, value) {\n  var range = max - min,\n      total = range * 2;\n  return _isArray(min) ? _wrapArray(min, wrapYoyo(0, min.length - 1), max) : _conditionalReturn(value, function (value) {\n    value = (total + (value - min) % total) % total || 0;\n    return min + (value > range ? total - value : value);\n  });\n},\n    _replaceRandom = function _replaceRandom(value) {\n  //replaces all occurrences of random(...) in a string with the calculated random value. can be a range like random(-100, 100, 5) or an array like random([0, 100, 500])\n  var prev = 0,\n      s = \"\",\n      i,\n      nums,\n      end,\n      isArray;\n\n  while (~(i = value.indexOf(\"random(\", prev))) {\n    end = value.indexOf(\")\", i);\n    isArray = value.charAt(i + 7) === \"[\";\n    nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);\n    s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], isArray ? 0 : +nums[1], +nums[2] || 1e-5);\n    prev = end + 1;\n  }\n\n  return s + value.substr(prev, value.length - prev);\n},\n    mapRange = function mapRange(inMin, inMax, outMin, outMax, value) {\n  var inRange = inMax - inMin,\n      outRange = outMax - outMin;\n  return _conditionalReturn(value, function (value) {\n    return outMin + ((value - inMin) / inRange * outRange || 0);\n  });\n},\n    interpolate = function interpolate(start, end, progress, mutate) {\n  var func = isNaN(start + end) ? 0 : function (p) {\n    return (1 - p) * start + p * end;\n  };\n\n  if (!func) {\n    var isString = _isString(start),\n        master = {},\n        p,\n        i,\n        interpolators,\n        l,\n        il;\n\n    progress === true && (mutate = 1) && (progress = null);\n\n    if (isString) {\n      start = {\n        p: start\n      };\n      end = {\n        p: end\n      };\n    } else if (_isArray(start) && !_isArray(end)) {\n      interpolators = [];\n      l = start.length;\n      il = l - 2;\n\n      for (i = 1; i < l; i++) {\n        interpolators.push(interpolate(start[i - 1], start[i])); //build the interpolators up front as a performance optimization so that when the function is called many times, it can just reuse them.\n      }\n\n      l--;\n\n      func = function func(p) {\n        p *= l;\n        var i = Math.min(il, ~~p);\n        return interpolators[i](p - i);\n      };\n\n      progress = end;\n    } else if (!mutate) {\n      start = _merge(_isArray(start) ? [] : {}, start);\n    }\n\n    if (!interpolators) {\n      for (p in end) {\n        _addPropTween.call(master, start, p, \"get\", end[p]);\n      }\n\n      func = function func(p) {\n        return _renderPropTweens(p, master) || (isString ? start.p : start);\n      };\n    }\n  }\n\n  return _conditionalReturn(progress, func);\n},\n    _getLabelInDirection = function _getLabelInDirection(timeline, fromTime, backward) {\n  //used for nextLabel() and previousLabel()\n  var labels = timeline.labels,\n      min = _bigNum,\n      p,\n      distance,\n      label;\n\n  for (p in labels) {\n    distance = labels[p] - fromTime;\n\n    if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {\n      label = p;\n      min = distance;\n    }\n  }\n\n  return label;\n},\n    _callback = function _callback(animation, type, executeLazyFirst) {\n  var v = animation.vars,\n      callback = v[type],\n      prevContext = _context,\n      context = animation._ctx,\n      params,\n      scope,\n      result;\n\n  if (!callback) {\n    return;\n  }\n\n  params = v[type + \"Params\"];\n  scope = v.callbackScope || animation;\n  executeLazyFirst && _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n\n  context && (_context = context);\n  result = params ? callback.apply(scope, params) : callback.call(scope);\n  _context = prevContext;\n  return result;\n},\n    _interrupt = function _interrupt(animation) {\n  _removeFromParent(animation);\n\n  animation.scrollTrigger && animation.scrollTrigger.kill(!!_reverting);\n  animation.progress() < 1 && _callback(animation, \"onInterrupt\");\n  return animation;\n},\n    _quickTween,\n    _registerPluginQueue = [],\n    _createPlugin = function _createPlugin(config) {\n  if (!_windowExists()) {\n    _registerPluginQueue.push(config);\n\n    return;\n  }\n\n  config = !config.name && config[\"default\"] || config; //UMD packaging wraps things oddly, so for example MotionPathHelper becomes {MotionPathHelper:MotionPathHelper, default:MotionPathHelper}.\n\n  var name = config.name,\n      isFunc = _isFunction(config),\n      Plugin = name && !isFunc && config.init ? function () {\n    this._props = [];\n  } : config,\n      //in case someone passes in an object that's not a plugin, like CustomEase\n  instanceDefaults = {\n    init: _emptyFunc,\n    render: _renderPropTweens,\n    add: _addPropTween,\n    kill: _killPropTweensOf,\n    modifier: _addPluginModifier,\n    rawVars: 0\n  },\n      statics = {\n    targetTest: 0,\n    get: 0,\n    getSetter: _getSetter,\n    aliases: {},\n    register: 0\n  };\n\n  _wake();\n\n  if (config !== Plugin) {\n    if (_plugins[name]) {\n      return;\n    }\n\n    _setDefaults(Plugin, _setDefaults(_copyExcluding(config, instanceDefaults), statics)); //static methods\n\n\n    _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config, statics))); //instance methods\n\n\n    _plugins[Plugin.prop = name] = Plugin;\n\n    if (config.targetTest) {\n      _harnessPlugins.push(Plugin);\n\n      _reservedProps[name] = 1;\n    }\n\n    name = (name === \"css\" ? \"CSS\" : name.charAt(0).toUpperCase() + name.substr(1)) + \"Plugin\"; //for the global name. \"motionPath\" should become MotionPathPlugin\n  }\n\n  _addGlobal(name, Plugin);\n\n  config.register && config.register(gsap, Plugin, PropTween);\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * COLORS\n * --------------------------------------------------------------------------------------\n */\n_255 = 255,\n    _colorLookup = {\n  aqua: [0, _255, _255],\n  lime: [0, _255, 0],\n  silver: [192, 192, 192],\n  black: [0, 0, 0],\n  maroon: [128, 0, 0],\n  teal: [0, 128, 128],\n  blue: [0, 0, _255],\n  navy: [0, 0, 128],\n  white: [_255, _255, _255],\n  olive: [128, 128, 0],\n  yellow: [_255, _255, 0],\n  orange: [_255, 165, 0],\n  gray: [128, 128, 128],\n  purple: [128, 0, 128],\n  green: [0, 128, 0],\n  red: [_255, 0, 0],\n  pink: [_255, 192, 203],\n  cyan: [0, _255, _255],\n  transparent: [_255, _255, _255, 0]\n},\n    // possible future idea to replace the hard-coded color name values - put this in the ticker.wake() where we set the _doc:\n// let ctx = _doc.createElement(\"canvas\").getContext(\"2d\");\n// _forEachName(\"aqua,lime,silver,black,maroon,teal,blue,navy,white,olive,yellow,orange,gray,purple,green,red,pink,cyan\", color => {ctx.fillStyle = color; _colorLookup[color] = splitColor(ctx.fillStyle)});\n_hue = function _hue(h, m1, m2) {\n  h += h < 0 ? 1 : h > 1 ? -1 : 0;\n  return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + .5 | 0;\n},\n    splitColor = function splitColor(v, toHSL, forceAlpha) {\n  var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0,\n      r,\n      g,\n      b,\n      h,\n      s,\n      l,\n      max,\n      min,\n      d,\n      wasHSL;\n\n  if (!a) {\n    if (v.substr(-1) === \",\") {\n      //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\n      v = v.substr(0, v.length - 1);\n    }\n\n    if (_colorLookup[v]) {\n      a = _colorLookup[v];\n    } else if (v.charAt(0) === \"#\") {\n      if (v.length < 6) {\n        //for shorthand like #9F0 or #9F0F (could have alpha)\n        r = v.charAt(1);\n        g = v.charAt(2);\n        b = v.charAt(3);\n        v = \"#\" + r + r + g + g + b + b + (v.length === 5 ? v.charAt(4) + v.charAt(4) : \"\");\n      }\n\n      if (v.length === 9) {\n        // hex with alpha, like #fd5e53ff\n        a = parseInt(v.substr(1, 6), 16);\n        return [a >> 16, a >> 8 & _255, a & _255, parseInt(v.substr(7), 16) / 255];\n      }\n\n      v = parseInt(v.substr(1), 16);\n      a = [v >> 16, v >> 8 & _255, v & _255];\n    } else if (v.substr(0, 3) === \"hsl\") {\n      a = wasHSL = v.match(_strictNumExp);\n\n      if (!toHSL) {\n        h = +a[0] % 360 / 360;\n        s = +a[1] / 100;\n        l = +a[2] / 100;\n        g = l <= .5 ? l * (s + 1) : l + s - l * s;\n        r = l * 2 - g;\n        a.length > 3 && (a[3] *= 1); //cast as number\n\n        a[0] = _hue(h + 1 / 3, r, g);\n        a[1] = _hue(h, r, g);\n        a[2] = _hue(h - 1 / 3, r, g);\n      } else if (~v.indexOf(\"=\")) {\n        //if relative values are found, just return the raw strings with the relative prefixes in place.\n        a = v.match(_numExp);\n        forceAlpha && a.length < 4 && (a[3] = 1);\n        return a;\n      }\n    } else {\n      a = v.match(_strictNumExp) || _colorLookup.transparent;\n    }\n\n    a = a.map(Number);\n  }\n\n  if (toHSL && !wasHSL) {\n    r = a[0] / _255;\n    g = a[1] / _255;\n    b = a[2] / _255;\n    max = Math.max(r, g, b);\n    min = Math.min(r, g, b);\n    l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\n      h *= 60;\n    }\n\n    a[0] = ~~(h + .5);\n    a[1] = ~~(s * 100 + .5);\n    a[2] = ~~(l * 100 + .5);\n  }\n\n  forceAlpha && a.length < 4 && (a[3] = 1);\n  return a;\n},\n    _colorOrderData = function _colorOrderData(v) {\n  // strips out the colors from the string, finds all the numeric slots (with units) and returns an array of those. The Array also has a \"c\" property which is an Array of the index values where the colors belong. This is to help work around issues where there's a mis-matched order of color/numeric data like drop-shadow(#f00 0px 1px 2px) and drop-shadow(0x 1px 2px #f00). This is basically a helper function used in _formatColors()\n  var values = [],\n      c = [],\n      i = -1;\n  v.split(_colorExp).forEach(function (v) {\n    var a = v.match(_numWithUnitExp) || [];\n    values.push.apply(values, a);\n    c.push(i += a.length + 1);\n  });\n  values.c = c;\n  return values;\n},\n    _formatColors = function _formatColors(s, toHSL, orderMatchData) {\n  var result = \"\",\n      colors = (s + result).match(_colorExp),\n      type = toHSL ? \"hsla(\" : \"rgba(\",\n      i = 0,\n      c,\n      shell,\n      d,\n      l;\n\n  if (!colors) {\n    return s;\n  }\n\n  colors = colors.map(function (color) {\n    return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : color.join(\",\")) + \")\";\n  });\n\n  if (orderMatchData) {\n    d = _colorOrderData(s);\n    c = orderMatchData.c;\n\n    if (c.join(result) !== d.c.join(result)) {\n      shell = s.replace(_colorExp, \"1\").split(_numWithUnitExp);\n      l = shell.length - 1;\n\n      for (; i < l; i++) {\n        result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + \"0,0,0,0)\" : (d.length ? d : colors.length ? colors : orderMatchData).shift());\n      }\n    }\n  }\n\n  if (!shell) {\n    shell = s.split(_colorExp);\n    l = shell.length - 1;\n\n    for (; i < l; i++) {\n      result += shell[i] + colors[i];\n    }\n  }\n\n  return result + shell[l];\n},\n    _colorExp = function () {\n  var s = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3,4}){1,2}\\\\b\",\n      //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.,\n  p;\n\n  for (p in _colorLookup) {\n    s += \"|\" + p + \"\\\\b\";\n  }\n\n  return new RegExp(s + \")\", \"gi\");\n}(),\n    _hslExp = /hsl[a]?\\(/,\n    _colorStringFilter = function _colorStringFilter(a) {\n  var combined = a.join(\" \"),\n      toHSL;\n  _colorExp.lastIndex = 0;\n\n  if (_colorExp.test(combined)) {\n    toHSL = _hslExp.test(combined);\n    a[1] = _formatColors(a[1], toHSL);\n    a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1])); // make sure the order of numbers/colors match with the END value.\n\n    return true;\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TICKER\n * --------------------------------------------------------------------------------------\n */\n_tickerActive,\n    _ticker = function () {\n  var _getTime = Date.now,\n      _lagThreshold = 500,\n      _adjustedLag = 33,\n      _startTime = _getTime(),\n      _lastUpdate = _startTime,\n      _gap = 1000 / 240,\n      _nextTime = _gap,\n      _listeners = [],\n      _id,\n      _req,\n      _raf,\n      _self,\n      _delta,\n      _i,\n      _tick = function _tick(v) {\n    var elapsed = _getTime() - _lastUpdate,\n        manual = v === true,\n        overlap,\n        dispatch,\n        time,\n        frame;\n\n    elapsed > _lagThreshold && (_startTime += elapsed - _adjustedLag);\n    _lastUpdate += elapsed;\n    time = _lastUpdate - _startTime;\n    overlap = time - _nextTime;\n\n    if (overlap > 0 || manual) {\n      frame = ++_self.frame;\n      _delta = time - _self.time * 1000;\n      _self.time = time = time / 1000;\n      _nextTime += overlap + (overlap >= _gap ? 4 : _gap - overlap);\n      dispatch = 1;\n    }\n\n    manual || (_id = _req(_tick)); //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\n\n    if (dispatch) {\n      for (_i = 0; _i < _listeners.length; _i++) {\n        // use _i and check _listeners.length instead of a variable because a listener could get removed during the loop, and if that happens to an element less than the current index, it'd throw things off in the loop.\n        _listeners[_i](time, _delta, frame, v);\n      }\n    }\n  };\n\n  _self = {\n    time: 0,\n    frame: 0,\n    tick: function tick() {\n      _tick(true);\n    },\n    deltaRatio: function deltaRatio(fps) {\n      return _delta / (1000 / (fps || 60));\n    },\n    wake: function wake() {\n      if (_coreReady) {\n        if (!_coreInitted && _windowExists()) {\n          _win = _coreInitted = window;\n          _doc = _win.document || {};\n          _globals.gsap = gsap;\n          (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);\n\n          _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});\n\n          _raf = _win.requestAnimationFrame;\n\n          _registerPluginQueue.forEach(_createPlugin);\n        }\n\n        _id && _self.sleep();\n\n        _req = _raf || function (f) {\n          return setTimeout(f, _nextTime - _self.time * 1000 + 1 | 0);\n        };\n\n        _tickerActive = 1;\n\n        _tick(2);\n      }\n    },\n    sleep: function sleep() {\n      (_raf ? _win.cancelAnimationFrame : clearTimeout)(_id);\n      _tickerActive = 0;\n      _req = _emptyFunc;\n    },\n    lagSmoothing: function lagSmoothing(threshold, adjustedLag) {\n      _lagThreshold = threshold || Infinity; // zero should be interpreted as basically unlimited\n\n      _adjustedLag = Math.min(adjustedLag || 33, _lagThreshold);\n    },\n    fps: function fps(_fps) {\n      _gap = 1000 / (_fps || 240);\n      _nextTime = _self.time * 1000 + _gap;\n    },\n    add: function add(callback, once, prioritize) {\n      var func = once ? function (t, d, f, v) {\n        callback(t, d, f, v);\n\n        _self.remove(func);\n      } : callback;\n\n      _self.remove(callback);\n\n      _listeners[prioritize ? \"unshift\" : \"push\"](func);\n\n      _wake();\n\n      return func;\n    },\n    remove: function remove(callback, i) {\n      ~(i = _listeners.indexOf(callback)) && _listeners.splice(i, 1) && _i >= i && _i--;\n    },\n    _listeners: _listeners\n  };\n  return _self;\n}(),\n    _wake = function _wake() {\n  return !_tickerActive && _ticker.wake();\n},\n    //also ensures the core classes are initialized.\n\n/*\n* -------------------------------------------------\n* EASING\n* -------------------------------------------------\n*/\n_easeMap = {},\n    _customEaseExp = /^[\\d.\\-M][\\d.\\-,\\s]/,\n    _quotesExp = /[\"']/g,\n    _parseObjectInString = function _parseObjectInString(value) {\n  //takes a string like \"{wiggles:10, type:anticipate})\" and turns it into a real object. Notice it ends in \")\" and includes the {} wrappers. This is because we only use this function for parsing ease configs and prioritized optimization rather than reusability.\n  var obj = {},\n      split = value.substr(1, value.length - 3).split(\":\"),\n      key = split[0],\n      i = 1,\n      l = split.length,\n      index,\n      val,\n      parsedVal;\n\n  for (; i < l; i++) {\n    val = split[i];\n    index = i !== l - 1 ? val.lastIndexOf(\",\") : val.length;\n    parsedVal = val.substr(0, index);\n    obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, \"\").trim() : +parsedVal;\n    key = val.substr(index + 1).trim();\n  }\n\n  return obj;\n},\n    _valueInParentheses = function _valueInParentheses(value) {\n  var open = value.indexOf(\"(\") + 1,\n      close = value.indexOf(\")\"),\n      nested = value.indexOf(\"(\", open);\n  return value.substring(open, ~nested && nested < close ? value.indexOf(\")\", close + 1) : close);\n},\n    _configEaseFromString = function _configEaseFromString(name) {\n  //name can be a string like \"elastic.out(1,0.5)\", and pass in _easeMap as obj and it'll parse it out and call the actual function like _easeMap.Elastic.easeOut.config(1,0.5). It will also parse custom ease strings as long as CustomEase is loaded and registered (internally as _easeMap._CE).\n  var split = (name + \"\").split(\"(\"),\n      ease = _easeMap[split[0]];\n  return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf(\"{\") ? [_parseObjectInString(split[1])] : _valueInParentheses(name).split(\",\").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE(\"\", name) : ease;\n},\n    _invertEase = function _invertEase(ease) {\n  return function (p) {\n    return 1 - ease(1 - p);\n  };\n},\n    // allow yoyoEase to be set in children and have those affected when the parent/ancestor timeline yoyos.\n_propagateYoyoEase = function _propagateYoyoEase(timeline, isYoyo) {\n  var child = timeline._first,\n      ease;\n\n  while (child) {\n    if (child instanceof Timeline) {\n      _propagateYoyoEase(child, isYoyo);\n    } else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {\n      if (child.timeline) {\n        _propagateYoyoEase(child.timeline, isYoyo);\n      } else {\n        ease = child._ease;\n        child._ease = child._yEase;\n        child._yEase = ease;\n        child._yoyo = isYoyo;\n      }\n    }\n\n    child = child._next;\n  }\n},\n    _parseEase = function _parseEase(ease, defaultEase) {\n  return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;\n},\n    _insertEase = function _insertEase(names, easeIn, easeOut, easeInOut) {\n  if (easeOut === void 0) {\n    easeOut = function easeOut(p) {\n      return 1 - easeIn(1 - p);\n    };\n  }\n\n  if (easeInOut === void 0) {\n    easeInOut = function easeInOut(p) {\n      return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;\n    };\n  }\n\n  var ease = {\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut\n  },\n      lowercaseName;\n\n  _forEachName(names, function (name) {\n    _easeMap[name] = _globals[name] = ease;\n    _easeMap[lowercaseName = name.toLowerCase()] = easeOut;\n\n    for (var p in ease) {\n      _easeMap[lowercaseName + (p === \"easeIn\" ? \".in\" : p === \"easeOut\" ? \".out\" : \".inOut\")] = _easeMap[name + \".\" + p] = ease[p];\n    }\n  });\n\n  return ease;\n},\n    _easeInOutFromOut = function _easeInOutFromOut(easeOut) {\n  return function (p) {\n    return p < .5 ? (1 - easeOut(1 - p * 2)) / 2 : .5 + easeOut((p - .5) * 2) / 2;\n  };\n},\n    _configElastic = function _configElastic(type, amplitude, period) {\n  var p1 = amplitude >= 1 ? amplitude : 1,\n      //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\n  p2 = (period || (type ? .3 : .45)) / (amplitude < 1 ? amplitude : 1),\n      p3 = p2 / _2PI * (Math.asin(1 / p1) || 0),\n      easeOut = function easeOut(p) {\n    return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  p2 = _2PI / p2; //precalculate to optimize\n\n  ease.config = function (amplitude, period) {\n    return _configElastic(type, amplitude, period);\n  };\n\n  return ease;\n},\n    _configBack = function _configBack(type, overshoot) {\n  if (overshoot === void 0) {\n    overshoot = 1.70158;\n  }\n\n  var easeOut = function easeOut(p) {\n    return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  ease.config = function (overshoot) {\n    return _configBack(type, overshoot);\n  };\n\n  return ease;\n}; // a cheaper (kb and cpu) but more mild way to get a parameterized weighted ease by feeding in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEase = ratio => {\n// \tlet y = 0.5 + ratio / 2;\n// \treturn p => (2 * (1 - p) * p * y + p * p);\n// },\n// a stronger (but more expensive kb/cpu) parameterized weighted ease that lets you feed in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEaseStrong = ratio => {\n// \tratio = .5 + ratio / 2;\n// \tlet o = 1 / 3 * (ratio < .5 ? ratio : 1 - ratio),\n// \t\tb = ratio - o,\n// \t\tc = ratio + o;\n// \treturn p => p === 1 ? p : 3 * b * (1 - p) * (1 - p) * p + 3 * c * (1 - p) * p * p + p * p * p;\n// };\n\n\n_forEachName(\"Linear,Quad,Cubic,Quart,Quint,Strong\", function (name, i) {\n  var power = i < 5 ? i + 1 : i;\n\n  _insertEase(name + \",Power\" + (power - 1), i ? function (p) {\n    return Math.pow(p, power);\n  } : function (p) {\n    return p;\n  }, function (p) {\n    return 1 - Math.pow(1 - p, power);\n  }, function (p) {\n    return p < .5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;\n  });\n});\n\n_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;\n\n_insertEase(\"Elastic\", _configElastic(\"in\"), _configElastic(\"out\"), _configElastic());\n\n(function (n, c) {\n  var n1 = 1 / c,\n      n2 = 2 * n1,\n      n3 = 2.5 * n1,\n      easeOut = function easeOut(p) {\n    return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + .75 : p < n3 ? n * (p -= 2.25 / c) * p + .9375 : n * Math.pow(p - 2.625 / c, 2) + .984375;\n  };\n\n  _insertEase(\"Bounce\", function (p) {\n    return 1 - easeOut(1 - p);\n  }, easeOut);\n})(7.5625, 2.75);\n\n_insertEase(\"Expo\", function (p) {\n  return p ? Math.pow(2, 10 * (p - 1)) : 0;\n});\n\n_insertEase(\"Circ\", function (p) {\n  return -(_sqrt(1 - p * p) - 1);\n});\n\n_insertEase(\"Sine\", function (p) {\n  return p === 1 ? 1 : -_cos(p * _HALF_PI) + 1;\n});\n\n_insertEase(\"Back\", _configBack(\"in\"), _configBack(\"out\"), _configBack());\n\n_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {\n  config: function config(steps, immediateStart) {\n    if (steps === void 0) {\n      steps = 1;\n    }\n\n    var p1 = 1 / steps,\n        p2 = steps + (immediateStart ? 0 : 1),\n        p3 = immediateStart ? 1 : 0,\n        max = 1 - _tinyNum;\n    return function (p) {\n      return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;\n    };\n  }\n};\n_defaults.ease = _easeMap[\"quad.out\"];\n\n_forEachName(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\", function (name) {\n  return _callbackNames += name + \",\" + name + \"Params,\";\n});\n/*\n * --------------------------------------------------------------------------------------\n * CACHE\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var GSCache = function GSCache(target, harness) {\n  this.id = _gsID++;\n  target._gsap = this;\n  this.target = target;\n  this.harness = harness;\n  this.get = harness ? harness.get : _getProperty;\n  this.set = harness ? harness.getSetter : _getSetter;\n};\n/*\n * --------------------------------------------------------------------------------------\n * ANIMATION\n * --------------------------------------------------------------------------------------\n */\n\nexport var Animation = /*#__PURE__*/function () {\n  function Animation(vars) {\n    this.vars = vars;\n    this._delay = +vars.delay || 0;\n\n    if (this._repeat = vars.repeat === Infinity ? -2 : vars.repeat || 0) {\n      // TODO: repeat: Infinity on a timeline's children must flag that timeline internally and affect its totalDuration, otherwise it'll stop in the negative direction when reaching the start.\n      this._rDelay = vars.repeatDelay || 0;\n      this._yoyo = !!vars.yoyo || !!vars.yoyoEase;\n    }\n\n    this._ts = 1;\n\n    _setDuration(this, +vars.duration, 1, 1);\n\n    this.data = vars.data;\n\n    if (_context) {\n      this._ctx = _context;\n\n      _context.data.push(this);\n    }\n\n    _tickerActive || _ticker.wake();\n  }\n\n  var _proto = Animation.prototype;\n\n  _proto.delay = function delay(value) {\n    if (value || value === 0) {\n      this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);\n      this._delay = value;\n      return this;\n    }\n\n    return this._delay;\n  };\n\n  _proto.duration = function duration(value) {\n    return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;\n  };\n\n  _proto.totalDuration = function totalDuration(value) {\n    if (!arguments.length) {\n      return this._tDur;\n    }\n\n    this._dirty = 0;\n    return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));\n  };\n\n  _proto.totalTime = function totalTime(_totalTime, suppressEvents) {\n    _wake();\n\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    var parent = this._dp;\n\n    if (parent && parent.smoothChildTiming && this._ts) {\n      _alignPlayhead(this, _totalTime);\n\n      !parent._dp || parent.parent || _postAddChecks(parent, this); // edge case: if this is a child of a timeline that already completed, for example, we must re-activate the parent.\n      //in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The start of that child would get pushed out, but one of the ancestors may have completed.\n\n      while (parent && parent.parent) {\n        if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {\n          parent.totalTime(parent._tTime, true);\n        }\n\n        parent = parent.parent;\n      }\n\n      if (!this.parent && this._dp.autoRemoveChildren && (this._ts > 0 && _totalTime < this._tDur || this._ts < 0 && _totalTime > 0 || !this._tDur && !_totalTime)) {\n        //if the animation doesn't have a parent, put it back into its last parent (recorded as _dp for exactly cases like this). Limit to parents with autoRemoveChildren (like globalTimeline) so that if the user manually removes an animation from a timeline and then alters its playhead, it doesn't get added back in.\n        _addToTimeline(this._dp, this, this._start - this._delay);\n      }\n    }\n\n    if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum || !_totalTime && !this._initted && (this.add || this._ptLookup)) {\n      // check for _ptLookup on a Tween instance to ensure it has actually finished being instantiated, otherwise if this.reverse() gets called in the Animation constructor, it could trigger a render() here even though the _targets weren't populated, thus when _init() is called there won't be any PropTweens (it'll act like the tween is non-functional)\n      this._ts || (this._pTime = _totalTime); // otherwise, if an animation is paused, then the playhead is moved back to zero, then resumed, it'd revert back to the original time at the pause\n      //if (!this._lock) { // avoid endless recursion (not sure we need this yet or if it's worth the performance hit)\n      //   this._lock = 1;\n\n      _lazySafeRender(this, _totalTime, suppressEvents); //   this._lock = 0;\n      //}\n\n    }\n\n    return this;\n  };\n\n  _proto.time = function time(value, suppressEvents) {\n    return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % (this._dur + this._rDelay) || (value ? this._dur : 0), suppressEvents) : this._time; // note: if the modulus results in 0, the playhead could be exactly at the end or the beginning, and we always defer to the END with a non-zero value, otherwise if you set the time() to the very end (duration()), it would render at the START!\n  };\n\n  _proto.totalProgress = function totalProgress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio;\n  };\n\n  _proto.progress = function progress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio;\n  };\n\n  _proto.iteration = function iteration(value, suppressEvents) {\n    var cycleDuration = this.duration() + this._rDelay;\n\n    return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;\n  } // potential future addition:\n  // isPlayingBackwards() {\n  // \tlet animation = this,\n  // \t\torientation = 1; // 1 = forward, -1 = backward\n  // \twhile (animation) {\n  // \t\torientation *= animation.reversed() || (animation.repeat() && !(animation.iteration() & 1)) ? -1 : 1;\n  // \t\tanimation = animation.parent;\n  // \t}\n  // \treturn orientation < 0;\n  // }\n  ;\n\n  _proto.timeScale = function timeScale(value) {\n    if (!arguments.length) {\n      return this._rts === -_tinyNum ? 0 : this._rts; // recorded timeScale. Special case: if someone calls reverse() on an animation with timeScale of 0, we assign it -_tinyNum to remember it's reversed.\n    }\n\n    if (this._rts === value) {\n      return this;\n    }\n\n    var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime; // make sure to do the parentToChildTotalTime() BEFORE setting the new _ts because the old one must be used in that calculation.\n    // future addition? Up side: fast and minimal file size. Down side: only works on this animation; if a timeline is reversed, for example, its childrens' onReverse wouldn't get called.\n    //(+value < 0 && this._rts >= 0) && _callback(this, \"onReverse\", true);\n    // prioritize rendering where the parent's playhead lines up instead of this._tTime because there could be a tween that's animating another tween's timeScale in the same rendering loop (same parent), thus if the timeScale tween renders first, it would alter _start BEFORE _tTime was set on that tick (in the rendering loop), effectively freezing it until the timeScale tween finishes.\n\n    this._rts = +value || 0;\n    this._ts = this._ps || value === -_tinyNum ? 0 : this._rts; // _ts is the functional timeScale which would be 0 if the animation is paused.\n\n    this.totalTime(_clamp(-Math.abs(this._delay), this._tDur, tTime), true);\n\n    _setEnd(this); // if parent.smoothChildTiming was false, the end time didn't get updated in the _alignPlayhead() method, so do it here.\n\n\n    return _recacheAncestors(this);\n  };\n\n  _proto.paused = function paused(value) {\n    if (!arguments.length) {\n      return this._ps;\n    }\n\n    if (this._ps !== value) {\n      this._ps = value;\n\n      if (value) {\n        this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()); // if the pause occurs during the delay phase, make sure that's factored in when resuming.\n\n        this._ts = this._act = 0; // _ts is the functional timeScale, so a paused tween would effectively have a timeScale of 0. We record the \"real\" timeScale as _rts (recorded time scale)\n      } else {\n        _wake();\n\n        this._ts = this._rts; //only defer to _pTime (pauseTime) if tTime is zero. Remember, someone could pause() an animation, then scrub the playhead and resume(). If the parent doesn't have smoothChildTiming, we render at the rawTime() because the startTime won't get updated.\n\n        this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && Math.abs(this._zTime) !== _tinyNum && (this._tTime -= _tinyNum)); // edge case: animation.progress(1).pause().play() wouldn't render again because the playhead is already at the end, but the call to totalTime() below will add it back to its parent...and not remove it again (since removing only happens upon rendering at a new time). Offsetting the _tTime slightly is done simply to cause the final render in totalTime() that'll pop it off its timeline (if autoRemoveChildren is true, of course). Check to make sure _zTime isn't -_tinyNum to avoid an edge case where the playhead is pushed to the end but INSIDE a tween/callback, the timeline itself is paused thus halting rendering and leaving a few unrendered. When resuming, it wouldn't render those otherwise.\n      }\n    }\n\n    return this;\n  };\n\n  _proto.startTime = function startTime(value) {\n    if (arguments.length) {\n      this._start = value;\n      var parent = this.parent || this._dp;\n      parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);\n      return this;\n    }\n\n    return this._start;\n  };\n\n  _proto.endTime = function endTime(includeRepeats) {\n    return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts || 1);\n  };\n\n  _proto.rawTime = function rawTime(wrapRepeats) {\n    var parent = this.parent || this._dp; // _dp = detached parent\n\n    return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);\n  };\n\n  _proto.revert = function revert(config) {\n    if (config === void 0) {\n      config = _revertConfig;\n    }\n\n    var prevIsReverting = _reverting;\n    _reverting = config;\n\n    if (this._initted || this._startAt) {\n      this.timeline && this.timeline.revert(config);\n      this.totalTime(-0.01, config.suppressEvents);\n    }\n\n    this.data !== \"nested\" && config.kill !== false && this.kill();\n    _reverting = prevIsReverting;\n    return this;\n  };\n\n  _proto.globalTime = function globalTime(rawTime) {\n    var animation = this,\n        time = arguments.length ? rawTime : animation.rawTime();\n\n    while (animation) {\n      time = animation._start + time / (animation._ts || 1);\n      animation = animation._dp;\n    }\n\n    return !this.parent && this._sat ? this._sat.vars.immediateRender ? -1 : this._sat.globalTime(rawTime) : time; // the _startAt tweens for .fromTo() and .from() that have immediateRender should always be FIRST in the timeline (important for context.revert()). \"_sat\" stands for _startAtTween, referring to the parent tween that created the _startAt. We must discern if that tween had immediateRender so that we can know whether or not to prioritize it in revert().\n  };\n\n  _proto.repeat = function repeat(value) {\n    if (arguments.length) {\n      this._repeat = value === Infinity ? -2 : value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._repeat === -2 ? Infinity : this._repeat;\n  };\n\n  _proto.repeatDelay = function repeatDelay(value) {\n    if (arguments.length) {\n      var time = this._time;\n      this._rDelay = value;\n\n      _onUpdateTotalDuration(this);\n\n      return time ? this.time(time) : this;\n    }\n\n    return this._rDelay;\n  };\n\n  _proto.yoyo = function yoyo(value) {\n    if (arguments.length) {\n      this._yoyo = value;\n      return this;\n    }\n\n    return this._yoyo;\n  };\n\n  _proto.seek = function seek(position, suppressEvents) {\n    return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));\n  };\n\n  _proto.restart = function restart(includeDelay, suppressEvents) {\n    return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));\n  };\n\n  _proto.play = function play(from, suppressEvents) {\n    from != null && this.seek(from, suppressEvents);\n    return this.reversed(false).paused(false);\n  };\n\n  _proto.reverse = function reverse(from, suppressEvents) {\n    from != null && this.seek(from || this.totalDuration(), suppressEvents);\n    return this.reversed(true).paused(false);\n  };\n\n  _proto.pause = function pause(atTime, suppressEvents) {\n    atTime != null && this.seek(atTime, suppressEvents);\n    return this.paused(true);\n  };\n\n  _proto.resume = function resume() {\n    return this.paused(false);\n  };\n\n  _proto.reversed = function reversed(value) {\n    if (arguments.length) {\n      !!value !== this.reversed() && this.timeScale(-this._rts || (value ? -_tinyNum : 0)); // in case timeScale is zero, reversing would have no effect so we use _tinyNum.\n\n      return this;\n    }\n\n    return this._rts < 0;\n  };\n\n  _proto.invalidate = function invalidate() {\n    this._initted = this._act = 0;\n    this._zTime = -_tinyNum;\n    return this;\n  };\n\n  _proto.isActive = function isActive() {\n    var parent = this.parent || this._dp,\n        start = this._start,\n        rawTime;\n    return !!(!parent || this._ts && this._initted && parent.isActive() && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);\n  };\n\n  _proto.eventCallback = function eventCallback(type, callback, params) {\n    var vars = this.vars;\n\n    if (arguments.length > 1) {\n      if (!callback) {\n        delete vars[type];\n      } else {\n        vars[type] = callback;\n        params && (vars[type + \"Params\"] = params);\n        type === \"onUpdate\" && (this._onUpdate = callback);\n      }\n\n      return this;\n    }\n\n    return vars[type];\n  };\n\n  _proto.then = function then(onFulfilled) {\n    var self = this;\n    return new Promise(function (resolve) {\n      var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough,\n          _resolve = function _resolve() {\n        var _then = self.then;\n        self.then = null; // temporarily null the then() method to avoid an infinite loop (see https://github.com/greensock/GSAP/issues/322)\n\n        _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);\n        resolve(f);\n        self.then = _then;\n      };\n\n      if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {\n        _resolve();\n      } else {\n        self._prom = _resolve;\n      }\n    });\n  };\n\n  _proto.kill = function kill() {\n    _interrupt(this);\n  };\n\n  return Animation;\n}();\n\n_setDefaults(Animation.prototype, {\n  _time: 0,\n  _start: 0,\n  _end: 0,\n  _tTime: 0,\n  _tDur: 0,\n  _dirty: 0,\n  _repeat: 0,\n  _yoyo: false,\n  parent: null,\n  _initted: false,\n  _rDelay: 0,\n  _ts: 1,\n  _dp: 0,\n  ratio: 0,\n  _zTime: -_tinyNum,\n  _prom: 0,\n  _ps: false,\n  _rts: 1\n});\n/*\n * -------------------------------------------------\n * TIMELINE\n * -------------------------------------------------\n */\n\n\nexport var Timeline = /*#__PURE__*/function (_Animation) {\n  _inheritsLoose(Timeline, _Animation);\n\n  function Timeline(vars, position) {\n    var _this;\n\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    _this = _Animation.call(this, vars) || this;\n    _this.labels = {};\n    _this.smoothChildTiming = !!vars.smoothChildTiming;\n    _this.autoRemoveChildren = !!vars.autoRemoveChildren;\n    _this._sort = _isNotFalse(vars.sortChildren);\n    _globalTimeline && _addToTimeline(vars.parent || _globalTimeline, _assertThisInitialized(_this), position);\n    vars.reversed && _this.reverse();\n    vars.paused && _this.paused(true);\n    vars.scrollTrigger && _scrollTrigger(_assertThisInitialized(_this), vars.scrollTrigger);\n    return _this;\n  }\n\n  var _proto2 = Timeline.prototype;\n\n  _proto2.to = function to(targets, vars, position) {\n    _createTweenType(0, arguments, this);\n\n    return this;\n  };\n\n  _proto2.from = function from(targets, vars, position) {\n    _createTweenType(1, arguments, this);\n\n    return this;\n  };\n\n  _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {\n    _createTweenType(2, arguments, this);\n\n    return this;\n  };\n\n  _proto2.set = function set(targets, vars, position) {\n    vars.duration = 0;\n    vars.parent = this;\n    _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);\n    vars.immediateRender = !!vars.immediateRender;\n    new Tween(targets, vars, _parsePosition(this, position), 1);\n    return this;\n  };\n\n  _proto2.call = function call(callback, params, position) {\n    return _addToTimeline(this, Tween.delayedCall(0, callback, params), position);\n  } //ONLY for backward compatibility! Maybe delete?\n  ;\n\n  _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.duration = duration;\n    vars.stagger = vars.stagger || stagger;\n    vars.onComplete = onCompleteAll;\n    vars.onCompleteParams = onCompleteAllParams;\n    vars.parent = this;\n    new Tween(targets, vars, _parsePosition(this, position));\n    return this;\n  };\n\n  _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.runBackwards = 1;\n    _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);\n    return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    toVars.startAt = fromVars;\n    _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);\n    return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._dirty ? this.totalDuration() : this._tDur,\n        dur = this._dur,\n        tTime = totalTime <= 0 ? 0 : _roundPrecise(totalTime),\n        // if a paused timeline is resumed (or its _start is updated for another reason...which rounds it), that could result in the playhead shifting a **tiny** amount and a zero-duration child at that spot may get rendered at a different ratio, like its totalTime in render() may be 1e-17 instead of 0, for example.\n    crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur),\n        time,\n        child,\n        next,\n        iteration,\n        cycleDuration,\n        prevPaused,\n        pauseTween,\n        timeScale,\n        prevStart,\n        prevIteration,\n        yoyo,\n        isYoyo;\n    this !== _globalTimeline && tTime > tDur && totalTime >= 0 && (tTime = tDur);\n\n    if (tTime !== this._tTime || force || crossingStart) {\n      if (prevTime !== this._time && dur) {\n        //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n        tTime += this._time - prevTime;\n        totalTime += this._time - prevTime;\n      }\n\n      time = tTime;\n      prevStart = this._start;\n      timeScale = this._ts;\n      prevPaused = !timeScale;\n\n      if (crossingStart) {\n        dur || (prevTime = this._zTime); //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n        (totalTime || !suppressEvents) && (this._zTime = totalTime);\n      }\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        yoyo = this._yoyo;\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && totalTime < 0) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _roundPrecise(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === tTime / cycleDuration) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n        !prevTime && this._tTime && prevIteration !== iteration && this._tTime - prevIteration * cycleDuration - this._dur <= 0 && (prevIteration = iteration); // edge case - if someone does addPause() at the very beginning of a repeating timeline, that pause is technically at the same spot as the end which causes this._time to get set to 0 when the totalTime would normally place the playhead at the end. See https://greensock.com/forums/topic/23823-closing-nav-animation-not-working-on-ie-and-iphone-6-maybe-other-older-browser/?tab=comments#comment-113005 also, this._tTime - prevIteration * cycleDuration - this._dur <= 0 just checks to make sure it wasn't previously in the \"repeatDelay\" portion\n\n        if (yoyo && iteration & 1) {\n          time = dur - time;\n          isYoyo = 1;\n        }\n        /*\n        make sure children at the end/beginning of the timeline are rendered properly. If, for example,\n        a 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\n        would get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\n        could be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\n        we need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\n        ensure that zero-duration tweens at the very beginning or end of the Timeline work.\n        */\n\n\n        if (iteration !== prevIteration && !this._lock) {\n          var rewinding = yoyo && prevIteration & 1,\n              doesWrap = rewinding === (yoyo && iteration & 1);\n          iteration < prevIteration && (rewinding = !rewinding);\n          prevTime = rewinding ? 0 : dur;\n          this._lock = 1;\n          this.render(prevTime || (isYoyo ? 0 : _roundPrecise(iteration * cycleDuration)), suppressEvents, !dur)._lock = 0;\n          this._tTime = tTime; // if a user gets the iteration() inside the onRepeat, for example, it should be accurate.\n\n          !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n          this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);\n\n          if (prevTime && prevTime !== this._time || prevPaused !== !this._ts || this.vars.onRepeat && !this.parent && !this._act) {\n            // if prevTime is 0 and we render at the very end, _time will be the end, thus won't match. So in this edge case, prevTime won't match _time but that's okay. If it gets killed in the onRepeat, eject as well.\n            return this;\n          }\n\n          dur = this._dur; // in case the duration changed in the onRepeat\n\n          tDur = this._tDur;\n\n          if (doesWrap) {\n            this._lock = 2;\n            prevTime = rewinding ? dur : -0.0001;\n            this.render(prevTime, true);\n            this.vars.repeatRefresh && !isYoyo && this.invalidate();\n          }\n\n          this._lock = 0;\n\n          if (!this._ts && !prevPaused) {\n            return this;\n          } //in order for yoyoEase to work properly when there's a stagger, we must swap out the ease in each sub-tween.\n\n\n          _propagateYoyoEase(this, isYoyo);\n        }\n      }\n\n      if (this._hasPause && !this._forcing && this._lock < 2) {\n        pauseTween = _findNextPauseTween(this, _roundPrecise(prevTime), _roundPrecise(time));\n\n        if (pauseTween) {\n          tTime -= time - (time = pauseTween._start);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n      this._act = !timeScale; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n      if (!this._initted) {\n        this._onUpdate = this.vars.onUpdate;\n        this._initted = 1;\n        this._zTime = totalTime;\n        prevTime = 0; // upon init, the playhead should always go forward; someone could invalidate() a completed timeline and then if they restart(), that would make child tweens render in reverse order which could lock in the wrong starting values if they build on each other, like tl.to(obj, {x: 100}).to(obj, {x: 0}).\n      }\n\n      if (!prevTime && time && !suppressEvents && !iteration) {\n        _callback(this, \"onStart\");\n\n        if (this._tTime !== tTime) {\n          // in case the onStart triggered a render at a different spot, eject. Like if someone did animation.pause(0.5) or something inside the onStart.\n          return this;\n        }\n      }\n\n      if (time >= prevTime && totalTime >= 0) {\n        child = this._first;\n\n        while (child) {\n          next = child._next;\n\n          if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = -_tinyNum); // it didn't finish rendering, so flag zTime as negative so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      } else {\n        child = this._last;\n        var adjustedTime = totalTime < 0 ? totalTime : time; //when the playhead goes backward beyond the start of this timeline, we must pass that information down to the child animations so that zero-duration tweens know whether to render their starting or ending values.\n\n        while (child) {\n          next = child._prev;\n\n          if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force || _reverting && (child._initted || child._startAt)); // if reverting, we should always force renders of initted tweens (but remember that .fromTo() or .from() may have a _startAt but not _initted yet). If, for example, a .fromTo() tween with a stagger (which creates an internal timeline) gets reverted BEFORE some of its child tweens render for the first time, it may not properly trigger them to revert.\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum); // it didn't finish rendering, so adjust zTime so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      }\n\n      if (pauseTween && !suppressEvents) {\n        this.pause();\n        pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;\n\n        if (this._ts) {\n          //the callback resumed playback! So since we may have held back the playhead due to where the pause is positioned, go ahead and jump to where it's SUPPOSED to be (if no pause happened).\n          this._start = prevStart; //if the pause was at an earlier time and the user resumed in the callback, it could reposition the timeline (changing its startTime), throwing things off slightly, so we make sure the _start doesn't shift.\n\n          _setEnd(this);\n\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._onUpdate && !suppressEvents && _callback(this, \"onUpdate\", true);\n      if (tTime === tDur && this._tTime >= this.totalDuration() || !tTime && prevTime) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) if (!this._lock) {\n        // remember, a child's callback may alter this timeline's playhead or timeScale which is why we need to add some of these checks.\n        (totalTime || !dur) && (tTime === tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime || !tDur)) {\n          _callback(this, tTime === tDur && totalTime >= 0 ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto2.add = function add(child, position) {\n    var _this2 = this;\n\n    _isNumber(position) || (position = _parsePosition(this, position, child));\n\n    if (!(child instanceof Animation)) {\n      if (_isArray(child)) {\n        child.forEach(function (obj) {\n          return _this2.add(obj, position);\n        });\n        return this;\n      }\n\n      if (_isString(child)) {\n        return this.addLabel(child, position);\n      }\n\n      if (_isFunction(child)) {\n        child = Tween.delayedCall(0, child);\n      } else {\n        return this;\n      }\n    }\n\n    return this !== child ? _addToTimeline(this, child, position) : this; //don't allow a timeline to be added to itself as a child!\n  };\n\n  _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {\n    if (nested === void 0) {\n      nested = true;\n    }\n\n    if (tweens === void 0) {\n      tweens = true;\n    }\n\n    if (timelines === void 0) {\n      timelines = true;\n    }\n\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = -_bigNum;\n    }\n\n    var a = [],\n        child = this._first;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        if (child instanceof Tween) {\n          tweens && a.push(child);\n        } else {\n          timelines && a.push(child);\n          nested && a.push.apply(a, child.getChildren(true, tweens, timelines));\n        }\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.getById = function getById(id) {\n    var animations = this.getChildren(1, 1, 1),\n        i = animations.length;\n\n    while (i--) {\n      if (animations[i].vars.id === id) {\n        return animations[i];\n      }\n    }\n  };\n\n  _proto2.remove = function remove(child) {\n    if (_isString(child)) {\n      return this.removeLabel(child);\n    }\n\n    if (_isFunction(child)) {\n      return this.killTweensOf(child);\n    }\n\n    _removeLinkedListItem(this, child);\n\n    if (child === this._recent) {\n      this._recent = this._last;\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    this._forcing = 1;\n\n    if (!this._dp && this._ts) {\n      //special case for the global timeline (or any other that has no parent or detached parent).\n      this._start = _roundPrecise(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));\n    }\n\n    _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);\n\n    this._forcing = 0;\n    return this;\n  };\n\n  _proto2.addLabel = function addLabel(label, position) {\n    this.labels[label] = _parsePosition(this, position);\n    return this;\n  };\n\n  _proto2.removeLabel = function removeLabel(label) {\n    delete this.labels[label];\n    return this;\n  };\n\n  _proto2.addPause = function addPause(position, callback, params) {\n    var t = Tween.delayedCall(0, callback || _emptyFunc, params);\n    t.data = \"isPause\";\n    this._hasPause = 1;\n    return _addToTimeline(this, t, _parsePosition(this, position));\n  };\n\n  _proto2.removePause = function removePause(position) {\n    var child = this._first;\n    position = _parsePosition(this, position);\n\n    while (child) {\n      if (child._start === position && child.data === \"isPause\") {\n        _removeFromParent(child);\n      }\n\n      child = child._next;\n    }\n  };\n\n  _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    var tweens = this.getTweensOf(targets, onlyActive),\n        i = tweens.length;\n\n    while (i--) {\n      _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);\n    }\n\n    return this;\n  };\n\n  _proto2.getTweensOf = function getTweensOf(targets, onlyActive) {\n    var a = [],\n        parsedTargets = toArray(targets),\n        child = this._first,\n        isGlobalTime = _isNumber(onlyActive),\n        // a number is interpreted as a global time. If the animation spans\n    children;\n\n    while (child) {\n      if (child instanceof Tween) {\n        if (_arrayContainsAny(child._targets, parsedTargets) && (isGlobalTime ? (!_overwritingTween || child._initted && child._ts) && child.globalTime(0) <= onlyActive && child.globalTime(child.totalDuration()) > onlyActive : !onlyActive || child.isActive())) {\n          // note: if this is for overwriting, it should only be for tweens that aren't paused and are initted.\n          a.push(child);\n        }\n      } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {\n        a.push.apply(a, children);\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  } // potential future feature - targets() on timelines\n  // targets() {\n  // \tlet result = [];\n  // \tthis.getChildren(true, true, false).forEach(t => result.push(...t.targets()));\n  // \treturn result.filter((v, i) => result.indexOf(v) === i);\n  // }\n  ;\n\n  _proto2.tweenTo = function tweenTo(position, vars) {\n    vars = vars || {};\n\n    var tl = this,\n        endTime = _parsePosition(tl, position),\n        _vars = vars,\n        startAt = _vars.startAt,\n        _onStart = _vars.onStart,\n        onStartParams = _vars.onStartParams,\n        immediateRender = _vars.immediateRender,\n        initted,\n        tween = Tween.to(tl, _setDefaults({\n      ease: vars.ease || \"none\",\n      lazy: false,\n      immediateRender: false,\n      time: endTime,\n      overwrite: \"auto\",\n      duration: vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,\n      onStart: function onStart() {\n        tl.pause();\n\n        if (!initted) {\n          var duration = vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale());\n          tween._dur !== duration && _setDuration(tween, duration, 0, 1).render(tween._time, true, true);\n          initted = 1;\n        }\n\n        _onStart && _onStart.apply(tween, onStartParams || []); //in case the user had an onStart in the vars - we don't want to overwrite it.\n      }\n    }, vars));\n\n    return immediateRender ? tween.render(0) : tween;\n  };\n\n  _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {\n    return this.tweenTo(toPosition, _setDefaults({\n      startAt: {\n        time: _parsePosition(this, fromPosition)\n      }\n    }, vars));\n  };\n\n  _proto2.recent = function recent() {\n    return this._recent;\n  };\n\n  _proto2.nextLabel = function nextLabel(afterTime) {\n    if (afterTime === void 0) {\n      afterTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, afterTime));\n  };\n\n  _proto2.previousLabel = function previousLabel(beforeTime) {\n    if (beforeTime === void 0) {\n      beforeTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);\n  };\n\n  _proto2.currentLabel = function currentLabel(value) {\n    return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);\n  };\n\n  _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = 0;\n    }\n\n    var child = this._first,\n        labels = this.labels,\n        p;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        child._start += amount;\n        child._end += amount;\n      }\n\n      child = child._next;\n    }\n\n    if (adjustLabels) {\n      for (p in labels) {\n        if (labels[p] >= ignoreBeforeTime) {\n          labels[p] += amount;\n        }\n      }\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.invalidate = function invalidate(soft) {\n    var child = this._first;\n    this._lock = 0;\n\n    while (child) {\n      child.invalidate(soft);\n      child = child._next;\n    }\n\n    return _Animation.prototype.invalidate.call(this, soft);\n  };\n\n  _proto2.clear = function clear(includeLabels) {\n    if (includeLabels === void 0) {\n      includeLabels = true;\n    }\n\n    var child = this._first,\n        next;\n\n    while (child) {\n      next = child._next;\n      this.remove(child);\n      child = next;\n    }\n\n    this._dp && (this._time = this._tTime = this._pTime = 0);\n    includeLabels && (this.labels = {});\n    return _uncache(this);\n  };\n\n  _proto2.totalDuration = function totalDuration(value) {\n    var max = 0,\n        self = this,\n        child = self._last,\n        prevStart = _bigNum,\n        prev,\n        start,\n        parent;\n\n    if (arguments.length) {\n      return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));\n    }\n\n    if (self._dirty) {\n      parent = self.parent;\n\n      while (child) {\n        prev = child._prev; //record it here in case the tween changes position in the sequence...\n\n        child._dirty && child.totalDuration(); //could change the tween._startTime, so make sure the animation's cache is clean before analyzing it.\n\n        start = child._start;\n\n        if (start > prevStart && self._sort && child._ts && !self._lock) {\n          //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\n          self._lock = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add().\n\n          _addToTimeline(self, child, start - child._delay, 1)._lock = 0;\n        } else {\n          prevStart = start;\n        }\n\n        if (start < 0 && child._ts) {\n          //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\n          max -= start;\n\n          if (!parent && !self._dp || parent && parent.smoothChildTiming) {\n            self._start += start / self._ts;\n            self._time -= start;\n            self._tTime -= start;\n          }\n\n          self.shiftChildren(-start, false, -1e999);\n          prevStart = 0;\n        }\n\n        child._end > max && child._ts && (max = child._end);\n        child = prev;\n      }\n\n      _setDuration(self, self === _globalTimeline && self._time > max ? self._time : max, 1, 1);\n\n      self._dirty = 0;\n    }\n\n    return self._tDur;\n  };\n\n  Timeline.updateRoot = function updateRoot(time) {\n    if (_globalTimeline._ts) {\n      _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));\n\n      _lastRenderedFrame = _ticker.frame;\n    }\n\n    if (_ticker.frame >= _nextGCFrame) {\n      _nextGCFrame += _config.autoSleep || 120;\n      var child = _globalTimeline._first;\n      if (!child || !child._ts) if (_config.autoSleep && _ticker._listeners.length < 2) {\n        while (child && !child._ts) {\n          child = child._next;\n        }\n\n        child || _ticker.sleep();\n      }\n    }\n  };\n\n  return Timeline;\n}(Animation);\n\n_setDefaults(Timeline.prototype, {\n  _lock: 0,\n  _hasPause: 0,\n  _forcing: 0\n});\n\nvar _addComplexStringPropTween = function _addComplexStringPropTween(target, prop, start, end, setter, stringFilter, funcParam) {\n  //note: we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  var pt = new PropTween(this._pt, target, prop, 0, 1, _renderComplexString, null, setter),\n      index = 0,\n      matchIndex = 0,\n      result,\n      startNums,\n      color,\n      endNum,\n      chunk,\n      startNum,\n      hasRandom,\n      a;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (hasRandom = ~end.indexOf(\"random(\")) {\n    end = _replaceRandom(end);\n  }\n\n  if (stringFilter) {\n    a = [start, end];\n    stringFilter(a, target, prop); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\n    start = a[0];\n    end = a[1];\n  }\n\n  startNums = start.match(_complexStringNumExp) || [];\n\n  while (result = _complexStringNumExp.exec(end)) {\n    endNum = result[0];\n    chunk = end.substring(index, result.index);\n\n    if (color) {\n      color = (color + 1) % 5;\n    } else if (chunk.substr(-5) === \"rgba(\") {\n      color = 1;\n    }\n\n    if (endNum !== startNums[matchIndex++]) {\n      startNum = parseFloat(startNums[matchIndex - 1]) || 0; //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n      pt._pt = {\n        _next: pt._pt,\n        p: chunk || matchIndex === 1 ? chunk : \",\",\n        //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n        s: startNum,\n        c: endNum.charAt(1) === \"=\" ? _parseRelative(startNum, endNum) - startNum : parseFloat(endNum) - startNum,\n        m: color && color < 4 ? Math.round : 0\n      };\n      index = _complexStringNumExp.lastIndex;\n    }\n  }\n\n  pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n\n  pt.fp = funcParam;\n\n  if (_relExp.test(end) || hasRandom) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _addPropTween = function _addPropTween(target, prop, start, end, index, targets, modifier, stringFilter, funcParam, optional) {\n  _isFunction(end) && (end = end(index || 0, target, targets));\n  var currentValue = target[prop],\n      parsedStart = start !== \"get\" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop.indexOf(\"set\") || !_isFunction(target[\"get\" + prop.substr(3)]) ? prop : \"get\" + prop.substr(3)](funcParam) : target[prop](),\n      setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc,\n      pt;\n\n  if (_isString(end)) {\n    if (~end.indexOf(\"random(\")) {\n      end = _replaceRandom(end);\n    }\n\n    if (end.charAt(1) === \"=\") {\n      pt = _parseRelative(parsedStart, end) + (getUnit(parsedStart) || 0);\n\n      if (pt || pt === 0) {\n        // to avoid isNaN, like if someone passes in a value like \"!= whatever\"\n        end = pt;\n      }\n    }\n  }\n\n  if (!optional || parsedStart !== end || _forceAllPropTweens) {\n    if (!isNaN(parsedStart * end) && end !== \"\") {\n      // fun fact: any number multiplied by \"\" is evaluated as the number 0!\n      pt = new PropTween(this._pt, target, prop, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === \"boolean\" ? _renderBoolean : _renderPlain, 0, setter);\n      funcParam && (pt.fp = funcParam);\n      modifier && pt.modifier(modifier, this, target);\n      return this._pt = pt;\n    }\n\n    !currentValue && !(prop in target) && _missingPlugin(prop, end);\n    return _addComplexStringPropTween.call(this, target, prop, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);\n  }\n},\n    //creates a copy of the vars object and processes any function-based values (putting the resulting values directly into the copy) as well as strings with \"random()\" in them. It does NOT process relative values.\n_processVars = function _processVars(vars, index, target, targets, tween) {\n  _isFunction(vars) && (vars = _parseFuncOrString(vars, tween, index, target, targets));\n\n  if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars) || _isTypedArray(vars)) {\n    return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;\n  }\n\n  var copy = {},\n      p;\n\n  for (p in vars) {\n    copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);\n  }\n\n  return copy;\n},\n    _checkPlugin = function _checkPlugin(property, vars, tween, index, target, targets) {\n  var plugin, pt, ptLookup, i;\n\n  if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {\n    tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n    if (tween !== _quickTween) {\n      ptLookup = tween._ptLookup[tween._targets.indexOf(target)]; //note: we can't use tween._ptLookup[index] because for staggered tweens, the index from the fullTargets array won't match what it is in each individual tween that spawns from the stagger.\n\n      i = plugin._props.length;\n\n      while (i--) {\n        ptLookup[plugin._props[i]] = pt;\n      }\n    }\n  }\n\n  return plugin;\n},\n    _overwritingTween,\n    //store a reference temporarily so we can avoid overwriting itself.\n_forceAllPropTweens,\n    _initTween = function _initTween(tween, time, tTime) {\n  var vars = tween.vars,\n      ease = vars.ease,\n      startAt = vars.startAt,\n      immediateRender = vars.immediateRender,\n      lazy = vars.lazy,\n      onUpdate = vars.onUpdate,\n      onUpdateParams = vars.onUpdateParams,\n      callbackScope = vars.callbackScope,\n      runBackwards = vars.runBackwards,\n      yoyoEase = vars.yoyoEase,\n      keyframes = vars.keyframes,\n      autoRevert = vars.autoRevert,\n      dur = tween._dur,\n      prevStartAt = tween._startAt,\n      targets = tween._targets,\n      parent = tween.parent,\n      fullTargets = parent && parent.data === \"nested\" ? parent.vars.targets : targets,\n      autoOverwrite = tween._overwrite === \"auto\" && !_suppressOverwrites,\n      tl = tween.timeline,\n      cleanVars,\n      i,\n      p,\n      pt,\n      target,\n      hasPriority,\n      gsData,\n      harness,\n      plugin,\n      ptLookup,\n      index,\n      harnessVars,\n      overwritten;\n  tl && (!keyframes || !ease) && (ease = \"none\");\n  tween._ease = _parseEase(ease, _defaults.ease);\n  tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;\n\n  if (yoyoEase && tween._yoyo && !tween._repeat) {\n    //there must have been a parent timeline with yoyo:true that is currently in its yoyo phase, so flip the eases.\n    yoyoEase = tween._yEase;\n    tween._yEase = tween._ease;\n    tween._ease = yoyoEase;\n  }\n\n  tween._from = !tl && !!vars.runBackwards; //nested timelines should never run backwards - the backwards-ness is in the child tweens.\n\n  if (!tl || keyframes && !vars.stagger) {\n    //if there's an internal timeline, skip all the parsing because we passed that task down the chain.\n    harness = targets[0] ? _getCache(targets[0]).harness : 0;\n    harnessVars = harness && vars[harness.prop]; //someone may need to specify CSS-specific values AND non-CSS values, like if the element has an \"x\" property plus it's a standard DOM element. We allow people to distinguish by wrapping plugin-specific stuff in a css:{} object for example.\n\n    cleanVars = _copyExcluding(vars, _reservedProps);\n\n    if (prevStartAt) {\n      prevStartAt._zTime < 0 && prevStartAt.progress(1); // in case it's a lazy startAt that hasn't rendered yet.\n\n      time < 0 && runBackwards && immediateRender && !autoRevert ? prevStartAt.render(-1, true) : prevStartAt.revert(runBackwards && dur ? _revertConfigNoKill : _startAtRevertConfig); // if it's a \"startAt\" (not \"from()\" or runBackwards: true), we only need to do a shallow revert (keep transforms cached in CSSPlugin)\n      // don't just _removeFromParent(prevStartAt.render(-1, true)) because that'll leave inline styles. We're creating a new _startAt for \"startAt\" tweens that re-capture things to ensure that if the pre-tween values changed since the tween was created, they're recorded.\n\n      prevStartAt._lazy = 0;\n    }\n\n    if (startAt) {\n      _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({\n        data: \"isStart\",\n        overwrite: false,\n        parent: parent,\n        immediateRender: true,\n        lazy: !prevStartAt && _isNotFalse(lazy),\n        startAt: null,\n        delay: 0,\n        onUpdate: onUpdate,\n        onUpdateParams: onUpdateParams,\n        callbackScope: callbackScope,\n        stagger: 0\n      }, startAt))); //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, from, to).fromTo(e, to, from);\n\n\n      tween._startAt._dp = 0; // don't allow it to get put back into root timeline! Like when revert() is called and totalTime() gets set.\n\n      tween._startAt._sat = tween; // used in globalTime(). _sat stands for _startAtTween\n\n      time < 0 && (_reverting || !immediateRender && !autoRevert) && tween._startAt.revert(_revertConfigNoKill); // rare edge case, like if a render is forced in the negative direction of a non-initted tween.\n\n      if (immediateRender) {\n        if (dur && time <= 0 && tTime <= 0) {\n          // check tTime here because in the case of a yoyo tween whose playhead gets pushed to the end like tween.progress(1), we should allow it through so that the onComplete gets fired properly.\n          time && (tween._zTime = time);\n          return; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        }\n      }\n    } else if (runBackwards && dur) {\n      //from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\n      if (!prevStartAt) {\n        time && (immediateRender = false); //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\n\n        p = _setDefaults({\n          overwrite: false,\n          data: \"isFromStart\",\n          //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\n          lazy: immediateRender && !prevStartAt && _isNotFalse(lazy),\n          immediateRender: immediateRender,\n          //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\n          stagger: 0,\n          parent: parent //ensures that nested tweens that had a stagger are handled properly, like gsap.from(\".class\", {y:gsap.utils.wrap([-100,100])})\n\n        }, cleanVars);\n        harnessVars && (p[harness.prop] = harnessVars); // in case someone does something like .from(..., {css:{}})\n\n        _removeFromParent(tween._startAt = Tween.set(targets, p));\n\n        tween._startAt._dp = 0; // don't allow it to get put back into root timeline!\n\n        tween._startAt._sat = tween; // used in globalTime()\n\n        time < 0 && (_reverting ? tween._startAt.revert(_revertConfigNoKill) : tween._startAt.render(-1, true));\n        tween._zTime = time;\n\n        if (!immediateRender) {\n          _initTween(tween._startAt, _tinyNum, _tinyNum); //ensures that the initial values are recorded\n\n        } else if (!time) {\n          return;\n        }\n      }\n    }\n\n    tween._pt = tween._ptCache = 0;\n    lazy = dur && _isNotFalse(lazy) || lazy && !dur;\n\n    for (i = 0; i < targets.length; i++) {\n      target = targets[i];\n      gsData = target._gsap || _harness(targets)[i]._gsap;\n      tween._ptLookup[i] = ptLookup = {};\n      _lazyLookup[gsData.id] && _lazyTweens.length && _lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\n\n      index = fullTargets === targets ? i : fullTargets.indexOf(target);\n\n      if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {\n        tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n        plugin._props.forEach(function (name) {\n          ptLookup[name] = pt;\n        });\n\n        plugin.priority && (hasPriority = 1);\n      }\n\n      if (!harness || harnessVars) {\n        for (p in cleanVars) {\n          if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {\n            plugin.priority && (hasPriority = 1);\n          } else {\n            ptLookup[p] = pt = _addPropTween.call(tween, target, p, \"get\", cleanVars[p], index, fullTargets, 0, vars.stringFilter);\n          }\n        }\n      }\n\n      tween._op && tween._op[i] && tween.kill(target, tween._op[i]);\n\n      if (autoOverwrite && tween._pt) {\n        _overwritingTween = tween;\n\n        _globalTimeline.killTweensOf(target, ptLookup, tween.globalTime(time)); // make sure the overwriting doesn't overwrite THIS tween!!!\n\n\n        overwritten = !tween.parent;\n        _overwritingTween = 0;\n      }\n\n      tween._pt && lazy && (_lazyLookup[gsData.id] = 1);\n    }\n\n    hasPriority && _sortPropTweensByPriority(tween);\n    tween._onInit && tween._onInit(tween); //plugins like RoundProps must wait until ALL of the PropTweens are instantiated. In the plugin's init() function, it sets the _onInit on the tween instance. May not be pretty/intuitive, but it's fast and keeps file size down.\n  }\n\n  tween._onUpdate = onUpdate;\n  tween._initted = (!tween._op || tween._pt) && !overwritten; // if overwrittenProps resulted in the entire tween being killed, do NOT flag it as initted or else it may render for one tick.\n\n  keyframes && time <= 0 && tl.render(_bigNum, true, true); // if there's a 0% keyframe, it'll render in the \"before\" state for any staggered/delayed animations thus when the following tween initializes, it'll use the \"before\" state instead of the \"after\" state as the initial values.\n},\n    _updatePropTweens = function _updatePropTweens(tween, property, value, start, startIsRelative, ratio, time) {\n  var ptCache = (tween._pt && tween._ptCache || (tween._ptCache = {}))[property],\n      pt,\n      rootPT,\n      lookup,\n      i;\n\n  if (!ptCache) {\n    ptCache = tween._ptCache[property] = [];\n    lookup = tween._ptLookup;\n    i = tween._targets.length;\n\n    while (i--) {\n      pt = lookup[i][property];\n\n      if (pt && pt.d && pt.d._pt) {\n        // it's a plugin, so find the nested PropTween\n        pt = pt.d._pt;\n\n        while (pt && pt.p !== property && pt.fp !== property) {\n          // \"fp\" is functionParam for things like setting CSS variables which require .setProperty(\"--var-name\", value)\n          pt = pt._next;\n        }\n      }\n\n      if (!pt) {\n        // there is no PropTween associated with that property, so we must FORCE one to be created and ditch out of this\n        // if the tween has other properties that already rendered at new positions, we'd normally have to rewind to put them back like tween.render(0, true) before forcing an _initTween(), but that can create another edge case like tweening a timeline's progress would trigger onUpdates to fire which could move other things around. It's better to just inform users that .resetTo() should ONLY be used for tweens that already have that property. For example, you can't gsap.to(...{ y: 0 }) and then tween.restTo(\"x\", 200) for example.\n        _forceAllPropTweens = 1; // otherwise, when we _addPropTween() and it finds no change between the start and end values, it skips creating a PropTween (for efficiency...why tween when there's no difference?) but in this case we NEED that PropTween created so we can edit it.\n\n        tween.vars[property] = \"+=0\";\n\n        _initTween(tween, time);\n\n        _forceAllPropTweens = 0;\n        return 1;\n      }\n\n      ptCache.push(pt);\n    }\n  }\n\n  i = ptCache.length;\n\n  while (i--) {\n    rootPT = ptCache[i];\n    pt = rootPT._pt || rootPT; // complex values may have nested PropTweens. We only accommodate the FIRST value.\n\n    pt.s = (start || start === 0) && !startIsRelative ? start : pt.s + (start || 0) + ratio * pt.c;\n    pt.c = value - pt.s;\n    rootPT.e && (rootPT.e = _round(value) + getUnit(rootPT.e)); // mainly for CSSPlugin (end value)\n\n    rootPT.b && (rootPT.b = pt.s + getUnit(rootPT.b)); // (beginning value)\n  }\n},\n    _addAliasesToVars = function _addAliasesToVars(targets, vars) {\n  var harness = targets[0] ? _getCache(targets[0]).harness : 0,\n      propertyAliases = harness && harness.aliases,\n      copy,\n      p,\n      i,\n      aliases;\n\n  if (!propertyAliases) {\n    return vars;\n  }\n\n  copy = _merge({}, vars);\n\n  for (p in propertyAliases) {\n    if (p in copy) {\n      aliases = propertyAliases[p].split(\",\");\n      i = aliases.length;\n\n      while (i--) {\n        copy[aliases[i]] = copy[p];\n      }\n    }\n  }\n\n  return copy;\n},\n    // parses multiple formats, like {\"0%\": {x: 100}, {\"50%\": {x: -20}} and { x: {\"0%\": 100, \"50%\": -20} }, and an \"ease\" can be set on any object. We populate an \"allProps\" object with an Array for each property, like {x: [{}, {}], y:[{}, {}]} with data for each property tween. The objects have a \"t\" (time), \"v\", (value), and \"e\" (ease) property. This allows us to piece together a timeline later.\n_parseKeyframe = function _parseKeyframe(prop, obj, allProps, easeEach) {\n  var ease = obj.ease || easeEach || \"power1.inOut\",\n      p,\n      a;\n\n  if (_isArray(obj)) {\n    a = allProps[prop] || (allProps[prop] = []); // t = time (out of 100), v = value, e = ease\n\n    obj.forEach(function (value, i) {\n      return a.push({\n        t: i / (obj.length - 1) * 100,\n        v: value,\n        e: ease\n      });\n    });\n  } else {\n    for (p in obj) {\n      a = allProps[p] || (allProps[p] = []);\n      p === \"ease\" || a.push({\n        t: parseFloat(prop),\n        v: obj[p],\n        e: ease\n      });\n    }\n  }\n},\n    _parseFuncOrString = function _parseFuncOrString(value, tween, i, target, targets) {\n  return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf(\"random(\") ? _replaceRandom(value) : value;\n},\n    _staggerTweenProps = _callbackNames + \"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert\",\n    _staggerPropsToSkip = {};\n\n_forEachName(_staggerTweenProps + \",id,stagger,delay,duration,paused,scrollTrigger\", function (name) {\n  return _staggerPropsToSkip[name] = 1;\n});\n/*\n * --------------------------------------------------------------------------------------\n * TWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var Tween = /*#__PURE__*/function (_Animation2) {\n  _inheritsLoose(Tween, _Animation2);\n\n  function Tween(targets, vars, position, skipInherit) {\n    var _this3;\n\n    if (typeof vars === \"number\") {\n      position.duration = vars;\n      vars = position;\n      position = null;\n    }\n\n    _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars)) || this;\n    var _this3$vars = _this3.vars,\n        duration = _this3$vars.duration,\n        delay = _this3$vars.delay,\n        immediateRender = _this3$vars.immediateRender,\n        stagger = _this3$vars.stagger,\n        overwrite = _this3$vars.overwrite,\n        keyframes = _this3$vars.keyframes,\n        defaults = _this3$vars.defaults,\n        scrollTrigger = _this3$vars.scrollTrigger,\n        yoyoEase = _this3$vars.yoyoEase,\n        parent = vars.parent || _globalTimeline,\n        parsedTargets = (_isArray(targets) || _isTypedArray(targets) ? _isNumber(targets[0]) : \"length\" in vars) ? [targets] : toArray(targets),\n        tl,\n        i,\n        copy,\n        l,\n        p,\n        curTarget,\n        staggerFunc,\n        staggerVarsToMerge;\n    _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn(\"GSAP target \" + targets + \" not found. https://greensock.com\", !_config.nullTargetWarn) || [];\n    _this3._ptLookup = []; //PropTween lookup. An array containing an object for each target, having keys for each tweening property\n\n    _this3._overwrite = overwrite;\n\n    if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n      vars = _this3.vars;\n      tl = _this3.timeline = new Timeline({\n        data: \"nested\",\n        defaults: defaults || {},\n        targets: parent && parent.data === \"nested\" ? parent.vars.targets : parsedTargets\n      }); // we need to store the targets because for staggers and keyframes, we end up creating an individual tween for each but function-based values need to know the index and the whole Array of targets.\n\n      tl.kill();\n      tl.parent = tl._dp = _assertThisInitialized(_this3);\n      tl._start = 0;\n\n      if (stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n        l = parsedTargets.length;\n        staggerFunc = stagger && distribute(stagger);\n\n        if (_isObject(stagger)) {\n          //users can pass in callbacks like onStart/onComplete in the stagger object. These should fire with each individual tween.\n          for (p in stagger) {\n            if (~_staggerTweenProps.indexOf(p)) {\n              staggerVarsToMerge || (staggerVarsToMerge = {});\n              staggerVarsToMerge[p] = stagger[p];\n            }\n          }\n        }\n\n        for (i = 0; i < l; i++) {\n          copy = _copyExcluding(vars, _staggerPropsToSkip);\n          copy.stagger = 0;\n          yoyoEase && (copy.yoyoEase = yoyoEase);\n          staggerVarsToMerge && _merge(copy, staggerVarsToMerge);\n          curTarget = parsedTargets[i]; //don't just copy duration or delay because if they're a string or function, we'd end up in an infinite loop because _isFuncOrString() would evaluate as true in the child tweens, entering this loop, etc. So we parse the value straight from vars and default to 0.\n\n          copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);\n          copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;\n\n          if (!stagger && l === 1 && copy.delay) {\n            // if someone does delay:\"random(1, 5)\", repeat:-1, for example, the delay shouldn't be inside the repeat.\n            _this3._delay = delay = copy.delay;\n            _this3._start += delay;\n            copy.delay = 0;\n          }\n\n          tl.to(curTarget, copy, staggerFunc ? staggerFunc(i, curTarget, parsedTargets) : 0);\n          tl._ease = _easeMap.none;\n        }\n\n        tl.duration() ? duration = delay = 0 : _this3.timeline = 0; // if the timeline's duration is 0, we don't need a timeline internally!\n      } else if (keyframes) {\n        _inheritDefaults(_setDefaults(tl.vars.defaults, {\n          ease: \"none\"\n        }));\n\n        tl._ease = _parseEase(keyframes.ease || vars.ease || \"none\");\n        var time = 0,\n            a,\n            kf,\n            v;\n\n        if (_isArray(keyframes)) {\n          keyframes.forEach(function (frame) {\n            return tl.to(parsedTargets, frame, \">\");\n          });\n          tl.duration(); // to ensure tl._dur is cached because we tap into it for performance purposes in the render() method.\n        } else {\n          copy = {};\n\n          for (p in keyframes) {\n            p === \"ease\" || p === \"easeEach\" || _parseKeyframe(p, keyframes[p], copy, keyframes.easeEach);\n          }\n\n          for (p in copy) {\n            a = copy[p].sort(function (a, b) {\n              return a.t - b.t;\n            });\n            time = 0;\n\n            for (i = 0; i < a.length; i++) {\n              kf = a[i];\n              v = {\n                ease: kf.e,\n                duration: (kf.t - (i ? a[i - 1].t : 0)) / 100 * duration\n              };\n              v[p] = kf.v;\n              tl.to(parsedTargets, v, time);\n              time += v.duration;\n            }\n          }\n\n          tl.duration() < duration && tl.to({}, {\n            duration: duration - tl.duration()\n          }); // in case keyframes didn't go to 100%\n        }\n      }\n\n      duration || _this3.duration(duration = tl.duration());\n    } else {\n      _this3.timeline = 0; //speed optimization, faster lookups (no going up the prototype chain)\n    }\n\n    if (overwrite === true && !_suppressOverwrites) {\n      _overwritingTween = _assertThisInitialized(_this3);\n\n      _globalTimeline.killTweensOf(parsedTargets);\n\n      _overwritingTween = 0;\n    }\n\n    _addToTimeline(parent, _assertThisInitialized(_this3), position);\n\n    vars.reversed && _this3.reverse();\n    vars.paused && _this3.paused(true);\n\n    if (immediateRender || !duration && !keyframes && _this3._start === _roundPrecise(parent._time) && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== \"nested\") {\n      _this3._tTime = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\n      _this3.render(Math.max(0, -delay) || 0); //in case delay is negative\n\n    }\n\n    scrollTrigger && _scrollTrigger(_assertThisInitialized(_this3), scrollTrigger);\n    return _this3;\n  }\n\n  var _proto3 = Tween.prototype;\n\n  _proto3.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._tDur,\n        dur = this._dur,\n        isNegative = totalTime < 0,\n        tTime = totalTime > tDur - _tinyNum && !isNegative ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        time,\n        pt,\n        iteration,\n        cycleDuration,\n        prevIteration,\n        isYoyo,\n        ratio,\n        timeline,\n        yoyoEase;\n\n    if (!dur) {\n      _renderZeroDurationTween(this, totalTime, suppressEvents, force);\n    } else if (tTime !== this._tTime || !totalTime || force || !this._initted && this._tTime || this._startAt && this._zTime < 0 !== isNegative) {\n      //this senses if we're crossing over the start time, in which case we must record _zTime and force the render, but we do it in this lengthy conditional way for performance reasons (usually we can skip the calculations): this._initted && (this._zTime < 0) !== (totalTime < 0)\n      time = tTime;\n      timeline = this.timeline;\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && isNegative) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _roundPrecise(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === tTime / cycleDuration) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        isYoyo = this._yoyo && iteration & 1;\n\n        if (isYoyo) {\n          yoyoEase = this._yEase;\n          time = dur - time;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (time === prevTime && !force && this._initted) {\n          //could be during the repeatDelay part. No need to render and fire callbacks.\n          this._tTime = tTime;\n          return this;\n        }\n\n        if (iteration !== prevIteration) {\n          timeline && this._yEase && _propagateYoyoEase(timeline, isYoyo); //repeatRefresh functionality\n\n          if (this.vars.repeatRefresh && !isYoyo && !this._lock) {\n            this._lock = force = 1; //force, otherwise if lazy is true, the _attemptInitTween() will return and we'll jump out and get caught bouncing on each tick.\n\n            this.render(_roundPrecise(cycleDuration * iteration), true).invalidate()._lock = 0;\n          }\n        }\n      }\n\n      if (!this._initted) {\n        if (_attemptInitTween(this, isNegative ? totalTime : time, force, suppressEvents, tTime)) {\n          this._tTime = 0; // in constructor if immediateRender is true, we set _tTime to -_tinyNum to have the playhead cross the starting point but we can't leave _tTime as a negative number.\n\n          return this;\n        }\n\n        if (prevTime !== this._time) {\n          // rare edge case - during initialization, an onUpdate in the _startAt (.fromTo()) might force this tween to render at a different spot in which case we should ditch this render() call so that it doesn't revert the values.\n          return this;\n        }\n\n        if (dur !== this._dur) {\n          // while initting, a plugin like InertiaPlugin might alter the duration, so rerun from the start to ensure everything renders as it should.\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n\n      if (!this._act && this._ts) {\n        this._act = 1; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n        this._lazy = 0;\n      }\n\n      this.ratio = ratio = (yoyoEase || this._ease)(time / dur);\n\n      if (this._from) {\n        this.ratio = ratio = 1 - ratio;\n      }\n\n      if (time && !prevTime && !suppressEvents && !iteration) {\n        _callback(this, \"onStart\");\n\n        if (this._tTime !== tTime) {\n          // in case the onStart triggered a render at a different spot, eject. Like if someone did animation.pause(0.5) or something inside the onStart.\n          return this;\n        }\n      }\n\n      pt = this._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n\n      timeline && timeline.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline._dur * timeline._ease(time / this._dur), suppressEvents, force) || this._startAt && (this._zTime = totalTime);\n\n      if (this._onUpdate && !suppressEvents) {\n        isNegative && _rewindStartAt(this, totalTime, suppressEvents, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\n        _callback(this, \"onUpdate\");\n      }\n\n      this._repeat && iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n\n      if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {\n        isNegative && !this._onUpdate && _rewindStartAt(this, totalTime, true, true);\n        (totalTime || !dur) && (tTime === this._tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if we're rendering at exactly a time of 0, as there could be autoRevert values that should get set on the next tick (if the playhead goes backward beyond the startTime, negative totalTime). Don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(isNegative && !prevTime) && (tTime || prevTime || isYoyo)) {\n          // if prevTime and tTime are zero, we shouldn't fire the onReverseComplete. This could happen if you gsap.to(... {paused:true}).play();\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto3.targets = function targets() {\n    return this._targets;\n  };\n\n  _proto3.invalidate = function invalidate(soft) {\n    // \"soft\" gives us a way to clear out everything EXCEPT the recorded pre-\"from\" portion of from() tweens. Otherwise, for example, if you tween.progress(1).render(0, true true).invalidate(), the \"from\" values would persist and then on the next render, the from() tweens would initialize and the current value would match the \"from\" values, thus animate from the same value to the same value (no animation). We tap into this in ScrollTrigger's refresh() where we must push a tween to completion and then back again but honor its init state in case the tween is dependent on another tween further up on the page.\n    (!soft || !this.vars.runBackwards) && (this._startAt = 0);\n    this._pt = this._op = this._onUpdate = this._lazy = this.ratio = 0;\n    this._ptLookup = [];\n    this.timeline && this.timeline.invalidate(soft);\n    return _Animation2.prototype.invalidate.call(this, soft);\n  };\n\n  _proto3.resetTo = function resetTo(property, value, start, startIsRelative) {\n    _tickerActive || _ticker.wake();\n    this._ts || this.play();\n    var time = Math.min(this._dur, (this._dp._time - this._start) * this._ts),\n        ratio;\n    this._initted || _initTween(this, time);\n    ratio = this._ease(time / this._dur); // don't just get tween.ratio because it may not have rendered yet.\n    // possible future addition to allow an object with multiple values to update, like tween.resetTo({x: 100, y: 200}); At this point, it doesn't seem worth the added kb given the fact that most users will likely opt for the convenient gsap.quickTo() way of interacting with this method.\n    // if (_isObject(property)) { // performance optimization\n    // \tfor (p in property) {\n    // \t\tif (_updatePropTweens(this, p, property[p], value ? value[p] : null, start, ratio, time)) {\n    // \t\t\treturn this.resetTo(property, value, start, startIsRelative); // if a PropTween wasn't found for the property, it'll get forced with a re-initialization so we need to jump out and start over again.\n    // \t\t}\n    // \t}\n    // } else {\n\n    if (_updatePropTweens(this, property, value, start, startIsRelative, ratio, time)) {\n      return this.resetTo(property, value, start, startIsRelative); // if a PropTween wasn't found for the property, it'll get forced with a re-initialization so we need to jump out and start over again.\n    } //}\n\n\n    _alignPlayhead(this, 0);\n\n    this.parent || _addLinkedListItem(this._dp, this, \"_first\", \"_last\", this._dp._sort ? \"_start\" : 0);\n    return this.render(0);\n  };\n\n  _proto3.kill = function kill(targets, vars) {\n    if (vars === void 0) {\n      vars = \"all\";\n    }\n\n    if (!targets && (!vars || vars === \"all\")) {\n      this._lazy = this._pt = 0;\n      return this.parent ? _interrupt(this) : this;\n    }\n\n    if (this.timeline) {\n      var tDur = this.timeline.totalDuration();\n      this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true)._first || _interrupt(this); // if nothing is left tweening, interrupt.\n\n      this.parent && tDur !== this.timeline.totalDuration() && _setDuration(this, this._dur * this.timeline._tDur / tDur, 0, 1); // if a nested tween is killed that changes the duration, it should affect this tween's duration. We must use the ratio, though, because sometimes the internal timeline is stretched like for keyframes where they don't all add up to whatever the parent tween's duration was set to.\n\n      return this;\n    }\n\n    var parsedTargets = this._targets,\n        killingTargets = targets ? toArray(targets) : parsedTargets,\n        propTweenLookup = this._ptLookup,\n        firstPT = this._pt,\n        overwrittenProps,\n        curLookup,\n        curOverwriteProps,\n        props,\n        p,\n        pt,\n        i;\n\n    if ((!vars || vars === \"all\") && _arraysMatch(parsedTargets, killingTargets)) {\n      vars === \"all\" && (this._pt = 0);\n      return _interrupt(this);\n    }\n\n    overwrittenProps = this._op = this._op || [];\n\n    if (vars !== \"all\") {\n      //so people can pass in a comma-delimited list of property names\n      if (_isString(vars)) {\n        p = {};\n\n        _forEachName(vars, function (name) {\n          return p[name] = 1;\n        });\n\n        vars = p;\n      }\n\n      vars = _addAliasesToVars(parsedTargets, vars);\n    }\n\n    i = parsedTargets.length;\n\n    while (i--) {\n      if (~killingTargets.indexOf(parsedTargets[i])) {\n        curLookup = propTweenLookup[i];\n\n        if (vars === \"all\") {\n          overwrittenProps[i] = vars;\n          props = curLookup;\n          curOverwriteProps = {};\n        } else {\n          curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};\n          props = vars;\n        }\n\n        for (p in props) {\n          pt = curLookup && curLookup[p];\n\n          if (pt) {\n            if (!(\"kill\" in pt.d) || pt.d.kill(p) === true) {\n              _removeLinkedListItem(this, pt, \"_pt\");\n            }\n\n            delete curLookup[p];\n          }\n\n          if (curOverwriteProps !== \"all\") {\n            curOverwriteProps[p] = 1;\n          }\n        }\n      }\n    }\n\n    this._initted && !this._pt && firstPT && _interrupt(this); //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\n\n    return this;\n  };\n\n  Tween.to = function to(targets, vars) {\n    return new Tween(targets, vars, arguments[2]);\n  };\n\n  Tween.from = function from(targets, vars) {\n    return _createTweenType(1, arguments);\n  };\n\n  Tween.delayedCall = function delayedCall(delay, callback, params, scope) {\n    return new Tween(callback, 0, {\n      immediateRender: false,\n      lazy: false,\n      overwrite: false,\n      delay: delay,\n      onComplete: callback,\n      onReverseComplete: callback,\n      onCompleteParams: params,\n      onReverseCompleteParams: params,\n      callbackScope: scope\n    }); // we must use onReverseComplete too for things like timeline.add(() => {...}) which should be triggered in BOTH directions (forward and reverse)\n  };\n\n  Tween.fromTo = function fromTo(targets, fromVars, toVars) {\n    return _createTweenType(2, arguments);\n  };\n\n  Tween.set = function set(targets, vars) {\n    vars.duration = 0;\n    vars.repeatDelay || (vars.repeat = 0);\n    return new Tween(targets, vars);\n  };\n\n  Tween.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    return _globalTimeline.killTweensOf(targets, props, onlyActive);\n  };\n\n  return Tween;\n}(Animation);\n\n_setDefaults(Tween.prototype, {\n  _targets: [],\n  _lazy: 0,\n  _startAt: 0,\n  _op: 0,\n  _onInit: 0\n}); //add the pertinent timeline methods to Tween instances so that users can chain conveniently and create a timeline automatically. (removed due to concerns that it'd ultimately add to more confusion especially for beginners)\n// _forEachName(\"to,from,fromTo,set,call,add,addLabel,addPause\", name => {\n// \tTween.prototype[name] = function() {\n// \t\tlet tl = new Timeline();\n// \t\treturn _addToTimeline(tl, this)[name].apply(tl, toArray(arguments));\n// \t}\n// });\n//for backward compatibility. Leverage the timeline calls.\n\n\n_forEachName(\"staggerTo,staggerFrom,staggerFromTo\", function (name) {\n  Tween[name] = function () {\n    var tl = new Timeline(),\n        params = _slice.call(arguments, 0);\n\n    params.splice(name === \"staggerFromTo\" ? 5 : 4, 0, 0);\n    return tl[name].apply(tl, params);\n  };\n});\n/*\n * --------------------------------------------------------------------------------------\n * PROPTWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _setterPlain = function _setterPlain(target, property, value) {\n  return target[property] = value;\n},\n    _setterFunc = function _setterFunc(target, property, value) {\n  return target[property](value);\n},\n    _setterFuncWithParam = function _setterFuncWithParam(target, property, value, data) {\n  return target[property](data.fp, value);\n},\n    _setterAttribute = function _setterAttribute(target, property, value) {\n  return target.setAttribute(property, value);\n},\n    _getSetter = function _getSetter(target, property) {\n  return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;\n},\n    _renderPlain = function _renderPlain(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 1000000) / 1000000, data);\n},\n    _renderBoolean = function _renderBoolean(ratio, data) {\n  return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);\n},\n    _renderComplexString = function _renderComplexString(ratio, data) {\n  var pt = data._pt,\n      s = \"\";\n\n  if (!ratio && data.b) {\n    //b = beginning string\n    s = data.b;\n  } else if (ratio === 1 && data.e) {\n    //e = ending string\n    s = data.e;\n  } else {\n    while (pt) {\n      s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 10000) / 10000) + s; //we use the \"p\" property for the text inbetween (like a suffix). And in the context of a complex string, the modifier (m) is typically just Math.round(), like for RGB colors.\n\n      pt = pt._next;\n    }\n\n    s += data.c; //we use the \"c\" of the PropTween to store the final chunk of non-numeric text.\n  }\n\n  data.set(data.t, data.p, s, data);\n},\n    _renderPropTweens = function _renderPropTweens(ratio, data) {\n  var pt = data._pt;\n\n  while (pt) {\n    pt.r(ratio, pt.d);\n    pt = pt._next;\n  }\n},\n    _addPluginModifier = function _addPluginModifier(modifier, tween, target, property) {\n  var pt = this._pt,\n      next;\n\n  while (pt) {\n    next = pt._next;\n    pt.p === property && pt.modifier(modifier, tween, target);\n    pt = next;\n  }\n},\n    _killPropTweensOf = function _killPropTweensOf(property) {\n  var pt = this._pt,\n      hasNonDependentRemaining,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property && !pt.op || pt.op === property) {\n      _removeLinkedListItem(this, pt, \"_pt\");\n    } else if (!pt.dep) {\n      hasNonDependentRemaining = 1;\n    }\n\n    pt = next;\n  }\n\n  return !hasNonDependentRemaining;\n},\n    _setterWithModifier = function _setterWithModifier(target, property, value, data) {\n  data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);\n},\n    _sortPropTweensByPriority = function _sortPropTweensByPriority(parent) {\n  var pt = parent._pt,\n      next,\n      pt2,\n      first,\n      last; //sorts the PropTween linked list in order of priority because some plugins need to do their work after ALL of the PropTweens were created (like RoundPropsPlugin and ModifiersPlugin)\n\n  while (pt) {\n    next = pt._next;\n    pt2 = first;\n\n    while (pt2 && pt2.pr > pt.pr) {\n      pt2 = pt2._next;\n    }\n\n    if (pt._prev = pt2 ? pt2._prev : last) {\n      pt._prev._next = pt;\n    } else {\n      first = pt;\n    }\n\n    if (pt._next = pt2) {\n      pt2._prev = pt;\n    } else {\n      last = pt;\n    }\n\n    pt = next;\n  }\n\n  parent._pt = first;\n}; //PropTween key: t = target, p = prop, r = renderer, d = data, s = start, c = change, op = overwriteProperty (ONLY populated when it's different than p), pr = priority, _next/_prev for the linked list siblings, set = setter, m = modifier, mSet = modifierSetter (the original setter, before a modifier was added)\n\n\nexport var PropTween = /*#__PURE__*/function () {\n  function PropTween(next, target, prop, start, change, renderer, data, setter, priority) {\n    this.t = target;\n    this.s = start;\n    this.c = change;\n    this.p = prop;\n    this.r = renderer || _renderPlain;\n    this.d = data || this;\n    this.set = setter || _setterPlain;\n    this.pr = priority || 0;\n    this._next = next;\n\n    if (next) {\n      next._prev = this;\n    }\n  }\n\n  var _proto4 = PropTween.prototype;\n\n  _proto4.modifier = function modifier(func, tween, target) {\n    this.mSet = this.mSet || this.set; //in case it was already set (a PropTween can only have one modifier)\n\n    this.set = _setterWithModifier;\n    this.m = func;\n    this.mt = target; //modifier target\n\n    this.tween = tween;\n  };\n\n  return PropTween;\n}(); //Initialization tasks\n\n_forEachName(_callbackNames + \"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger\", function (name) {\n  return _reservedProps[name] = 1;\n});\n\n_globals.TweenMax = _globals.TweenLite = Tween;\n_globals.TimelineLite = _globals.TimelineMax = Timeline;\n_globalTimeline = new Timeline({\n  sortChildren: false,\n  defaults: _defaults,\n  autoRemoveChildren: true,\n  id: \"root\",\n  smoothChildTiming: true\n});\n_config.stringFilter = _colorStringFilter;\n\nvar _media = [],\n    _listeners = {},\n    _emptyArray = [],\n    _lastMediaTime = 0,\n    _dispatch = function _dispatch(type) {\n  return (_listeners[type] || _emptyArray).map(function (f) {\n    return f();\n  });\n},\n    _onMediaChange = function _onMediaChange() {\n  var time = Date.now(),\n      matches = [];\n\n  if (time - _lastMediaTime > 2) {\n    _dispatch(\"matchMediaInit\");\n\n    _media.forEach(function (c) {\n      var queries = c.queries,\n          conditions = c.conditions,\n          match,\n          p,\n          anyMatch,\n          toggled;\n\n      for (p in queries) {\n        match = _win.matchMedia(queries[p]).matches; // Firefox doesn't update the \"matches\" property of the MediaQueryList object correctly - it only does so as it calls its change handler - so we must re-create a media query here to ensure it's accurate.\n\n        match && (anyMatch = 1);\n\n        if (match !== conditions[p]) {\n          conditions[p] = match;\n          toggled = 1;\n        }\n      }\n\n      if (toggled) {\n        c.revert();\n        anyMatch && matches.push(c);\n      }\n    });\n\n    _dispatch(\"matchMediaRevert\");\n\n    matches.forEach(function (c) {\n      return c.onMatch(c);\n    });\n    _lastMediaTime = time;\n\n    _dispatch(\"matchMedia\");\n  }\n};\n\nvar Context = /*#__PURE__*/function () {\n  function Context(func, scope) {\n    this.selector = scope && selector(scope);\n    this.data = [];\n    this._r = []; // returned/cleanup functions\n\n    this.isReverted = false;\n    func && this.add(func);\n  }\n\n  var _proto5 = Context.prototype;\n\n  _proto5.add = function add(name, func, scope) {\n    // possible future addition if we need the ability to add() an animation to a context and for whatever reason cannot create that animation inside of a context.add(() => {...}) function.\n    // if (name && _isFunction(name.revert)) {\n    // \tthis.data.push(name);\n    // \treturn (name._ctx = this);\n    // }\n    if (_isFunction(name)) {\n      scope = func;\n      func = name;\n      name = _isFunction;\n    }\n\n    var self = this,\n        f = function f() {\n      var prev = _context,\n          prevSelector = self.selector,\n          result;\n      prev && prev !== self && prev.data.push(self);\n      scope && (self.selector = selector(scope));\n      _context = self;\n      result = func.apply(self, arguments);\n      _isFunction(result) && self._r.push(result);\n      _context = prev;\n      self.selector = prevSelector;\n      self.isReverted = false;\n      return result;\n    };\n\n    self.last = f;\n    return name === _isFunction ? f(self) : name ? self[name] = f : f;\n  };\n\n  _proto5.ignore = function ignore(func) {\n    var prev = _context;\n    _context = null;\n    func(this);\n    _context = prev;\n  };\n\n  _proto5.getTweens = function getTweens() {\n    var a = [];\n    this.data.forEach(function (e) {\n      return e instanceof Context ? a.push.apply(a, e.getTweens()) : e instanceof Tween && !(e.parent && e.parent.data === \"nested\") && a.push(e);\n    });\n    return a;\n  };\n\n  _proto5.clear = function clear() {\n    this._r.length = this.data.length = 0;\n  };\n\n  _proto5.kill = function kill(revert, matchMedia) {\n    var _this4 = this;\n\n    if (revert) {\n      var tweens = this.getTweens();\n      this.data.forEach(function (t) {\n        // Flip plugin tweens are very different in that they should actually be pushed to their end. The plugin replaces the timeline's .revert() method to do exactly that. But we also need to remove any of those nested tweens inside the flip timeline so that they don't get individually reverted.\n        if (t.data === \"isFlip\") {\n          t.revert();\n          t.getChildren(true, true, false).forEach(function (tween) {\n            return tweens.splice(tweens.indexOf(tween), 1);\n          });\n        }\n      }); // save as an object so that we can cache the globalTime for each tween to optimize performance during the sort\n\n      tweens.map(function (t) {\n        return {\n          g: t.globalTime(0),\n          t: t\n        };\n      }).sort(function (a, b) {\n        return b.g - a.g || -1;\n      }).forEach(function (o) {\n        return o.t.revert(revert);\n      }); // note: all of the _startAt tweens should be reverted in reverse order that they were created, and they'll all have the same globalTime (-1) so the \" || -1\" in the sort keeps the order properly.\n\n      this.data.forEach(function (e) {\n        return !(e instanceof Animation) && e.revert && e.revert(revert);\n      });\n\n      this._r.forEach(function (f) {\n        return f(revert, _this4);\n      });\n\n      this.isReverted = true;\n    } else {\n      this.data.forEach(function (e) {\n        return e.kill && e.kill();\n      });\n    }\n\n    this.clear();\n\n    if (matchMedia) {\n      var i = _media.indexOf(this);\n\n      !!~i && _media.splice(i, 1);\n    }\n  };\n\n  _proto5.revert = function revert(config) {\n    this.kill(config || {});\n  };\n\n  return Context;\n}();\n\nvar MatchMedia = /*#__PURE__*/function () {\n  function MatchMedia(scope) {\n    this.contexts = [];\n    this.scope = scope;\n  }\n\n  var _proto6 = MatchMedia.prototype;\n\n  _proto6.add = function add(conditions, func, scope) {\n    _isObject(conditions) || (conditions = {\n      matches: conditions\n    });\n    var context = new Context(0, scope || this.scope),\n        cond = context.conditions = {},\n        mq,\n        p,\n        active;\n    this.contexts.push(context);\n    func = context.add(\"onMatch\", func);\n    context.queries = conditions;\n\n    for (p in conditions) {\n      if (p === \"all\") {\n        active = 1;\n      } else {\n        mq = _win.matchMedia(conditions[p]);\n\n        if (mq) {\n          _media.indexOf(context) < 0 && _media.push(context);\n          (cond[p] = mq.matches) && (active = 1);\n          mq.addListener ? mq.addListener(_onMediaChange) : mq.addEventListener(\"change\", _onMediaChange);\n        }\n      }\n    }\n\n    active && func(context);\n    return this;\n  } // refresh() {\n  // \tlet time = _lastMediaTime,\n  // \t\tmedia = _media;\n  // \t_lastMediaTime = -1;\n  // \t_media = this.contexts;\n  // \t_onMediaChange();\n  // \t_lastMediaTime = time;\n  // \t_media = media;\n  // }\n  ;\n\n  _proto6.revert = function revert(config) {\n    this.kill(config || {});\n  };\n\n  _proto6.kill = function kill(revert) {\n    this.contexts.forEach(function (c) {\n      return c.kill(revert, true);\n    });\n  };\n\n  return MatchMedia;\n}();\n/*\n * --------------------------------------------------------------------------------------\n * GSAP\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _gsap = {\n  registerPlugin: function registerPlugin() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args.forEach(function (config) {\n      return _createPlugin(config);\n    });\n  },\n  timeline: function timeline(vars) {\n    return new Timeline(vars);\n  },\n  getTweensOf: function getTweensOf(targets, onlyActive) {\n    return _globalTimeline.getTweensOf(targets, onlyActive);\n  },\n  getProperty: function getProperty(target, property, unit, uncache) {\n    _isString(target) && (target = toArray(target)[0]); //in case selector text or an array is passed in\n\n    var getter = _getCache(target || {}).get,\n        format = unit ? _passThrough : _numericIfPossible;\n\n    unit === \"native\" && (unit = \"\");\n    return !target ? target : !property ? function (property, unit, uncache) {\n      return format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n    } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n  },\n  quickSetter: function quickSetter(target, property, unit) {\n    target = toArray(target);\n\n    if (target.length > 1) {\n      var setters = target.map(function (t) {\n        return gsap.quickSetter(t, property, unit);\n      }),\n          l = setters.length;\n      return function (value) {\n        var i = l;\n\n        while (i--) {\n          setters[i](value);\n        }\n      };\n    }\n\n    target = target[0] || {};\n\n    var Plugin = _plugins[property],\n        cache = _getCache(target),\n        p = cache.harness && (cache.harness.aliases || {})[property] || property,\n        // in case it's an alias, like \"rotate\" for \"rotation\".\n    setter = Plugin ? function (value) {\n      var p = new Plugin();\n      _quickTween._pt = 0;\n      p.init(target, unit ? value + unit : value, _quickTween, 0, [target]);\n      p.render(1, p);\n      _quickTween._pt && _renderPropTweens(1, _quickTween);\n    } : cache.set(target, p);\n\n    return Plugin ? setter : function (value) {\n      return setter(target, p, unit ? value + unit : value, cache, 1);\n    };\n  },\n  quickTo: function quickTo(target, property, vars) {\n    var _merge2;\n\n    var tween = gsap.to(target, _merge((_merge2 = {}, _merge2[property] = \"+=0.1\", _merge2.paused = true, _merge2), vars || {})),\n        func = function func(value, start, startIsRelative) {\n      return tween.resetTo(property, value, start, startIsRelative);\n    };\n\n    func.tween = tween;\n    return func;\n  },\n  isTweening: function isTweening(targets) {\n    return _globalTimeline.getTweensOf(targets, true).length > 0;\n  },\n  defaults: function defaults(value) {\n    value && value.ease && (value.ease = _parseEase(value.ease, _defaults.ease));\n    return _mergeDeep(_defaults, value || {});\n  },\n  config: function config(value) {\n    return _mergeDeep(_config, value || {});\n  },\n  registerEffect: function registerEffect(_ref3) {\n    var name = _ref3.name,\n        effect = _ref3.effect,\n        plugins = _ref3.plugins,\n        defaults = _ref3.defaults,\n        extendTimeline = _ref3.extendTimeline;\n    (plugins || \"\").split(\",\").forEach(function (pluginName) {\n      return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + \" effect requires \" + pluginName + \" plugin.\");\n    });\n\n    _effects[name] = function (targets, vars, tl) {\n      return effect(toArray(targets), _setDefaults(vars || {}, defaults), tl);\n    };\n\n    if (extendTimeline) {\n      Timeline.prototype[name] = function (targets, vars, position) {\n        return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);\n      };\n    }\n  },\n  registerEase: function registerEase(name, ease) {\n    _easeMap[name] = _parseEase(ease);\n  },\n  parseEase: function parseEase(ease, defaultEase) {\n    return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;\n  },\n  getById: function getById(id) {\n    return _globalTimeline.getById(id);\n  },\n  exportRoot: function exportRoot(vars, includeDelayedCalls) {\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    var tl = new Timeline(vars),\n        child,\n        next;\n    tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\n\n    _globalTimeline.remove(tl);\n\n    tl._dp = 0; //otherwise it'll get re-activated when adding children and be re-introduced into _globalTimeline's linked list (then added to itself).\n\n    tl._time = tl._tTime = _globalTimeline._time;\n    child = _globalTimeline._first;\n\n    while (child) {\n      next = child._next;\n\n      if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {\n        _addToTimeline(tl, child, child._start - child._delay);\n      }\n\n      child = next;\n    }\n\n    _addToTimeline(_globalTimeline, tl, 0);\n\n    return tl;\n  },\n  context: function context(func, scope) {\n    return func ? new Context(func, scope) : _context;\n  },\n  matchMedia: function matchMedia(scope) {\n    return new MatchMedia(scope);\n  },\n  matchMediaRefresh: function matchMediaRefresh() {\n    return _media.forEach(function (c) {\n      var cond = c.conditions,\n          found,\n          p;\n\n      for (p in cond) {\n        if (cond[p]) {\n          cond[p] = false;\n          found = 1;\n        }\n      }\n\n      found && c.revert();\n    }) || _onMediaChange();\n  },\n  addEventListener: function addEventListener(type, callback) {\n    var a = _listeners[type] || (_listeners[type] = []);\n    ~a.indexOf(callback) || a.push(callback);\n  },\n  removeEventListener: function removeEventListener(type, callback) {\n    var a = _listeners[type],\n        i = a && a.indexOf(callback);\n    i >= 0 && a.splice(i, 1);\n  },\n  utils: {\n    wrap: wrap,\n    wrapYoyo: wrapYoyo,\n    distribute: distribute,\n    random: random,\n    snap: snap,\n    normalize: normalize,\n    getUnit: getUnit,\n    clamp: clamp,\n    splitColor: splitColor,\n    toArray: toArray,\n    selector: selector,\n    mapRange: mapRange,\n    pipe: pipe,\n    unitize: unitize,\n    interpolate: interpolate,\n    shuffle: shuffle\n  },\n  install: _install,\n  effects: _effects,\n  ticker: _ticker,\n  updateRoot: Timeline.updateRoot,\n  plugins: _plugins,\n  globalTimeline: _globalTimeline,\n  core: {\n    PropTween: PropTween,\n    globals: _addGlobal,\n    Tween: Tween,\n    Timeline: Timeline,\n    Animation: Animation,\n    getCache: _getCache,\n    _removeLinkedListItem: _removeLinkedListItem,\n    reverting: function reverting() {\n      return _reverting;\n    },\n    context: function context(toAdd) {\n      if (toAdd && _context) {\n        _context.data.push(toAdd);\n\n        toAdd._ctx = _context;\n      }\n\n      return _context;\n    },\n    suppressOverwrites: function suppressOverwrites(value) {\n      return _suppressOverwrites = value;\n    }\n  }\n};\n\n_forEachName(\"to,from,fromTo,delayedCall,set,killTweensOf\", function (name) {\n  return _gsap[name] = Tween[name];\n});\n\n_ticker.add(Timeline.updateRoot);\n\n_quickTween = _gsap.to({}, {\n  duration: 0\n}); // ---- EXTRA PLUGINS --------------------------------------------------------\n\nvar _getPluginPropTween = function _getPluginPropTween(plugin, prop) {\n  var pt = plugin._pt;\n\n  while (pt && pt.p !== prop && pt.op !== prop && pt.fp !== prop) {\n    pt = pt._next;\n  }\n\n  return pt;\n},\n    _addModifiers = function _addModifiers(tween, modifiers) {\n  var targets = tween._targets,\n      p,\n      i,\n      pt;\n\n  for (p in modifiers) {\n    i = targets.length;\n\n    while (i--) {\n      pt = tween._ptLookup[i][p];\n\n      if (pt && (pt = pt.d)) {\n        if (pt._pt) {\n          // is a plugin\n          pt = _getPluginPropTween(pt, p);\n        }\n\n        pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);\n      }\n    }\n  }\n},\n    _buildModifierPlugin = function _buildModifierPlugin(name, modifier) {\n  return {\n    name: name,\n    rawVars: 1,\n    //don't pre-process function-based values or \"random()\" strings.\n    init: function init(target, vars, tween) {\n      tween._onInit = function (tween) {\n        var temp, p;\n\n        if (_isString(vars)) {\n          temp = {};\n\n          _forEachName(vars, function (name) {\n            return temp[name] = 1;\n          }); //if the user passes in a comma-delimited list of property names to roundProps, like \"x,y\", we round to whole numbers.\n\n\n          vars = temp;\n        }\n\n        if (modifier) {\n          temp = {};\n\n          for (p in vars) {\n            temp[p] = modifier(vars[p]);\n          }\n\n          vars = temp;\n        }\n\n        _addModifiers(tween, vars);\n      };\n    }\n  };\n}; //register core plugins\n\n\nexport var gsap = _gsap.registerPlugin({\n  name: \"attr\",\n  init: function init(target, vars, tween, index, targets) {\n    var p, pt, v;\n    this.tween = tween;\n\n    for (p in vars) {\n      v = target.getAttribute(p) || \"\";\n      pt = this.add(target, \"setAttribute\", (v || 0) + \"\", vars[p], index, targets, 0, 0, p);\n      pt.op = p;\n      pt.b = v; // record the beginning value so we can revert()\n\n      this._props.push(p);\n    }\n  },\n  render: function render(ratio, data) {\n    var pt = data._pt;\n\n    while (pt) {\n      _reverting ? pt.set(pt.t, pt.p, pt.b, pt) : pt.r(ratio, pt.d); // if reverting, go back to the original (pt.b)\n\n      pt = pt._next;\n    }\n  }\n}, {\n  name: \"endArray\",\n  init: function init(target, value) {\n    var i = value.length;\n\n    while (i--) {\n      this.add(target, i, target[i] || 0, value[i], 0, 0, 0, 0, 0, 1);\n    }\n  }\n}, _buildModifierPlugin(\"roundProps\", _roundModifier), _buildModifierPlugin(\"modifiers\"), _buildModifierPlugin(\"snap\", snap)) || _gsap; //to prevent the core plugins from being dropped via aggressive tree shaking, we must include them in the variable declaration in this way.\n\nTween.version = Timeline.version = gsap.version = \"3.11.5\";\n_coreReady = 1;\n_windowExists() && _wake();\nvar Power0 = _easeMap.Power0,\n    Power1 = _easeMap.Power1,\n    Power2 = _easeMap.Power2,\n    Power3 = _easeMap.Power3,\n    Power4 = _easeMap.Power4,\n    Linear = _easeMap.Linear,\n    Quad = _easeMap.Quad,\n    Cubic = _easeMap.Cubic,\n    Quart = _easeMap.Quart,\n    Quint = _easeMap.Quint,\n    Strong = _easeMap.Strong,\n    Elastic = _easeMap.Elastic,\n    Back = _easeMap.Back,\n    SteppedEase = _easeMap.SteppedEase,\n    Bounce = _easeMap.Bounce,\n    Sine = _easeMap.Sine,\n    Expo = _easeMap.Expo,\n    Circ = _easeMap.Circ;\nexport { Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };\nexport { Tween as TweenMax, Tween as TweenLite, Timeline as TimelineMax, Timeline as TimelineLite, gsap as default, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, selector, mapRange, pipe, unitize, interpolate, shuffle }; //export some internal methods/orojects for use in CSSPlugin so that we can externalize that file and allow custom builds that exclude it.\n\nexport { _getProperty, _numExp, _numWithUnitExp, _isString, _isUndefined, _renderComplexString, _relExp, _setDefaults, _removeLinkedListItem, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _replaceRandom, _checkPlugin, _plugins, _ticker, _config, _roundModifier, _round, _missingPlugin, _getSetter, _getCache, _colorExp, _parseRelative };","/*!\n * CSSPlugin 3.11.5\n * https://greensock.com\n *\n * Copyright 2008-2023, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nimport { gsap, _getProperty, _numExp, _numWithUnitExp, getUnit, _isString, _isUndefined, _renderComplexString, _relExp, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _checkPlugin, _replaceRandom, _plugins, GSCache, PropTween, _config, _ticker, _round, _missingPlugin, _getSetter, _getCache, _colorExp, _parseRelative, _setDefaults, _removeLinkedListItem //for the commented-out className feature.\n} from \"./gsap-core.js\";\n\nvar _win,\n    _doc,\n    _docElement,\n    _pluginInitted,\n    _tempDiv,\n    _tempDivStyler,\n    _recentSetterPlugin,\n    _reverting,\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _transformProps = {},\n    _RAD2DEG = 180 / Math.PI,\n    _DEG2RAD = Math.PI / 180,\n    _atan2 = Math.atan2,\n    _bigNum = 1e8,\n    _capsExp = /([A-Z])/g,\n    _horizontalExp = /(left|right|width|margin|padding|x)/i,\n    _complexExp = /[\\s,\\(]\\S/,\n    _propertyAliases = {\n  autoAlpha: \"opacity,visibility\",\n  scale: \"scaleX,scaleY\",\n  alpha: \"opacity\"\n},\n    _renderCSSProp = function _renderCSSProp(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderPropWithEnd = function _renderPropWithEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning(ratio, data) {\n  return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u : data.b, data);\n},\n    //if units change, we need a way to render the original unit/value when the tween goes all the way back to the beginning (ratio:0)\n_renderRoundedCSSProp = function _renderRoundedCSSProp(ratio, data) {\n  var value = data.s + data.c * ratio;\n  data.set(data.t, data.p, ~~(value + (value < 0 ? -.5 : .5)) + data.u, data);\n},\n    _renderNonTweeningValue = function _renderNonTweeningValue(ratio, data) {\n  return data.set(data.t, data.p, ratio ? data.e : data.b, data);\n},\n    _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);\n},\n    _setterCSSStyle = function _setterCSSStyle(target, property, value) {\n  return target.style[property] = value;\n},\n    _setterCSSProp = function _setterCSSProp(target, property, value) {\n  return target.style.setProperty(property, value);\n},\n    _setterTransform = function _setterTransform(target, property, value) {\n  return target._gsap[property] = value;\n},\n    _setterScale = function _setterScale(target, property, value) {\n  return target._gsap.scaleX = target._gsap.scaleY = value;\n},\n    _setterScaleWithRender = function _setterScaleWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache.scaleX = cache.scaleY = value;\n  cache.renderTransform(ratio, cache);\n},\n    _setterTransformWithRender = function _setterTransformWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache[property] = value;\n  cache.renderTransform(ratio, cache);\n},\n    _transformProp = \"transform\",\n    _transformOriginProp = _transformProp + \"Origin\",\n    _saveStyle = function _saveStyle(property, isNotCSS) {\n  var _this = this;\n\n  var target = this.target,\n      style = target.style;\n\n  if (property in _transformProps) {\n    this.tfm = this.tfm || {};\n\n    if (property !== \"transform\") {\n      property = _propertyAliases[property] || property;\n      ~property.indexOf(\",\") ? property.split(\",\").forEach(function (a) {\n        return _this.tfm[a] = _get(target, a);\n      }) : this.tfm[property] = target._gsap.x ? target._gsap[property] : _get(target, property); // note: scale would map to \"scaleX,scaleY\", thus we loop and apply them both.\n    } else {\n      return _propertyAliases.transform.split(\",\").forEach(function (p) {\n        return _saveStyle.call(_this, p, isNotCSS);\n      });\n    }\n\n    if (this.props.indexOf(_transformProp) >= 0) {\n      return;\n    }\n\n    if (target._gsap.svg) {\n      this.svgo = target.getAttribute(\"data-svg-origin\");\n      this.props.push(_transformOriginProp, isNotCSS, \"\");\n    }\n\n    property = _transformProp;\n  }\n\n  (style || isNotCSS) && this.props.push(property, isNotCSS, style[property]);\n},\n    _removeIndependentTransforms = function _removeIndependentTransforms(style) {\n  if (style.translate) {\n    style.removeProperty(\"translate\");\n    style.removeProperty(\"scale\");\n    style.removeProperty(\"rotate\");\n  }\n},\n    _revertStyle = function _revertStyle() {\n  var props = this.props,\n      target = this.target,\n      style = target.style,\n      cache = target._gsap,\n      i,\n      p;\n\n  for (i = 0; i < props.length; i += 3) {\n    // stored like this: property, isNotCSS, value\n    props[i + 1] ? target[props[i]] = props[i + 2] : props[i + 2] ? style[props[i]] = props[i + 2] : style.removeProperty(props[i].substr(0, 2) === \"--\" ? props[i] : props[i].replace(_capsExp, \"-$1\").toLowerCase());\n  }\n\n  if (this.tfm) {\n    for (p in this.tfm) {\n      cache[p] = this.tfm[p];\n    }\n\n    if (cache.svg) {\n      cache.renderTransform();\n      target.setAttribute(\"data-svg-origin\", this.svgo || \"\");\n    }\n\n    i = _reverting();\n\n    if ((!i || !i.isStart) && !style[_transformProp]) {\n      _removeIndependentTransforms(style);\n\n      cache.uncache = 1; // if it's a startAt that's being reverted in the _initTween() of the core, we don't need to uncache transforms. This is purely a performance optimization.\n    }\n  }\n},\n    _getStyleSaver = function _getStyleSaver(target, properties) {\n  var saver = {\n    target: target,\n    props: [],\n    revert: _revertStyle,\n    save: _saveStyle\n  };\n  target._gsap || gsap.core.getCache(target); // just make sure there's a _gsap cache defined because we read from it in _saveStyle() and it's more efficient to just check it here once.\n\n  properties && properties.split(\",\").forEach(function (p) {\n    return saver.save(p);\n  });\n  return saver;\n},\n    _supports3D,\n    _createElement = function _createElement(type, ns) {\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\n\n  return e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n},\n    _getComputedProperty = function _getComputedProperty(target, property, skipPrefixFallback) {\n  var cs = getComputedStyle(target);\n  return cs[property] || cs.getPropertyValue(property.replace(_capsExp, \"-$1\").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty(target, _checkPropPrefix(property) || property, 1) || \"\"; //css variables may not need caps swapped out for dashes and lowercase.\n},\n    _prefixes = \"O,Moz,ms,Ms,Webkit\".split(\",\"),\n    _checkPropPrefix = function _checkPropPrefix(property, element, preferPrefix) {\n  var e = element || _tempDiv,\n      s = e.style,\n      i = 5;\n\n  if (property in s && !preferPrefix) {\n    return property;\n  }\n\n  property = property.charAt(0).toUpperCase() + property.substr(1);\n\n  while (i-- && !(_prefixes[i] + property in s)) {}\n\n  return i < 0 ? null : (i === 3 ? \"ms\" : i >= 0 ? _prefixes[i] : \"\") + property;\n},\n    _initCore = function _initCore() {\n  if (_windowExists() && window.document) {\n    _win = window;\n    _doc = _win.document;\n    _docElement = _doc.documentElement;\n    _tempDiv = _createElement(\"div\") || {\n      style: {}\n    };\n    _tempDivStyler = _createElement(\"div\");\n    _transformProp = _checkPropPrefix(_transformProp);\n    _transformOriginProp = _transformProp + \"Origin\";\n    _tempDiv.style.cssText = \"border-width:0;line-height:0;position:absolute;padding:0\"; //make sure to override certain properties that may contaminate measurements, in case the user has overreaching style sheets.\n\n    _supports3D = !!_checkPropPrefix(\"perspective\");\n    _reverting = gsap.core.reverting;\n    _pluginInitted = 1;\n  }\n},\n    _getBBoxHack = function _getBBoxHack(swapIfPossible) {\n  //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\n  var svg = _createElement(\"svg\", this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\n      oldParent = this.parentNode,\n      oldSibling = this.nextSibling,\n      oldCSS = this.style.cssText,\n      bbox;\n\n  _docElement.appendChild(svg);\n\n  svg.appendChild(this);\n  this.style.display = \"block\";\n\n  if (swapIfPossible) {\n    try {\n      bbox = this.getBBox();\n      this._gsapBBox = this.getBBox; //store the original\n\n      this.getBBox = _getBBoxHack;\n    } catch (e) {}\n  } else if (this._gsapBBox) {\n    bbox = this._gsapBBox();\n  }\n\n  if (oldParent) {\n    if (oldSibling) {\n      oldParent.insertBefore(this, oldSibling);\n    } else {\n      oldParent.appendChild(this);\n    }\n  }\n\n  _docElement.removeChild(svg);\n\n  this.style.cssText = oldCSS;\n  return bbox;\n},\n    _getAttributeFallbacks = function _getAttributeFallbacks(target, attributesArray) {\n  var i = attributesArray.length;\n\n  while (i--) {\n    if (target.hasAttribute(attributesArray[i])) {\n      return target.getAttribute(attributesArray[i]);\n    }\n  }\n},\n    _getBBox = function _getBBox(target) {\n  var bounds;\n\n  try {\n    bounds = target.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\n  } catch (error) {\n    bounds = _getBBoxHack.call(target, true);\n  }\n\n  bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true)); //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\n\n  return bounds && !bounds.width && !bounds.x && !bounds.y ? {\n    x: +_getAttributeFallbacks(target, [\"x\", \"cx\", \"x1\"]) || 0,\n    y: +_getAttributeFallbacks(target, [\"y\", \"cy\", \"y1\"]) || 0,\n    width: 0,\n    height: 0\n  } : bounds;\n},\n    _isSVG = function _isSVG(e) {\n  return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\n},\n    //reports if the element is an SVG on which getBBox() actually works\n_removeProperty = function _removeProperty(target, property) {\n  if (property) {\n    var style = target.style;\n\n    if (property in _transformProps && property !== _transformOriginProp) {\n      property = _transformProp;\n    }\n\n    if (style.removeProperty) {\n      if (property.substr(0, 2) === \"ms\" || property.substr(0, 6) === \"webkit\") {\n        //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\n        property = \"-\" + property;\n      }\n\n      style.removeProperty(property.replace(_capsExp, \"-$1\").toLowerCase());\n    } else {\n      //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n      style.removeAttribute(property);\n    }\n  }\n},\n    _addNonTweeningPT = function _addNonTweeningPT(plugin, target, property, beginning, end, onlySetAtEnd) {\n  var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);\n  plugin._pt = pt;\n  pt.b = beginning;\n  pt.e = end;\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _nonConvertibleUnits = {\n  deg: 1,\n  rad: 1,\n  turn: 1\n},\n    _nonStandardLayouts = {\n  grid: 1,\n  flex: 1\n},\n    //takes a single value like 20px and converts it to the unit specified, like \"%\", returning only the numeric amount.\n_convertToUnit = function _convertToUnit(target, property, value, unit) {\n  var curValue = parseFloat(value) || 0,\n      curUnit = (value + \"\").trim().substr((curValue + \"\").length) || \"px\",\n      // some browsers leave extra whitespace at the beginning of CSS variables, hence the need to trim()\n  style = _tempDiv.style,\n      horizontal = _horizontalExp.test(property),\n      isRootSVG = target.tagName.toLowerCase() === \"svg\",\n      measureProperty = (isRootSVG ? \"client\" : \"offset\") + (horizontal ? \"Width\" : \"Height\"),\n      amount = 100,\n      toPixels = unit === \"px\",\n      toPercent = unit === \"%\",\n      px,\n      parent,\n      cache,\n      isSVG;\n\n  if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {\n    return curValue;\n  }\n\n  curUnit !== \"px\" && !toPixels && (curValue = _convertToUnit(target, property, value, \"px\"));\n  isSVG = target.getCTM && _isSVG(target);\n\n  if ((toPercent || curUnit === \"%\") && (_transformProps[property] || ~property.indexOf(\"adius\"))) {\n    px = isSVG ? target.getBBox()[horizontal ? \"width\" : \"height\"] : target[measureProperty];\n    return _round(toPercent ? curValue / px * amount : curValue / 100 * px);\n  }\n\n  style[horizontal ? \"width\" : \"height\"] = amount + (toPixels ? curUnit : unit);\n  parent = ~property.indexOf(\"adius\") || unit === \"em\" && target.appendChild && !isRootSVG ? target : target.parentNode;\n\n  if (isSVG) {\n    parent = (target.ownerSVGElement || {}).parentNode;\n  }\n\n  if (!parent || parent === _doc || !parent.appendChild) {\n    parent = _doc.body;\n  }\n\n  cache = parent._gsap;\n\n  if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time && !cache.uncache) {\n    return _round(curValue / cache.width * amount);\n  } else {\n    (toPercent || curUnit === \"%\") && !_nonStandardLayouts[_getComputedProperty(parent, \"display\")] && (style.position = _getComputedProperty(target, \"position\"));\n    parent === target && (style.position = \"static\"); // like for borderRadius, if it's a % we must have it relative to the target itself but that may not have position: relative or position: absolute in which case it'd go up the chain until it finds its offsetParent (bad). position: static protects against that.\n\n    parent.appendChild(_tempDiv);\n    px = _tempDiv[measureProperty];\n    parent.removeChild(_tempDiv);\n    style.position = \"absolute\";\n\n    if (horizontal && toPercent) {\n      cache = _getCache(parent);\n      cache.time = _ticker.time;\n      cache.width = parent[measureProperty];\n    }\n  }\n\n  return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);\n},\n    _get = function _get(target, property, unit, uncache) {\n  var value;\n  _pluginInitted || _initCore();\n\n  if (property in _propertyAliases && property !== \"transform\") {\n    property = _propertyAliases[property];\n\n    if (~property.indexOf(\",\")) {\n      property = property.split(\",\")[0];\n    }\n  }\n\n  if (_transformProps[property] && property !== \"transform\") {\n    value = _parseTransform(target, uncache);\n    value = property !== \"transformOrigin\" ? value[property] : value.svg ? value.origin : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + \" \" + value.zOrigin + \"px\";\n  } else {\n    value = target.style[property];\n\n    if (!value || value === \"auto\" || uncache || ~(value + \"\").indexOf(\"calc(\")) {\n      value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === \"opacity\" ? 1 : 0); // note: some browsers, like Firefox, don't report borderRadius correctly! Instead, it only reports every corner like  borderTopLeftRadius\n    }\n  }\n\n  return unit && !~(value + \"\").trim().indexOf(\" \") ? _convertToUnit(target, property, value, unit) + unit : value;\n},\n    _tweenComplexCSSString = function _tweenComplexCSSString(target, prop, start, end) {\n  // note: we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  if (!start || start === \"none\") {\n    // some browsers like Safari actually PREFER the prefixed property and mis-report the unprefixed value like clipPath (BUG). In other words, even though clipPath exists in the style (\"clipPath\" in target.style) and it's set in the CSS properly (along with -webkit-clip-path), Safari reports clipPath as \"none\" whereas WebkitClipPath reports accurately like \"ellipse(100% 0% at 50% 0%)\", so in this case we must SWITCH to using the prefixed property instead. See https://greensock.com/forums/topic/18310-clippath-doesnt-work-on-ios/\n    var p = _checkPropPrefix(prop, target, 1),\n        s = p && _getComputedProperty(target, p, 1);\n\n    if (s && s !== start) {\n      prop = p;\n      start = s;\n    } else if (prop === \"borderColor\") {\n      start = _getComputedProperty(target, \"borderTopColor\"); // Firefox bug: always reports \"borderColor\" as \"\", so we must fall back to borderTopColor. See https://greensock.com/forums/topic/24583-how-to-return-colors-that-i-had-after-reverse/\n    }\n  }\n\n  var pt = new PropTween(this._pt, target.style, prop, 0, 1, _renderComplexString),\n      index = 0,\n      matchIndex = 0,\n      a,\n      result,\n      startValues,\n      startNum,\n      color,\n      startValue,\n      endValue,\n      endNum,\n      chunk,\n      endUnit,\n      startUnit,\n      endValues;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; // ensure values are strings\n\n  end += \"\";\n\n  if (end === \"auto\") {\n    target.style[prop] = end;\n    end = _getComputedProperty(target, prop) || end;\n    target.style[prop] = start;\n  }\n\n  a = [start, end];\n\n  _colorStringFilter(a); // pass an array with the starting and ending values and let the filter do whatever it needs to the values. If colors are found, it returns true and then we must match where the color shows up order-wise because for things like boxShadow, sometimes the browser provides the computed values with the color FIRST, but the user provides it with the color LAST, so flip them if necessary. Same for drop-shadow().\n\n\n  start = a[0];\n  end = a[1];\n  startValues = start.match(_numWithUnitExp) || [];\n  endValues = end.match(_numWithUnitExp) || [];\n\n  if (endValues.length) {\n    while (result = _numWithUnitExp.exec(end)) {\n      endValue = result[0];\n      chunk = end.substring(index, result.index);\n\n      if (color) {\n        color = (color + 1) % 5;\n      } else if (chunk.substr(-5) === \"rgba(\" || chunk.substr(-5) === \"hsla(\") {\n        color = 1;\n      }\n\n      if (endValue !== (startValue = startValues[matchIndex++] || \"\")) {\n        startNum = parseFloat(startValue) || 0;\n        startUnit = startValue.substr((startNum + \"\").length);\n        endValue.charAt(1) === \"=\" && (endValue = _parseRelative(startNum, endValue) + startUnit);\n        endNum = parseFloat(endValue);\n        endUnit = endValue.substr((endNum + \"\").length);\n        index = _numWithUnitExp.lastIndex - endUnit.length;\n\n        if (!endUnit) {\n          //if something like \"perspective:300\" is passed in and we must add a unit to the end\n          endUnit = endUnit || _config.units[prop] || startUnit;\n\n          if (index === end.length) {\n            end += endUnit;\n            pt.e += endUnit;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          startNum = _convertToUnit(target, prop, startValue, endUnit) || 0;\n        } // these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n\n        pt._pt = {\n          _next: pt._pt,\n          p: chunk || matchIndex === 1 ? chunk : \",\",\n          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n          s: startNum,\n          c: endNum - startNum,\n          m: color && color < 4 || prop === \"zIndex\" ? Math.round : 0\n        };\n      }\n    }\n\n    pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n  } else {\n    pt.r = prop === \"display\" && end === \"none\" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;\n  }\n\n  _relExp.test(end) && (pt.e = 0); //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within another plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _keywordToPercent = {\n  top: \"0%\",\n  bottom: \"100%\",\n  left: \"0%\",\n  right: \"100%\",\n  center: \"50%\"\n},\n    _convertKeywordsToPercentages = function _convertKeywordsToPercentages(value) {\n  var split = value.split(\" \"),\n      x = split[0],\n      y = split[1] || \"50%\";\n\n  if (x === \"top\" || x === \"bottom\" || y === \"left\" || y === \"right\") {\n    //the user provided them in the wrong order, so flip them\n    value = x;\n    x = y;\n    y = value;\n  }\n\n  split[0] = _keywordToPercent[x] || x;\n  split[1] = _keywordToPercent[y] || y;\n  return split.join(\" \");\n},\n    _renderClearProps = function _renderClearProps(ratio, data) {\n  if (data.tween && data.tween._time === data.tween._dur) {\n    var target = data.t,\n        style = target.style,\n        props = data.u,\n        cache = target._gsap,\n        prop,\n        clearTransforms,\n        i;\n\n    if (props === \"all\" || props === true) {\n      style.cssText = \"\";\n      clearTransforms = 1;\n    } else {\n      props = props.split(\",\");\n      i = props.length;\n\n      while (--i > -1) {\n        prop = props[i];\n\n        if (_transformProps[prop]) {\n          clearTransforms = 1;\n          prop = prop === \"transformOrigin\" ? _transformOriginProp : _transformProp;\n        }\n\n        _removeProperty(target, prop);\n      }\n    }\n\n    if (clearTransforms) {\n      _removeProperty(target, _transformProp);\n\n      if (cache) {\n        cache.svg && target.removeAttribute(\"transform\");\n\n        _parseTransform(target, 1); // force all the cached values back to \"normal\"/identity, otherwise if there's another tween that's already set to render transforms on this element, it could display the wrong values.\n\n\n        cache.uncache = 1;\n\n        _removeIndependentTransforms(style);\n      }\n    }\n  }\n},\n    // note: specialProps should return 1 if (and only if) they have a non-zero priority. It indicates we need to sort the linked list.\n_specialProps = {\n  clearProps: function clearProps(plugin, target, property, endValue, tween) {\n    if (tween.data !== \"isFromStart\") {\n      var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);\n      pt.u = endValue;\n      pt.pr = -10;\n      pt.tween = tween;\n\n      plugin._props.push(property);\n\n      return 1;\n    }\n  }\n  /* className feature (about 0.4kb gzipped).\n  , className(plugin, target, property, endValue, tween) {\n  \tlet _renderClassName = (ratio, data) => {\n  \t\t\tdata.css.render(ratio, data.css);\n  \t\t\tif (!ratio || ratio === 1) {\n  \t\t\t\tlet inline = data.rmv,\n  \t\t\t\t\ttarget = data.t,\n  \t\t\t\t\tp;\n  \t\t\t\ttarget.setAttribute(\"class\", ratio ? data.e : data.b);\n  \t\t\t\tfor (p in inline) {\n  \t\t\t\t\t_removeProperty(target, p);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t},\n  \t\t_getAllStyles = (target) => {\n  \t\t\tlet styles = {},\n  \t\t\t\tcomputed = getComputedStyle(target),\n  \t\t\t\tp;\n  \t\t\tfor (p in computed) {\n  \t\t\t\tif (isNaN(p) && p !== \"cssText\" && p !== \"length\") {\n  \t\t\t\t\tstyles[p] = computed[p];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\t_setDefaults(styles, _parseTransform(target, 1));\n  \t\t\treturn styles;\n  \t\t},\n  \t\tstartClassList = target.getAttribute(\"class\"),\n  \t\tstyle = target.style,\n  \t\tcssText = style.cssText,\n  \t\tcache = target._gsap,\n  \t\tclassPT = cache.classPT,\n  \t\tinlineToRemoveAtEnd = {},\n  \t\tdata = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== \"=\") ? endValue : startClassList.replace(new RegExp(\"(?:\\\\s|^)\" + endValue.substr(2) + \"(?![\\\\w-])\"), \"\") + ((endValue.charAt(0) === \"+\") ? \" \" + endValue.substr(2) : \"\")},\n  \t\tchangingVars = {},\n  \t\tstartVars = _getAllStyles(target),\n  \t\ttransformRelated = /(transform|perspective)/i,\n  \t\tendVars, p;\n  \tif (classPT) {\n  \t\tclassPT.r(1, classPT.d);\n  \t\t_removeLinkedListItem(classPT.d.plugin, classPT, \"_pt\");\n  \t}\n  \ttarget.setAttribute(\"class\", data.e);\n  \tendVars = _getAllStyles(target, true);\n  \ttarget.setAttribute(\"class\", startClassList);\n  \tfor (p in endVars) {\n  \t\tif (endVars[p] !== startVars[p] && !transformRelated.test(p)) {\n  \t\t\tchangingVars[p] = endVars[p];\n  \t\t\tif (!style[p] && style[p] !== \"0\") {\n  \t\t\t\tinlineToRemoveAtEnd[p] = 1;\n  \t\t\t}\n  \t\t}\n  \t}\n  \tcache.classPT = plugin._pt = new PropTween(plugin._pt, target, \"className\", 0, 0, _renderClassName, data, 0, -11);\n  \tif (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\n  \t\tstyle.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\n  \t}\n  \t_parseTransform(target, true); //to clear the caching of transforms\n  \tdata.css = new gsap.plugins.css();\n  \tdata.css.init(target, changingVars, tween);\n  \tplugin._props.push(...data.css._props);\n  \treturn 1;\n  }\n  */\n\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TRANSFORMS\n * --------------------------------------------------------------------------------------\n */\n_identity2DMatrix = [1, 0, 0, 1, 0, 0],\n    _rotationalProperties = {},\n    _isNullTransform = function _isNullTransform(value) {\n  return value === \"matrix(1, 0, 0, 1, 0, 0)\" || value === \"none\" || !value;\n},\n    _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray(target) {\n  var matrixString = _getComputedProperty(target, _transformProp);\n\n  return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);\n},\n    _getMatrix = function _getMatrix(target, force2D) {\n  var cache = target._gsap || _getCache(target),\n      style = target.style,\n      matrix = _getComputedTransformMatrixAsArray(target),\n      parent,\n      nextSibling,\n      temp,\n      addedToDOM;\n\n  if (cache.svg && target.getAttribute(\"transform\")) {\n    temp = target.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\n\n    matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];\n    return matrix.join(\",\") === \"1,0,0,1,0,0\" ? _identity2DMatrix : matrix;\n  } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {\n    //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\n    temp = style.display;\n    style.display = \"block\";\n    parent = target.parentNode;\n\n    if (!parent || !target.offsetParent) {\n      // note: in 3.3.0 we switched target.offsetParent to _doc.body.contains(target) to avoid [sometimes unnecessary] MutationObserver calls but that wasn't adequate because there are edge cases where nested position: fixed elements need to get reparented to accurately sense transforms. See https://github.com/greensock/GSAP/issues/388 and https://github.com/greensock/GSAP/issues/375\n      addedToDOM = 1; //flag\n\n      nextSibling = target.nextElementSibling;\n\n      _docElement.appendChild(target); //we must add it to the DOM in order to get values properly\n\n    }\n\n    matrix = _getComputedTransformMatrixAsArray(target);\n    temp ? style.display = temp : _removeProperty(target, \"display\");\n\n    if (addedToDOM) {\n      nextSibling ? parent.insertBefore(target, nextSibling) : parent ? parent.appendChild(target) : _docElement.removeChild(target);\n    }\n  }\n\n  return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;\n},\n    _applySVGOrigin = function _applySVGOrigin(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {\n  var cache = target._gsap,\n      matrix = matrixArray || _getMatrix(target, true),\n      xOriginOld = cache.xOrigin || 0,\n      yOriginOld = cache.yOrigin || 0,\n      xOffsetOld = cache.xOffset || 0,\n      yOffsetOld = cache.yOffset || 0,\n      a = matrix[0],\n      b = matrix[1],\n      c = matrix[2],\n      d = matrix[3],\n      tx = matrix[4],\n      ty = matrix[5],\n      originSplit = origin.split(\" \"),\n      xOrigin = parseFloat(originSplit[0]) || 0,\n      yOrigin = parseFloat(originSplit[1]) || 0,\n      bounds,\n      determinant,\n      x,\n      y;\n\n  if (!originIsAbsolute) {\n    bounds = _getBBox(target);\n    xOrigin = bounds.x + (~originSplit[0].indexOf(\"%\") ? xOrigin / 100 * bounds.width : xOrigin);\n    yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf(\"%\") ? yOrigin / 100 * bounds.height : yOrigin);\n  } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {\n    //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\n    x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;\n    y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;\n    xOrigin = x;\n    yOrigin = y;\n  }\n\n  if (smooth || smooth !== false && cache.smooth) {\n    tx = xOrigin - xOriginOld;\n    ty = yOrigin - yOriginOld;\n    cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;\n    cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;\n  } else {\n    cache.xOffset = cache.yOffset = 0;\n  }\n\n  cache.xOrigin = xOrigin;\n  cache.yOrigin = yOrigin;\n  cache.smooth = !!smooth;\n  cache.origin = origin;\n  cache.originIsAbsolute = !!originIsAbsolute;\n  target.style[_transformOriginProp] = \"0px 0px\"; //otherwise, if someone sets  an origin via CSS, it will likely interfere with the SVG transform attribute ones (because remember, we're baking the origin into the matrix() value).\n\n  if (pluginToAddPropTweensTo) {\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOrigin\", xOriginOld, xOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOrigin\", yOriginOld, yOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOffset\", xOffsetOld, cache.xOffset);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOffset\", yOffsetOld, cache.yOffset);\n  }\n\n  target.setAttribute(\"data-svg-origin\", xOrigin + \" \" + yOrigin);\n},\n    _parseTransform = function _parseTransform(target, uncache) {\n  var cache = target._gsap || new GSCache(target);\n\n  if (\"x\" in cache && !uncache && !cache.uncache) {\n    return cache;\n  }\n\n  var style = target.style,\n      invertedScaleX = cache.scaleX < 0,\n      px = \"px\",\n      deg = \"deg\",\n      cs = getComputedStyle(target),\n      origin = _getComputedProperty(target, _transformOriginProp) || \"0\",\n      x,\n      y,\n      z,\n      scaleX,\n      scaleY,\n      rotation,\n      rotationX,\n      rotationY,\n      skewX,\n      skewY,\n      perspective,\n      xOrigin,\n      yOrigin,\n      matrix,\n      angle,\n      cos,\n      sin,\n      a,\n      b,\n      c,\n      d,\n      a12,\n      a22,\n      t1,\n      t2,\n      t3,\n      a13,\n      a23,\n      a33,\n      a42,\n      a43,\n      a32;\n  x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;\n  scaleX = scaleY = 1;\n  cache.svg = !!(target.getCTM && _isSVG(target));\n\n  if (cs.translate) {\n    // accommodate independent transforms by combining them into normal ones.\n    if (cs.translate !== \"none\" || cs.scale !== \"none\" || cs.rotate !== \"none\") {\n      style[_transformProp] = (cs.translate !== \"none\" ? \"translate3d(\" + (cs.translate + \" 0 0\").split(\" \").slice(0, 3).join(\", \") + \") \" : \"\") + (cs.rotate !== \"none\" ? \"rotate(\" + cs.rotate + \") \" : \"\") + (cs.scale !== \"none\" ? \"scale(\" + cs.scale.split(\" \").join(\",\") + \") \" : \"\") + (cs[_transformProp] !== \"none\" ? cs[_transformProp] : \"\");\n    }\n\n    style.scale = style.rotate = style.translate = \"none\";\n  }\n\n  matrix = _getMatrix(target, cache.svg);\n\n  if (cache.svg) {\n    if (cache.uncache) {\n      // if cache.uncache is true (and maybe if origin is 0,0), we need to set element.style.transformOrigin = (cache.xOrigin - bbox.x) + \"px \" + (cache.yOrigin - bbox.y) + \"px\". Previously we let the data-svg-origin stay instead, but when introducing revert(), it complicated things.\n      t2 = target.getBBox();\n      origin = cache.xOrigin - t2.x + \"px \" + (cache.yOrigin - t2.y) + \"px\";\n      t1 = \"\";\n    } else {\n      t1 = !uncache && target.getAttribute(\"data-svg-origin\"); //  Remember, to work around browser inconsistencies we always force SVG elements' transformOrigin to 0,0 and offset the translation accordingly.\n    }\n\n    _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);\n  }\n\n  xOrigin = cache.xOrigin || 0;\n  yOrigin = cache.yOrigin || 0;\n\n  if (matrix !== _identity2DMatrix) {\n    a = matrix[0]; //a11\n\n    b = matrix[1]; //a21\n\n    c = matrix[2]; //a31\n\n    d = matrix[3]; //a41\n\n    x = a12 = matrix[4];\n    y = a22 = matrix[5]; //2D matrix\n\n    if (matrix.length === 6) {\n      scaleX = Math.sqrt(a * a + b * b);\n      scaleY = Math.sqrt(d * d + c * c);\n      rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\n\n      skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;\n      skewX && (scaleY *= Math.abs(Math.cos(skewX * _DEG2RAD)));\n\n      if (cache.svg) {\n        x -= xOrigin - (xOrigin * a + yOrigin * c);\n        y -= yOrigin - (xOrigin * b + yOrigin * d);\n      } //3D matrix\n\n    } else {\n      a32 = matrix[6];\n      a42 = matrix[7];\n      a13 = matrix[8];\n      a23 = matrix[9];\n      a33 = matrix[10];\n      a43 = matrix[11];\n      x = matrix[12];\n      y = matrix[13];\n      z = matrix[14];\n      angle = _atan2(a32, a33);\n      rotationX = angle * _RAD2DEG; //rotationX\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a12 * cos + a13 * sin;\n        t2 = a22 * cos + a23 * sin;\n        t3 = a32 * cos + a33 * sin;\n        a13 = a12 * -sin + a13 * cos;\n        a23 = a22 * -sin + a23 * cos;\n        a33 = a32 * -sin + a33 * cos;\n        a43 = a42 * -sin + a43 * cos;\n        a12 = t1;\n        a22 = t2;\n        a32 = t3;\n      } //rotationY\n\n\n      angle = _atan2(-c, a33);\n      rotationY = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a * cos - a13 * sin;\n        t2 = b * cos - a23 * sin;\n        t3 = c * cos - a33 * sin;\n        a43 = d * sin + a43 * cos;\n        a = t1;\n        b = t2;\n        c = t3;\n      } //rotationZ\n\n\n      angle = _atan2(b, a);\n      rotation = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(angle);\n        sin = Math.sin(angle);\n        t1 = a * cos + b * sin;\n        t2 = a12 * cos + a22 * sin;\n        b = b * cos - a * sin;\n        a22 = a22 * cos - a12 * sin;\n        a = t1;\n        a12 = t2;\n      }\n\n      if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {\n        //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\n        rotationX = rotation = 0;\n        rotationY = 180 - rotationY;\n      }\n\n      scaleX = _round(Math.sqrt(a * a + b * b + c * c));\n      scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));\n      angle = _atan2(a12, a22);\n      skewX = Math.abs(angle) > 0.0002 ? angle * _RAD2DEG : 0;\n      perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;\n    }\n\n    if (cache.svg) {\n      //sense if there are CSS transforms applied on an SVG element in which case we must overwrite them when rendering. The transform attribute is more reliable cross-browser, but we can't just remove the CSS ones because they may be applied in a CSS rule somewhere (not just inline).\n      t1 = target.getAttribute(\"transform\");\n      cache.forceCSS = target.setAttribute(\"transform\", \"\") || !_isNullTransform(_getComputedProperty(target, _transformProp));\n      t1 && target.setAttribute(\"transform\", t1);\n    }\n  }\n\n  if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\n    if (invertedScaleX) {\n      scaleX *= -1;\n      skewX += rotation <= 0 ? 180 : -180;\n      rotation += rotation <= 0 ? 180 : -180;\n    } else {\n      scaleY *= -1;\n      skewX += skewX <= 0 ? 180 : -180;\n    }\n  }\n\n  uncache = uncache || cache.uncache;\n  cache.x = x - ((cache.xPercent = x && (!uncache && cache.xPercent || (Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0))) ? target.offsetWidth * cache.xPercent / 100 : 0) + px;\n  cache.y = y - ((cache.yPercent = y && (!uncache && cache.yPercent || (Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0))) ? target.offsetHeight * cache.yPercent / 100 : 0) + px;\n  cache.z = z + px;\n  cache.scaleX = _round(scaleX);\n  cache.scaleY = _round(scaleY);\n  cache.rotation = _round(rotation) + deg;\n  cache.rotationX = _round(rotationX) + deg;\n  cache.rotationY = _round(rotationY) + deg;\n  cache.skewX = skewX + deg;\n  cache.skewY = skewY + deg;\n  cache.transformPerspective = perspective + px;\n\n  if (cache.zOrigin = parseFloat(origin.split(\" \")[2]) || 0) {\n    style[_transformOriginProp] = _firstTwoOnly(origin);\n  }\n\n  cache.xOffset = cache.yOffset = 0;\n  cache.force3D = _config.force3D;\n  cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;\n  cache.uncache = 0;\n  return cache;\n},\n    _firstTwoOnly = function _firstTwoOnly(value) {\n  return (value = value.split(\" \"))[0] + \" \" + value[1];\n},\n    //for handling transformOrigin values, stripping out the 3rd dimension\n_addPxTranslate = function _addPxTranslate(target, start, value) {\n  var unit = getUnit(start);\n  return _round(parseFloat(start) + parseFloat(_convertToUnit(target, \"x\", value + \"px\", unit))) + unit;\n},\n    _renderNon3DTransforms = function _renderNon3DTransforms(ratio, cache) {\n  cache.z = \"0px\";\n  cache.rotationY = cache.rotationX = \"0deg\";\n  cache.force3D = 0;\n\n  _renderCSSTransforms(ratio, cache);\n},\n    _zeroDeg = \"0deg\",\n    _zeroPx = \"0px\",\n    _endParenthesis = \") \",\n    _renderCSSTransforms = function _renderCSSTransforms(ratio, cache) {\n  var _ref = cache || this,\n      xPercent = _ref.xPercent,\n      yPercent = _ref.yPercent,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      rotation = _ref.rotation,\n      rotationY = _ref.rotationY,\n      rotationX = _ref.rotationX,\n      skewX = _ref.skewX,\n      skewY = _ref.skewY,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      transformPerspective = _ref.transformPerspective,\n      force3D = _ref.force3D,\n      target = _ref.target,\n      zOrigin = _ref.zOrigin,\n      transforms = \"\",\n      use3D = force3D === \"auto\" && ratio && ratio !== 1 || force3D === true; // Safari has a bug that causes it not to render 3D transform-origin values properly, so we force the z origin to 0, record it in the cache, and then do the math here to offset the translate values accordingly (basically do the 3D transform-origin part manually)\n\n\n  if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {\n    var angle = parseFloat(rotationY) * _DEG2RAD,\n        a13 = Math.sin(angle),\n        a33 = Math.cos(angle),\n        cos;\n\n    angle = parseFloat(rotationX) * _DEG2RAD;\n    cos = Math.cos(angle);\n    x = _addPxTranslate(target, x, a13 * cos * -zOrigin);\n    y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);\n    z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);\n  }\n\n  if (transformPerspective !== _zeroPx) {\n    transforms += \"perspective(\" + transformPerspective + _endParenthesis;\n  }\n\n  if (xPercent || yPercent) {\n    transforms += \"translate(\" + xPercent + \"%, \" + yPercent + \"%) \";\n  }\n\n  if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {\n    transforms += z !== _zeroPx || use3D ? \"translate3d(\" + x + \", \" + y + \", \" + z + \") \" : \"translate(\" + x + \", \" + y + _endParenthesis;\n  }\n\n  if (rotation !== _zeroDeg) {\n    transforms += \"rotate(\" + rotation + _endParenthesis;\n  }\n\n  if (rotationY !== _zeroDeg) {\n    transforms += \"rotateY(\" + rotationY + _endParenthesis;\n  }\n\n  if (rotationX !== _zeroDeg) {\n    transforms += \"rotateX(\" + rotationX + _endParenthesis;\n  }\n\n  if (skewX !== _zeroDeg || skewY !== _zeroDeg) {\n    transforms += \"skew(\" + skewX + \", \" + skewY + _endParenthesis;\n  }\n\n  if (scaleX !== 1 || scaleY !== 1) {\n    transforms += \"scale(\" + scaleX + \", \" + scaleY + _endParenthesis;\n  }\n\n  target.style[_transformProp] = transforms || \"translate(0, 0)\";\n},\n    _renderSVGTransforms = function _renderSVGTransforms(ratio, cache) {\n  var _ref2 = cache || this,\n      xPercent = _ref2.xPercent,\n      yPercent = _ref2.yPercent,\n      x = _ref2.x,\n      y = _ref2.y,\n      rotation = _ref2.rotation,\n      skewX = _ref2.skewX,\n      skewY = _ref2.skewY,\n      scaleX = _ref2.scaleX,\n      scaleY = _ref2.scaleY,\n      target = _ref2.target,\n      xOrigin = _ref2.xOrigin,\n      yOrigin = _ref2.yOrigin,\n      xOffset = _ref2.xOffset,\n      yOffset = _ref2.yOffset,\n      forceCSS = _ref2.forceCSS,\n      tx = parseFloat(x),\n      ty = parseFloat(y),\n      a11,\n      a21,\n      a12,\n      a22,\n      temp;\n\n  rotation = parseFloat(rotation);\n  skewX = parseFloat(skewX);\n  skewY = parseFloat(skewY);\n\n  if (skewY) {\n    //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\n    skewY = parseFloat(skewY);\n    skewX += skewY;\n    rotation += skewY;\n  }\n\n  if (rotation || skewX) {\n    rotation *= _DEG2RAD;\n    skewX *= _DEG2RAD;\n    a11 = Math.cos(rotation) * scaleX;\n    a21 = Math.sin(rotation) * scaleX;\n    a12 = Math.sin(rotation - skewX) * -scaleY;\n    a22 = Math.cos(rotation - skewX) * scaleY;\n\n    if (skewX) {\n      skewY *= _DEG2RAD;\n      temp = Math.tan(skewX - skewY);\n      temp = Math.sqrt(1 + temp * temp);\n      a12 *= temp;\n      a22 *= temp;\n\n      if (skewY) {\n        temp = Math.tan(skewY);\n        temp = Math.sqrt(1 + temp * temp);\n        a11 *= temp;\n        a21 *= temp;\n      }\n    }\n\n    a11 = _round(a11);\n    a21 = _round(a21);\n    a12 = _round(a12);\n    a22 = _round(a22);\n  } else {\n    a11 = scaleX;\n    a22 = scaleY;\n    a21 = a12 = 0;\n  }\n\n  if (tx && !~(x + \"\").indexOf(\"px\") || ty && !~(y + \"\").indexOf(\"px\")) {\n    tx = _convertToUnit(target, \"x\", x, \"px\");\n    ty = _convertToUnit(target, \"y\", y, \"px\");\n  }\n\n  if (xOrigin || yOrigin || xOffset || yOffset) {\n    tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);\n    ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);\n  }\n\n  if (xPercent || yPercent) {\n    //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the translation to simulate it.\n    temp = target.getBBox();\n    tx = _round(tx + xPercent / 100 * temp.width);\n    ty = _round(ty + yPercent / 100 * temp.height);\n  }\n\n  temp = \"matrix(\" + a11 + \",\" + a21 + \",\" + a12 + \",\" + a22 + \",\" + tx + \",\" + ty + \")\";\n  target.setAttribute(\"transform\", temp);\n  forceCSS && (target.style[_transformProp] = temp); //some browsers prioritize CSS transforms over the transform attribute. When we sense that the user has CSS transforms applied, we must overwrite them this way (otherwise some browser simply won't render the transform attribute changes!)\n},\n    _addRotationalPropTween = function _addRotationalPropTween(plugin, target, property, startNum, endValue) {\n  var cap = 360,\n      isString = _isString(endValue),\n      endNum = parseFloat(endValue) * (isString && ~endValue.indexOf(\"rad\") ? _RAD2DEG : 1),\n      change = endNum - startNum,\n      finalValue = startNum + change + \"deg\",\n      direction,\n      pt;\n\n  if (isString) {\n    direction = endValue.split(\"_\")[1];\n\n    if (direction === \"short\") {\n      change %= cap;\n\n      if (change !== change % (cap / 2)) {\n        change += change < 0 ? cap : -cap;\n      }\n    }\n\n    if (direction === \"cw\" && change < 0) {\n      change = (change + cap * _bigNum) % cap - ~~(change / cap) * cap;\n    } else if (direction === \"ccw\" && change > 0) {\n      change = (change - cap * _bigNum) % cap - ~~(change / cap) * cap;\n    }\n  }\n\n  plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);\n  pt.e = finalValue;\n  pt.u = \"deg\";\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _assign = function _assign(target, source) {\n  // Internet Explorer doesn't have Object.assign(), so we recreate it here.\n  for (var p in source) {\n    target[p] = source[p];\n  }\n\n  return target;\n},\n    _addRawTransformPTs = function _addRawTransformPTs(plugin, transforms, target) {\n  //for handling cases where someone passes in a whole transform string, like transform: \"scale(2, 3) rotate(20deg) translateY(30em)\"\n  var startCache = _assign({}, target._gsap),\n      exclude = \"perspective,force3D,transformOrigin,svgOrigin\",\n      style = target.style,\n      endCache,\n      p,\n      startValue,\n      endValue,\n      startNum,\n      endNum,\n      startUnit,\n      endUnit;\n\n  if (startCache.svg) {\n    startValue = target.getAttribute(\"transform\");\n    target.setAttribute(\"transform\", \"\");\n    style[_transformProp] = transforms;\n    endCache = _parseTransform(target, 1);\n\n    _removeProperty(target, _transformProp);\n\n    target.setAttribute(\"transform\", startValue);\n  } else {\n    startValue = getComputedStyle(target)[_transformProp];\n    style[_transformProp] = transforms;\n    endCache = _parseTransform(target, 1);\n    style[_transformProp] = startValue;\n  }\n\n  for (p in _transformProps) {\n    startValue = startCache[p];\n    endValue = endCache[p];\n\n    if (startValue !== endValue && exclude.indexOf(p) < 0) {\n      //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\n      startUnit = getUnit(startValue);\n      endUnit = getUnit(endValue);\n      startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);\n      endNum = parseFloat(endValue);\n      plugin._pt = new PropTween(plugin._pt, endCache, p, startNum, endNum - startNum, _renderCSSProp);\n      plugin._pt.u = endUnit || 0;\n\n      plugin._props.push(p);\n    }\n  }\n\n  _assign(endCache, startCache);\n}; // handle splitting apart padding, margin, borderWidth, and borderRadius into their 4 components. Firefox, for example, won't report borderRadius correctly - it will only do borderTopLeftRadius and the other corners. We also want to handle paddingTop, marginLeft, borderRightWidth, etc.\n\n\n_forEachName(\"padding,margin,Width,Radius\", function (name, index) {\n  var t = \"Top\",\n      r = \"Right\",\n      b = \"Bottom\",\n      l = \"Left\",\n      props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function (side) {\n    return index < 2 ? name + side : \"border\" + side + name;\n  });\n\n  _specialProps[index > 1 ? \"border\" + name : name] = function (plugin, target, property, endValue, tween) {\n    var a, vars;\n\n    if (arguments.length < 4) {\n      // getter, passed target, property, and unit (from _get())\n      a = props.map(function (prop) {\n        return _get(plugin, prop, property);\n      });\n      vars = a.join(\" \");\n      return vars.split(a[0]).length === 5 ? a[0] : vars;\n    }\n\n    a = (endValue + \"\").split(\" \");\n    vars = {};\n    props.forEach(function (prop, i) {\n      return vars[prop] = a[i] = a[i] || a[(i - 1) / 2 | 0];\n    });\n    plugin.init(target, vars, tween);\n  };\n});\n\nexport var CSSPlugin = {\n  name: \"css\",\n  register: _initCore,\n  targetTest: function targetTest(target) {\n    return target.style && target.nodeType;\n  },\n  init: function init(target, vars, tween, index, targets) {\n    var props = this._props,\n        style = target.style,\n        startAt = tween.vars.startAt,\n        startValue,\n        endValue,\n        endNum,\n        startNum,\n        type,\n        specialProp,\n        p,\n        startUnit,\n        endUnit,\n        relative,\n        isTransformRelated,\n        transformPropTween,\n        cache,\n        smooth,\n        hasPriority,\n        inlineProps;\n    _pluginInitted || _initCore(); // we may call init() multiple times on the same plugin instance, like when adding special properties, so make sure we don't overwrite the revert data or inlineProps\n\n    this.styles = this.styles || _getStyleSaver(target);\n    inlineProps = this.styles.props;\n    this.tween = tween;\n\n    for (p in vars) {\n      if (p === \"autoRound\") {\n        continue;\n      }\n\n      endValue = vars[p];\n\n      if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {\n        // plugins\n        continue;\n      }\n\n      type = typeof endValue;\n      specialProp = _specialProps[p];\n\n      if (type === \"function\") {\n        endValue = endValue.call(tween, index, target, targets);\n        type = typeof endValue;\n      }\n\n      if (type === \"string\" && ~endValue.indexOf(\"random(\")) {\n        endValue = _replaceRandom(endValue);\n      }\n\n      if (specialProp) {\n        specialProp(this, target, p, endValue, tween) && (hasPriority = 1);\n      } else if (p.substr(0, 2) === \"--\") {\n        //CSS variable\n        startValue = (getComputedStyle(target).getPropertyValue(p) + \"\").trim();\n        endValue += \"\";\n        _colorExp.lastIndex = 0;\n\n        if (!_colorExp.test(startValue)) {\n          // colors don't have units\n          startUnit = getUnit(startValue);\n          endUnit = getUnit(endValue);\n        }\n\n        endUnit ? startUnit !== endUnit && (startValue = _convertToUnit(target, p, startValue, endUnit) + endUnit) : startUnit && (endValue += startUnit);\n        this.add(style, \"setProperty\", startValue, endValue, index, targets, 0, 0, p);\n        props.push(p);\n        inlineProps.push(p, 0, style[p]);\n      } else if (type !== \"undefined\") {\n        if (startAt && p in startAt) {\n          // in case someone hard-codes a complex value as the start, like top: \"calc(2vh / 2)\". Without this, it'd use the computed value (always in px)\n          startValue = typeof startAt[p] === \"function\" ? startAt[p].call(tween, index, target, targets) : startAt[p];\n          _isString(startValue) && ~startValue.indexOf(\"random(\") && (startValue = _replaceRandom(startValue));\n          getUnit(startValue + \"\") || (startValue += _config.units[p] || getUnit(_get(target, p)) || \"\"); // for cases when someone passes in a unitless value like {x: 100}; if we try setting translate(100, 0px) it won't work.\n\n          (startValue + \"\").charAt(1) === \"=\" && (startValue = _get(target, p)); // can't work with relative values\n        } else {\n          startValue = _get(target, p);\n        }\n\n        startNum = parseFloat(startValue);\n        relative = type === \"string\" && endValue.charAt(1) === \"=\" && endValue.substr(0, 2);\n        relative && (endValue = endValue.substr(2));\n        endNum = parseFloat(endValue);\n\n        if (p in _propertyAliases) {\n          if (p === \"autoAlpha\") {\n            //special case where we control the visibility along with opacity. We still allow the opacity value to pass through and get tweened.\n            if (startNum === 1 && _get(target, \"visibility\") === \"hidden\" && endNum) {\n              //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\n              startNum = 0;\n            }\n\n            inlineProps.push(\"visibility\", 0, style.visibility);\n\n            _addNonTweeningPT(this, style, \"visibility\", startNum ? \"inherit\" : \"hidden\", endNum ? \"inherit\" : \"hidden\", !endNum);\n          }\n\n          if (p !== \"scale\" && p !== \"transform\") {\n            p = _propertyAliases[p];\n            ~p.indexOf(\",\") && (p = p.split(\",\")[0]);\n          }\n        }\n\n        isTransformRelated = p in _transformProps; //--- TRANSFORM-RELATED ---\n\n        if (isTransformRelated) {\n          this.styles.save(p);\n\n          if (!transformPropTween) {\n            cache = target._gsap;\n            cache.renderTransform && !vars.parseTransform || _parseTransform(target, vars.parseTransform); // if, for example, gsap.set(... {transform:\"translateX(50vw)\"}), the _get() call doesn't parse the transform, thus cache.renderTransform won't be set yet so force the parsing of the transform here.\n\n            smooth = vars.smoothOrigin !== false && cache.smooth;\n            transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1); //the first time through, create the rendering PropTween so that it runs LAST (in the linked list, we keep adding to the beginning)\n\n            transformPropTween.dep = 1; //flag it as dependent so that if things get killed/overwritten and this is the only PropTween left, we can safely kill the whole tween.\n          }\n\n          if (p === \"scale\") {\n            this._pt = new PropTween(this._pt, cache, \"scaleY\", cache.scaleY, (relative ? _parseRelative(cache.scaleY, relative + endNum) : endNum) - cache.scaleY || 0, _renderCSSProp);\n            this._pt.u = 0;\n            props.push(\"scaleY\", p);\n            p += \"X\";\n          } else if (p === \"transformOrigin\") {\n            inlineProps.push(_transformOriginProp, 0, style[_transformOriginProp]);\n            endValue = _convertKeywordsToPercentages(endValue); //in case something like \"left top\" or \"bottom right\" is passed in. Convert to percentages.\n\n            if (cache.svg) {\n              _applySVGOrigin(target, endValue, 0, smooth, 0, this);\n            } else {\n              endUnit = parseFloat(endValue.split(\" \")[2]) || 0; //handle the zOrigin separately!\n\n              endUnit !== cache.zOrigin && _addNonTweeningPT(this, cache, \"zOrigin\", cache.zOrigin, endUnit);\n\n              _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));\n            }\n\n            continue;\n          } else if (p === \"svgOrigin\") {\n            _applySVGOrigin(target, endValue, 1, smooth, 0, this);\n\n            continue;\n          } else if (p in _rotationalProperties) {\n            _addRotationalPropTween(this, cache, p, startNum, relative ? _parseRelative(startNum, relative + endValue) : endValue);\n\n            continue;\n          } else if (p === \"smoothOrigin\") {\n            _addNonTweeningPT(this, cache, \"smooth\", cache.smooth, endValue);\n\n            continue;\n          } else if (p === \"force3D\") {\n            cache[p] = endValue;\n            continue;\n          } else if (p === \"transform\") {\n            _addRawTransformPTs(this, endValue, target);\n\n            continue;\n          }\n        } else if (!(p in style)) {\n          p = _checkPropPrefix(p) || p;\n        }\n\n        if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {\n          startUnit = (startValue + \"\").substr((startNum + \"\").length);\n          endNum || (endNum = 0); // protect against NaN\n\n          endUnit = getUnit(endValue) || (p in _config.units ? _config.units[p] : startUnit);\n          startUnit !== endUnit && (startNum = _convertToUnit(target, p, startValue, endUnit));\n          this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, (relative ? _parseRelative(startNum, relative + endNum) : endNum) - startNum, !isTransformRelated && (endUnit === \"px\" || p === \"zIndex\") && vars.autoRound !== false ? _renderRoundedCSSProp : _renderCSSProp);\n          this._pt.u = endUnit || 0;\n\n          if (startUnit !== endUnit && endUnit !== \"%\") {\n            //when the tween goes all the way back to the beginning, we need to revert it to the OLD/ORIGINAL value (with those units). We record that as a \"b\" (beginning) property and point to a render method that handles that. (performance optimization)\n            this._pt.b = startValue;\n            this._pt.r = _renderCSSPropWithBeginning;\n          }\n        } else if (!(p in style)) {\n          if (p in target) {\n            //maybe it's not a style - it could be a property added directly to an element in which case we'll try to animate that.\n            this.add(target, p, startValue || target[p], relative ? relative + endValue : endValue, index, targets);\n          } else if (p !== \"parseTransform\") {\n            _missingPlugin(p, endValue);\n\n            continue;\n          }\n        } else {\n          _tweenComplexCSSString.call(this, target, p, startValue, relative ? relative + endValue : endValue);\n        }\n\n        isTransformRelated || (p in style ? inlineProps.push(p, 0, style[p]) : inlineProps.push(p, 1, startValue || target[p]));\n        props.push(p);\n      }\n    }\n\n    hasPriority && _sortPropTweensByPriority(this);\n  },\n  render: function render(ratio, data) {\n    if (data.tween._time || !_reverting()) {\n      var pt = data._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n    } else {\n      data.styles.revert();\n    }\n  },\n  get: _get,\n  aliases: _propertyAliases,\n  getSetter: function getSetter(target, property, plugin) {\n    //returns a setter function that accepts target, property, value and applies it accordingly. Remember, properties like \"x\" aren't as simple as target.style.property = value because they've got to be applied to a proxy object and then merged into a transform string in a renderer.\n    var p = _propertyAliases[property];\n    p && p.indexOf(\",\") < 0 && (property = p);\n    return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, \"x\")) ? plugin && _recentSetterPlugin === plugin ? property === \"scale\" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === \"scale\" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf(\"-\") ? _setterCSSProp : _getSetter(target, property);\n  },\n  core: {\n    _removeProperty: _removeProperty,\n    _getMatrix: _getMatrix\n  }\n};\ngsap.utils.checkPrefix = _checkPropPrefix;\ngsap.core.getStyleSaver = _getStyleSaver;\n\n(function (positionAndScale, rotation, others, aliases) {\n  var all = _forEachName(positionAndScale + \",\" + rotation + \",\" + others, function (name) {\n    _transformProps[name] = 1;\n  });\n\n  _forEachName(rotation, function (name) {\n    _config.units[name] = \"deg\";\n    _rotationalProperties[name] = 1;\n  });\n\n  _propertyAliases[all[13]] = positionAndScale + \",\" + rotation;\n\n  _forEachName(aliases, function (name) {\n    var split = name.split(\":\");\n    _propertyAliases[split[1]] = all[split[0]];\n  });\n})(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent\", \"rotation,rotationX,rotationY,skewX,skewY\", \"transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\", \"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\");\n\n_forEachName(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\", function (name) {\n  _config.units[name] = \"px\";\n});\n\ngsap.registerPlugin(CSSPlugin);\nexport { CSSPlugin as default, _getBBox, _createElement, _checkPropPrefix as checkPrefix };","import { gsap, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, TweenLite, TimelineLite, TimelineMax } from \"./gsap-core.js\";\nimport { CSSPlugin } from \"./CSSPlugin.js\";\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap,\n    // to protect from tree shaking\nTweenMaxWithCSS = gsapWithCSS.core.Tween;\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax, TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };","module.exports=\"#define GLSLIFY 1\\nuniform float time;\\nuniform float progress;\\nuniform sampler2D texture1;\\nuniform vec4 resolution;\\nvarying vec2 vUv;\\nvarying vec3 vPosition;\\nfloat PI = 3.1415926;\\nvoid main() {\\n \\n\\tgl_FragColor = vec4(vUv.r, 1., 1., 1.);\\n}\";","module.exports=\"#define GLSLIFY 1\\nuniform float time;\\nvarying vec2 vUv;\\nvarying vec3 vPosition;\\nuniform vec2 pixels;\\nuniform vec3 uMin;\\nfloat PI = 3.1415926;\\nvoid main () {\\n\\tvUv = uv;\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n}\";","import {\r\n\tVector2\r\n} from 'three';\r\n\r\n/**\r\n * Dot screen shader\r\n * based on glfx.js sepia shader\r\n * https://github.com/evanw/glfx.js\r\n */\r\n\r\nconst HoloEffect = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t'tDiffuse': { value: null },\r\n\t\t'progress': { value: 0 },\r\n\t\t'uSize': { value: new Vector2( window.innerWidth, window.innerHeight ) },\r\n\t\t'center': { value: new Vector2( 0.5, 0.5 ) },\r\n\t\t'angle': { value: 1.57 },\r\n\t\t'scale': { value: 1.0 },\r\n\t\t'uTime': {value: 0.0}\r\n\r\n\t},\r\n\r\n\tvertexShader: /* glsl */`\r\n\r\n\t\tvarying vec2 vUv;\r\n\r\n\t\tvoid main() {\r\n\r\n\t\t\tvUv = uv;\r\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n\r\n\t\t}`,\r\n\r\n\tfragmentShader: /* glsl */`\r\n\t\tuniform vec2 uSize;\r\n\t\tuniform vec2 center;\r\n\t\tuniform float progress;\r\n\t\tuniform float uTime;\r\n\t\tuniform float angle;\r\n\t\tuniform float scale;\r\n\t\tuniform vec2 tSize;\r\n\r\n\t\tuniform sampler2D tDiffuse;\r\n\r\n\t\tvarying vec2 vUv;\r\n\t\tvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\r\n\t\tvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\r\n\t\tfloat snoise(vec3 v){ \r\n\t\t\tconst vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\r\n\t\t\tconst vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\r\n\t\t \r\n\t\t // First corner\r\n\t\t\tvec3 i  = floor(v + dot(v, C.yyy) );\r\n\t\t\tvec3 x0 =   v - i + dot(i, C.xxx) ;\r\n\t\t \r\n\t\t // Other corners\r\n\t\t\tvec3 g = step(x0.yzx, x0.xyz);\r\n\t\t\tvec3 l = 1.0 - g;\r\n\t\t\tvec3 i1 = min( g.xyz, l.zxy );\r\n\t\t\tvec3 i2 = max( g.xyz, l.zxy );\r\n\t\t \r\n\t\t\t//  x0 = x0 - 0. + 0.0 * C \r\n\t\t\tvec3 x1 = x0 - i1 + 1.0 * C.xxx;\r\n\t\t\tvec3 x2 = x0 - i2 + 2.0 * C.xxx;\r\n\t\t\tvec3 x3 = x0 - 1. + 3.0 * C.xxx;\r\n\t\t \r\n\t\t // Permutations\r\n\t\t\ti = mod(i, 289.0 ); \r\n\t\t\tvec4 p = permute(permute( permute( \r\n\t\t\t\t\t\t  i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\r\n\t\t\t\t\t\t+ i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \r\n\t\t\t\t\t\t+ i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\r\n\t\t \r\n\t\t // Gradients\r\n\t\t // ( N*N points uniformly over a square, mapped onto an octahedron.)\r\n\t\t\tfloat n_ = 1.0/7.0; // N=7\r\n\t\t\tvec3  ns = n_ * D.wyz - D.xzx;\r\n\t\t \r\n\t\t\tvec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\r\n\t\t \r\n\t\t\tvec4 x_ = floor(j * ns.z);\r\n\t\t\tvec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\r\n\t\t \r\n\t\t\tvec4 x = x_ *ns.x + ns.yyyy;\r\n\t\t\tvec4 y = y_ *ns.x + ns.yyyy;\r\n\t\t\tvec4 h = 1.0 - abs(x) - abs(y);\r\n\t\t \r\n\t\t\tvec4 b0 = vec4( x.xy, y.xy );\r\n\t\t\tvec4 b1 = vec4( x.zw, y.zw );\r\n\t\t \r\n\t\t\tvec4 s0 = floor(b0)*2.0 + 1.0;\r\n\t\t\tvec4 s1 = floor(b1)*2.0 + 1.0;\r\n\t\t\tvec4 sh = -step(h, vec4(0.0));\r\n\t\t \r\n\t\t\tvec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\r\n\t\t\tvec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\r\n\t\t \r\n\t\t\tvec3 p0 = vec3(a0.xy,h.x);\r\n\t\t\tvec3 p1 = vec3(a0.zw,h.y);\r\n\t\t\tvec3 p2 = vec3(a1.xy,h.z);\r\n\t\t\tvec3 p3 = vec3(a1.zw,h.w);\r\n\t\t \r\n\t\t //Normalise gradients\r\n\t\t\tvec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\r\n\t\t\tp0 *= norm.x;\r\n\t\t\tp1 *= norm.y;\r\n\t\t\tp2 *= norm.z;\r\n\t\t\tp3 *= norm.w;\r\n\t\t \r\n\t\t // Mix final noise value\r\n\t\t\tvec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\r\n\t\t\tm = m * m;\r\n\t\t\treturn 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdot(p2,x2), dot(p3,x3) ) );\r\n\t\t }\r\n\r\n\t\tvoid main() {\r\n\r\n\t\t\tvec2 uv = vUv;\r\n\r\n\t\t\tfloat lineOffset = snoise(vec3(0.,10., uTime));\r\n\t\t\tfloat holoIntensity = 0.5 + 0.1 * snoise(vec3(0., 30., uTime));\r\n\t\t\tvec4 color = texture2D( tDiffuse, vUv );\r\n\t\t \r\n\t\t\t//float n = snoise(vec3(vUv.xy * 10.0, uTime));\r\n\r\n\t\t\tfloat direction = mod(vUv.y * uSize.y + uTime * 0.5, 4.) < 2. ? 1. : -1.;\r\n\t\t\tuv.x += direction * (8. + 4. * lineOffset)/uSize.x;\r\n\t\t\tvec3 hologran = texture2D(tDiffuse, uv).rgb;\r\n\r\n\r\n\t\t\t// for black and white post processiing\r\n\t\t\tvec3 background = vec3(0., 0.65, 1.) * .3;\r\n\r\n\r\n\r\n\r\n\t\t\tvec3 combinedColor = color.rgb + hologran * holoIntensity;\r\n\r\n\t\t\tvec3 luminance = vec3(0.299, 0.587, 0.114);\r\n\r\n\t\t\tfloat lumFront = dot(luminance, combinedColor);\r\n\t\t\tfloat lumBack = dot(luminance, background);\r\n\t\t\t\r\n\r\n\t\t\tfloat d = lumFront - lumBack;\r\n\t\t\tvec3 finalColor = background + d;\r\n\r\n\t\t\tvec3 theFinalFinalColor = mix(color.rgb, finalColor, progress);\r\n\t\t\t gl_FragColor = vec4(vec3(theFinalFinalColor), 1.);\r\n\t\t}`\r\n\r\n};\r\n\r\nexport { HoloEffect };\r\n","/**\n * Full-screen textured quad shader\n */\n\nconst CopyShader = {\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'opacity': { value: 1.0 }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}`\n\n};\n\nexport { CopyShader };\n","import {\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tOrthographicCamera,\n\tMesh\n} from 'three';\n\nclass Pass {\n\n\tconstructor() {\n\n\t\tthis.isPass = true;\n\n\t\t// if set to true, the pass is processed by the composer\n\t\tthis.enabled = true;\n\n\t\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\t\tthis.needsSwap = true;\n\n\t\t// if set to true, the pass clears its buffer before rendering\n\t\tthis.clear = false;\n\n\t\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\t\tthis.renderToScreen = false;\n\n\t}\n\n\tsetSize( /* width, height */ ) {}\n\n\trender( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n\tdispose() {}\n\n}\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nconst _camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n// https://github.com/mrdoob/three.js/pull/21358\n\nconst _geometry = new BufferGeometry();\n_geometry.setAttribute( 'position', new Float32BufferAttribute( [ - 1, 3, 0, - 1, - 1, 0, 3, - 1, 0 ], 3 ) );\n_geometry.setAttribute( 'uv', new Float32BufferAttribute( [ 0, 2, 0, 0, 2, 0 ], 2 ) );\n\nclass FullScreenQuad {\n\n\tconstructor( material ) {\n\n\t\tthis._mesh = new Mesh( _geometry, material );\n\n\t}\n\n\tdispose() {\n\n\t\tthis._mesh.geometry.dispose();\n\n\t}\n\n\trender( renderer ) {\n\n\t\trenderer.render( this._mesh, _camera );\n\n\t}\n\n\tget material() {\n\n\t\treturn this._mesh.material;\n\n\t}\n\n\tset material( value ) {\n\n\t\tthis._mesh.material = value;\n\n\t}\n\n}\n\nexport { Pass, FullScreenQuad };\n","import {\n\tShaderMaterial,\n\tUniformsUtils\n} from 'three';\nimport { Pass, FullScreenQuad } from './Pass.js';\n\nclass ShaderPass extends Pass {\n\n\tconstructor( shader, textureID ) {\n\n\t\tsuper();\n\n\t\tthis.textureID = ( textureID !== undefined ) ? textureID : 'tDiffuse';\n\n\t\tif ( shader instanceof ShaderMaterial ) {\n\n\t\t\tthis.uniforms = shader.uniforms;\n\n\t\t\tthis.material = shader;\n\n\t\t} else if ( shader ) {\n\n\t\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t\tthis.material = new ShaderMaterial( {\n\n\t\t\t\tdefines: Object.assign( {}, shader.defines ),\n\t\t\t\tuniforms: this.uniforms,\n\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\tfragmentShader: shader.fragmentShader\n\n\t\t\t} );\n\n\t\t}\n\n\t\tthis.fsQuad = new FullScreenQuad( this.material );\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tif ( this.uniforms[ this.textureID ] ) {\n\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\n\n\t\t}\n\n\t\tthis.fsQuad.material = this.material;\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t} else {\n\n\t\t\trenderer.setRenderTarget( writeBuffer );\n\t\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t}\n\n\tdispose() {\n\n\t\tthis.material.dispose();\n\n\t\tthis.fsQuad.dispose();\n\n\t}\n\n}\n\nexport { ShaderPass };\n","import { Pass } from './Pass.js';\n\nclass MaskPass extends Pass {\n\n\tconstructor( scene, camera ) {\n\n\t\tsuper();\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.clear = true;\n\t\tthis.needsSwap = false;\n\n\t\tthis.inverse = false;\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst context = renderer.getContext();\n\t\tconst state = renderer.state;\n\n\t\t// don't update color or depth\n\n\t\tstate.buffers.color.setMask( false );\n\t\tstate.buffers.depth.setMask( false );\n\n\t\t// lock buffers\n\n\t\tstate.buffers.color.setLocked( true );\n\t\tstate.buffers.depth.setLocked( true );\n\n\t\t// set up stencil\n\n\t\tlet writeValue, clearValue;\n\n\t\tif ( this.inverse ) {\n\n\t\t\twriteValue = 0;\n\t\t\tclearValue = 1;\n\n\t\t} else {\n\n\t\t\twriteValue = 1;\n\t\t\tclearValue = 0;\n\n\t\t}\n\n\t\tstate.buffers.stencil.setTest( true );\n\t\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\n\t\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\n\t\tstate.buffers.stencil.setClear( clearValue );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t\t// draw into the stencil buffer\n\n\t\trenderer.setRenderTarget( readBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\trenderer.setRenderTarget( writeBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\t// unlock color and depth buffer for subsequent rendering\n\n\t\tstate.buffers.color.setLocked( false );\n\t\tstate.buffers.depth.setLocked( false );\n\n\t\t// only render where stencil is set to 1\n\n\t\tstate.buffers.stencil.setLocked( false );\n\t\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff ); // draw if == 1\n\t\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t}\n\n}\n\nclass ClearMaskPass extends Pass {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.needsSwap = false;\n\n\t}\n\n\trender( renderer /*, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\trenderer.state.buffers.stencil.setLocked( false );\n\t\trenderer.state.buffers.stencil.setTest( false );\n\n\t}\n\n}\n\nexport { MaskPass, ClearMaskPass };\n","import {\n\tClock,\n\tVector2,\n\tWebGLRenderTarget\n} from 'three';\nimport { CopyShader } from '../shaders/CopyShader.js';\nimport { ShaderPass } from './ShaderPass.js';\nimport { MaskPass } from './MaskPass.js';\nimport { ClearMaskPass } from './MaskPass.js';\n\nclass EffectComposer {\n\n\tconstructor( renderer, renderTarget ) {\n\n\t\tthis.renderer = renderer;\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tconst size = renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = new WebGLRenderTarget( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\t\t\trenderTarget.texture.name = 'EffectComposer.rt1';\n\n\t\t} else {\n\n\t\t\tthis._pixelRatio = 1;\n\t\t\tthis._width = renderTarget.width;\n\t\t\tthis._height = renderTarget.height;\n\n\t\t}\n\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\t\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t\tthis.renderToScreen = true;\n\n\t\tthis.passes = [];\n\n\t\tthis.copyPass = new ShaderPass( CopyShader );\n\n\t\tthis.clock = new Clock();\n\n\t}\n\n\tswapBuffers() {\n\n\t\tconst tmp = this.readBuffer;\n\t\tthis.readBuffer = this.writeBuffer;\n\t\tthis.writeBuffer = tmp;\n\n\t}\n\n\taddPass( pass ) {\n\n\t\tthis.passes.push( pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t}\n\n\tinsertPass( pass, index ) {\n\n\t\tthis.passes.splice( index, 0, pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t}\n\n\tremovePass( pass ) {\n\n\t\tconst index = this.passes.indexOf( pass );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tthis.passes.splice( index, 1 );\n\n\t\t}\n\n\t}\n\n\tisLastEnabledPass( passIndex ) {\n\n\t\tfor ( let i = passIndex + 1; i < this.passes.length; i ++ ) {\n\n\t\t\tif ( this.passes[ i ].enabled ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\trender( deltaTime ) {\n\n\t\t// deltaTime value is in seconds\n\n\t\tif ( deltaTime === undefined ) {\n\n\t\t\tdeltaTime = this.clock.getDelta();\n\n\t\t}\n\n\t\tconst currentRenderTarget = this.renderer.getRenderTarget();\n\n\t\tlet maskActive = false;\n\n\t\tfor ( let i = 0, il = this.passes.length; i < il; i ++ ) {\n\n\t\t\tconst pass = this.passes[ i ];\n\n\t\t\tif ( pass.enabled === false ) continue;\n\n\t\t\tpass.renderToScreen = ( this.renderToScreen && this.isLastEnabledPass( i ) );\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive );\n\n\t\t\tif ( pass.needsSwap ) {\n\n\t\t\t\tif ( maskActive ) {\n\n\t\t\t\t\tconst context = this.renderer.getContext();\n\t\t\t\t\tconst stencil = this.renderer.state.buffers.stencil;\n\n\t\t\t\t\t//context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime );\n\n\t\t\t\t\t//context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.EQUAL, 1, 0xffffffff );\n\n\t\t\t\t}\n\n\t\t\t\tthis.swapBuffers();\n\n\t\t\t}\n\n\t\t\tif ( MaskPass !== undefined ) {\n\n\t\t\t\tif ( pass instanceof MaskPass ) {\n\n\t\t\t\t\tmaskActive = true;\n\n\t\t\t\t} else if ( pass instanceof ClearMaskPass ) {\n\n\t\t\t\t\tmaskActive = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.renderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n\treset( renderTarget ) {\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tconst size = this.renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = this.renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = this.renderTarget1.clone();\n\t\t\trenderTarget.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t\t}\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t}\n\n\tsetSize( width, height ) {\n\n\t\tthis._width = width;\n\t\tthis._height = height;\n\n\t\tconst effectiveWidth = this._width * this._pixelRatio;\n\t\tconst effectiveHeight = this._height * this._pixelRatio;\n\n\t\tthis.renderTarget1.setSize( effectiveWidth, effectiveHeight );\n\t\tthis.renderTarget2.setSize( effectiveWidth, effectiveHeight );\n\n\t\tfor ( let i = 0; i < this.passes.length; i ++ ) {\n\n\t\t\tthis.passes[ i ].setSize( effectiveWidth, effectiveHeight );\n\n\t\t}\n\n\t}\n\n\tsetPixelRatio( pixelRatio ) {\n\n\t\tthis._pixelRatio = pixelRatio;\n\n\t\tthis.setSize( this._width, this._height );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\n\t\tthis.copyPass.dispose();\n\n\t}\n\n}\n\nexport { EffectComposer };\n","import {\n\tColor\n} from 'three';\nimport { Pass } from './Pass.js';\n\nclass RenderPass extends Pass {\n\n\tconstructor( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n\n\t\tsuper();\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.overrideMaterial = overrideMaterial;\n\n\t\tthis.clearColor = clearColor;\n\t\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\n\n\t\tthis.clear = true;\n\t\tthis.clearDepth = false;\n\t\tthis.needsSwap = false;\n\t\tthis._oldClearColor = new Color();\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tlet oldClearAlpha, oldOverrideMaterial;\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\toldOverrideMaterial = this.scene.overrideMaterial;\n\n\t\t\tthis.scene.overrideMaterial = this.overrideMaterial;\n\n\t\t}\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.getClearColor( this._oldClearColor );\n\t\t\toldClearAlpha = renderer.getClearAlpha();\n\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\n\n\t\t}\n\n\t\tif ( this.clearDepth ) {\n\n\t\t\trenderer.clearDepth();\n\n\t\t}\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\trenderer.render( this.scene, this.camera );\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.setClearColor( this._oldClearColor, oldClearAlpha );\n\n\t\t}\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\tthis.scene.overrideMaterial = oldOverrideMaterial;\n\n\t\t}\n\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n}\n\nexport { RenderPass };\n","import {\n\tColor\n} from 'three';\n\n/**\n * Luminosity\n * http://en.wikipedia.org/wiki/Luminosity\n */\n\nconst LuminosityHighPassShader = {\n\n\tshaderID: 'luminosityHighPass',\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'luminosityThreshold': { value: 1.0 },\n\t\t'smoothWidth': { value: 1.0 },\n\t\t'defaultColor': { value: new Color( 0x000000 ) },\n\t\t'defaultOpacity': { value: 0.0 }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec3 defaultColor;\n\t\tuniform float defaultOpacity;\n\t\tuniform float luminosityThreshold;\n\t\tuniform float smoothWidth;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\n\t\t\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n\t\t\tfloat v = dot( texel.xyz, luma );\n\n\t\t\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\n\t\t\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\n\t\t\tgl_FragColor = mix( outputColor, texel, alpha );\n\n\t\t}`\n\n};\n\nexport { LuminosityHighPassShader };\n","import {\n\tAdditiveBlending,\n\tColor,\n\tMeshBasicMaterial,\n\tShaderMaterial,\n\tUniformsUtils,\n\tVector2,\n\tVector3,\n\tWebGLRenderTarget\n} from 'three';\nimport { Pass, FullScreenQuad } from './Pass.js';\nimport { CopyShader } from '../shaders/CopyShader.js';\nimport { LuminosityHighPassShader } from '../shaders/LuminosityHighPassShader.js';\n\n/**\n * UnrealBloomPass is inspired by the bloom pass of Unreal Engine. It creates a\n * mip map chain of bloom textures and blurs them with different radii. Because\n * of the weighted combination of mips, and because larger blurs are done on\n * higher mips, this effect provides good quality and performance.\n *\n * Reference:\n * - https://docs.unrealengine.com/latest/INT/Engine/Rendering/PostProcessEffects/Bloom/\n */\nclass UnrealBloomPass extends Pass {\n\n\tconstructor( resolution, strength, radius, threshold ) {\n\n\t\tsuper();\n\n\t\tthis.strength = ( strength !== undefined ) ? strength : 1;\n\t\tthis.radius = radius;\n\t\tthis.threshold = threshold;\n\t\tthis.resolution = ( resolution !== undefined ) ? new Vector2( resolution.x, resolution.y ) : new Vector2( 256, 256 );\n\n\t\t// create color only once here, reuse it later inside the render function\n\t\tthis.clearColor = new Color( 0, 0, 0 );\n\n\t\t// render targets\n\t\tthis.renderTargetsHorizontal = [];\n\t\tthis.renderTargetsVertical = [];\n\t\tthis.nMips = 5;\n\t\tlet resx = Math.round( this.resolution.x / 2 );\n\t\tlet resy = Math.round( this.resolution.y / 2 );\n\n\t\tthis.renderTargetBright = new WebGLRenderTarget( resx, resy );\n\t\tthis.renderTargetBright.texture.name = 'UnrealBloomPass.bright';\n\t\tthis.renderTargetBright.texture.generateMipmaps = false;\n\n\t\tfor ( let i = 0; i < this.nMips; i ++ ) {\n\n\t\t\tconst renderTargetHorizonal = new WebGLRenderTarget( resx, resy );\n\n\t\t\trenderTargetHorizonal.texture.name = 'UnrealBloomPass.h' + i;\n\t\t\trenderTargetHorizonal.texture.generateMipmaps = false;\n\n\t\t\tthis.renderTargetsHorizontal.push( renderTargetHorizonal );\n\n\t\t\tconst renderTargetVertical = new WebGLRenderTarget( resx, resy );\n\n\t\t\trenderTargetVertical.texture.name = 'UnrealBloomPass.v' + i;\n\t\t\trenderTargetVertical.texture.generateMipmaps = false;\n\n\t\t\tthis.renderTargetsVertical.push( renderTargetVertical );\n\n\t\t\tresx = Math.round( resx / 2 );\n\n\t\t\tresy = Math.round( resy / 2 );\n\n\t\t}\n\n\t\t// luminosity high pass material\n\n\t\tconst highPassShader = LuminosityHighPassShader;\n\t\tthis.highPassUniforms = UniformsUtils.clone( highPassShader.uniforms );\n\n\t\tthis.highPassUniforms[ 'luminosityThreshold' ].value = threshold;\n\t\tthis.highPassUniforms[ 'smoothWidth' ].value = 0.01;\n\n\t\tthis.materialHighPassFilter = new ShaderMaterial( {\n\t\t\tuniforms: this.highPassUniforms,\n\t\t\tvertexShader: highPassShader.vertexShader,\n\t\t\tfragmentShader: highPassShader.fragmentShader,\n\t\t\tdefines: {}\n\t\t} );\n\n\t\t// Gaussian Blur Materials\n\t\tthis.separableBlurMaterials = [];\n\t\tconst kernelSizeArray = [ 3, 5, 7, 9, 11 ];\n\t\tresx = Math.round( this.resolution.x / 2 );\n\t\tresy = Math.round( this.resolution.y / 2 );\n\n\t\tfor ( let i = 0; i < this.nMips; i ++ ) {\n\n\t\t\tthis.separableBlurMaterials.push( this.getSeperableBlurMaterial( kernelSizeArray[ i ] ) );\n\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'texSize' ].value = new Vector2( resx, resy );\n\n\t\t\tresx = Math.round( resx / 2 );\n\n\t\t\tresy = Math.round( resy / 2 );\n\n\t\t}\n\n\t\t// Composite material\n\t\tthis.compositeMaterial = this.getCompositeMaterial( this.nMips );\n\t\tthis.compositeMaterial.uniforms[ 'blurTexture1' ].value = this.renderTargetsVertical[ 0 ].texture;\n\t\tthis.compositeMaterial.uniforms[ 'blurTexture2' ].value = this.renderTargetsVertical[ 1 ].texture;\n\t\tthis.compositeMaterial.uniforms[ 'blurTexture3' ].value = this.renderTargetsVertical[ 2 ].texture;\n\t\tthis.compositeMaterial.uniforms[ 'blurTexture4' ].value = this.renderTargetsVertical[ 3 ].texture;\n\t\tthis.compositeMaterial.uniforms[ 'blurTexture5' ].value = this.renderTargetsVertical[ 4 ].texture;\n\t\tthis.compositeMaterial.uniforms[ 'bloomStrength' ].value = strength;\n\t\tthis.compositeMaterial.uniforms[ 'bloomRadius' ].value = 0.1;\n\t\tthis.compositeMaterial.needsUpdate = true;\n\n\t\tconst bloomFactors = [ 1.0, 0.8, 0.6, 0.4, 0.2 ];\n\t\tthis.compositeMaterial.uniforms[ 'bloomFactors' ].value = bloomFactors;\n\t\tthis.bloomTintColors = [ new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ) ];\n\t\tthis.compositeMaterial.uniforms[ 'bloomTintColors' ].value = this.bloomTintColors;\n\n\t\t// copy material\n\n\t\tconst copyShader = CopyShader;\n\n\t\tthis.copyUniforms = UniformsUtils.clone( copyShader.uniforms );\n\t\tthis.copyUniforms[ 'opacity' ].value = 1.0;\n\n\t\tthis.materialCopy = new ShaderMaterial( {\n\t\t\tuniforms: this.copyUniforms,\n\t\t\tvertexShader: copyShader.vertexShader,\n\t\t\tfragmentShader: copyShader.fragmentShader,\n\t\t\tblending: AdditiveBlending,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\ttransparent: true\n\t\t} );\n\n\t\tthis.enabled = true;\n\t\tthis.needsSwap = false;\n\n\t\tthis._oldClearColor = new Color();\n\t\tthis.oldClearAlpha = 1;\n\n\t\tthis.basic = new MeshBasicMaterial();\n\n\t\tthis.fsQuad = new FullScreenQuad( null );\n\n\t}\n\n\tdispose() {\n\n\t\tfor ( let i = 0; i < this.renderTargetsHorizontal.length; i ++ ) {\n\n\t\t\tthis.renderTargetsHorizontal[ i ].dispose();\n\n\t\t}\n\n\t\tfor ( let i = 0; i < this.renderTargetsVertical.length; i ++ ) {\n\n\t\t\tthis.renderTargetsVertical[ i ].dispose();\n\n\t\t}\n\n\t\tthis.renderTargetBright.dispose();\n\n\t\t//\n\n\t\tfor ( let i = 0; i < this.separableBlurMaterials.length; i ++ ) {\n\n\t\t\tthis.separableBlurMaterials[ i ].dispose();\n\n\t\t}\n\n\t\tthis.compositeMaterial.dispose();\n\t\tthis.materialCopy.dispose();\n\t\tthis.basic.dispose();\n\n\t\t//\n\n\t\tthis.fsQuad.dispose();\n\n\t}\n\n\tsetSize( width, height ) {\n\n\t\tlet resx = Math.round( width / 2 );\n\t\tlet resy = Math.round( height / 2 );\n\n\t\tthis.renderTargetBright.setSize( resx, resy );\n\n\t\tfor ( let i = 0; i < this.nMips; i ++ ) {\n\n\t\t\tthis.renderTargetsHorizontal[ i ].setSize( resx, resy );\n\t\t\tthis.renderTargetsVertical[ i ].setSize( resx, resy );\n\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'texSize' ].value = new Vector2( resx, resy );\n\n\t\t\tresx = Math.round( resx / 2 );\n\t\t\tresy = Math.round( resy / 2 );\n\n\t\t}\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer, deltaTime, maskActive ) {\n\n\t\trenderer.getClearColor( this._oldClearColor );\n\t\tthis.oldClearAlpha = renderer.getClearAlpha();\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\trenderer.setClearColor( this.clearColor, 0 );\n\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( false );\n\n\t\t// Render input to screen\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\tthis.fsQuad.material = this.basic;\n\t\t\tthis.basic.map = readBuffer.texture;\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\trenderer.clear();\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t\t// 1. Extract Bright Areas\n\n\t\tthis.highPassUniforms[ 'tDiffuse' ].value = readBuffer.texture;\n\t\tthis.highPassUniforms[ 'luminosityThreshold' ].value = this.threshold;\n\t\tthis.fsQuad.material = this.materialHighPassFilter;\n\n\t\trenderer.setRenderTarget( this.renderTargetBright );\n\t\trenderer.clear();\n\t\tthis.fsQuad.render( renderer );\n\n\t\t// 2. Blur All the mips progressively\n\n\t\tlet inputRenderTarget = this.renderTargetBright;\n\n\t\tfor ( let i = 0; i < this.nMips; i ++ ) {\n\n\t\t\tthis.fsQuad.material = this.separableBlurMaterials[ i ];\n\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'colorTexture' ].value = inputRenderTarget.texture;\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'direction' ].value = UnrealBloomPass.BlurDirectionX;\n\t\t\trenderer.setRenderTarget( this.renderTargetsHorizontal[ i ] );\n\t\t\trenderer.clear();\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'colorTexture' ].value = this.renderTargetsHorizontal[ i ].texture;\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ 'direction' ].value = UnrealBloomPass.BlurDirectionY;\n\t\t\trenderer.setRenderTarget( this.renderTargetsVertical[ i ] );\n\t\t\trenderer.clear();\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t\tinputRenderTarget = this.renderTargetsVertical[ i ];\n\n\t\t}\n\n\t\t// Composite All the mips\n\n\t\tthis.fsQuad.material = this.compositeMaterial;\n\t\tthis.compositeMaterial.uniforms[ 'bloomStrength' ].value = this.strength;\n\t\tthis.compositeMaterial.uniforms[ 'bloomRadius' ].value = this.radius;\n\t\tthis.compositeMaterial.uniforms[ 'bloomTintColors' ].value = this.bloomTintColors;\n\n\t\trenderer.setRenderTarget( this.renderTargetsHorizontal[ 0 ] );\n\t\trenderer.clear();\n\t\tthis.fsQuad.render( renderer );\n\n\t\t// Blend it additively over the input texture\n\n\t\tthis.fsQuad.material = this.materialCopy;\n\t\tthis.copyUniforms[ 'tDiffuse' ].value = this.renderTargetsHorizontal[ 0 ].texture;\n\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( true );\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t} else {\n\n\t\t\trenderer.setRenderTarget( readBuffer );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t\t// Restore renderer settings\n\n\t\trenderer.setClearColor( this._oldClearColor, this.oldClearAlpha );\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n\tgetSeperableBlurMaterial( kernelRadius ) {\n\n\t\treturn new ShaderMaterial( {\n\n\t\t\tdefines: {\n\t\t\t\t'KERNEL_RADIUS': kernelRadius,\n\t\t\t\t'SIGMA': kernelRadius\n\t\t\t},\n\n\t\t\tuniforms: {\n\t\t\t\t'colorTexture': { value: null },\n\t\t\t\t'texSize': { value: new Vector2( 0.5, 0.5 ) },\n\t\t\t\t'direction': { value: new Vector2( 0.5, 0.5 ) }\n\t\t\t},\n\n\t\t\tvertexShader:\n\t\t\t\t`varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}`,\n\n\t\t\tfragmentShader:\n\t\t\t\t`#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat fSigma = float(SIGMA);\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}`\n\t\t} );\n\n\t}\n\n\tgetCompositeMaterial( nMips ) {\n\n\t\treturn new ShaderMaterial( {\n\n\t\t\tdefines: {\n\t\t\t\t'NUM_MIPS': nMips\n\t\t\t},\n\n\t\t\tuniforms: {\n\t\t\t\t'blurTexture1': { value: null },\n\t\t\t\t'blurTexture2': { value: null },\n\t\t\t\t'blurTexture3': { value: null },\n\t\t\t\t'blurTexture4': { value: null },\n\t\t\t\t'blurTexture5': { value: null },\n\t\t\t\t'bloomStrength': { value: 1.0 },\n\t\t\t\t'bloomFactors': { value: null },\n\t\t\t\t'bloomTintColors': { value: null },\n\t\t\t\t'bloomRadius': { value: 0.0 }\n\t\t\t},\n\n\t\t\tvertexShader:\n\t\t\t\t`varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}`,\n\n\t\t\tfragmentShader:\n\t\t\t\t`varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}`\n\t\t} );\n\n\t}\n\n}\n\nUnrealBloomPass.BlurDirectionX = new Vector2( 1.0, 0.0 );\nUnrealBloomPass.BlurDirectionY = new Vector2( 0.0, 1.0 );\n\nexport { UnrealBloomPass };\n","import * as THREE from 'three'\r\nimport {OrbitControls} from 'three/examples/jsm/controls/OrbitControls'\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader'\r\nimport GUI from 'lil-gui'\r\nimport gsap from 'gsap'\r\nimport fragmentShader from './shaders/fragment.glsl'\r\nimport vertexShader from './shaders/vertex.glsl'\r\n\r\nimport { HoloEffect } from './HoloEffect'\r\n\r\nimport {EffectComposer} from 'three/examples/jsm/postprocessing/EffectComposer'\r\nimport {RenderPass} from 'three/examples/jsm/postprocessing/RenderPass'\r\nimport {UnrealBloomPass} from 'three/examples/jsm/postprocessing/UnrealBloomPass'\r\nimport {ShaderPass} from 'three/examples/jsm/postprocessing/ShaderPass'\r\n\r\nimport model from './human.glb'\r\nimport env from './env.jpg'\r\n\r\nexport default class Sketch {\r\n\tconstructor(options) {\r\n\t\t\r\n\t\tthis.scene = new THREE.Scene()\r\n\t\t\r\n\t\tthis.container = options.dom\r\n\t\t\r\n\t\tthis.width = this.container.offsetWidth\r\n\t\tthis.height = this.container.offsetHeight\r\n\t\t\r\n\t\t\r\n\t\t// // for renderer { antialias: true }\r\n\t\tthis.renderer = new THREE.WebGLRenderer({ antialias: true })\r\n\t\tthis.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\r\n\t\tthis.renderTarget = new THREE.WebGLRenderTarget(this.width, this.height)\r\n\t\tthis.renderer.setSize(this.width ,this.height )\r\n\t\tthis.renderer.setClearColor(0x050505, 1)\r\n\t\tthis.renderer.useLegacyLights = true\r\n\t\tthis.renderer.outputEncoding = THREE.sRGBEncoding\r\n \r\n\r\n\t\t \r\n\t\tthis.renderer.setSize( window.innerWidth, window.innerHeight )\r\n\r\n\t\tthis.container.appendChild(this.renderer.domElement)\r\n \r\n\r\n\r\n\t\tthis.camera = new THREE.PerspectiveCamera( 70,\r\n\t\t\t this.width / this.height,\r\n\t\t\t 0.01,\r\n\t\t\t 10\r\n\t\t)\r\n \r\n\t\tthis.camera.position.set(-1, 0, 0) \r\n\t\tthis.controls = new OrbitControls(this.camera, this.renderer.domElement)\r\n\t\tthis.time = 0\r\n\r\n\r\n\t\tthis.dracoLoader = new DRACOLoader()\r\n\t\tthis.dracoLoader.setDecoderPath('https://www.gstatic.com/draco/v1/decoders/')\r\n\t\tthis.gltf = new GLTFLoader()\r\n\t\tthis.gltf.setDRACOLoader(this.dracoLoader)\r\n\r\n\r\n\t\tthis.renderer.toneMapping = THREE.ACESFilmicToneMapping\r\n\t\tthis.renderer.toneMappingExposure = .7\r\n\r\n\t\tthis.isPlaying = true\r\n\t \r\n\t\tthis.settings()\r\n\t\tthis.initPost()\r\n\t\tthis.addObjects()\t\t \r\n\t\tthis.resize()\r\n\t\tthis.render()\r\n\t\tthis.setupResize()\r\n\t \r\n\t}\r\n\r\n\tinitPost() {\r\n\t\tthis.renderScene = new RenderPass(this.scene, this.camera)\r\n\t\tthis.bloomPass = new UnrealBloomPass(new THREE.Vector2(this.width, this.height), \r\n\t\t1.5,0.4, 0.85)\r\n\t\tthis.bloomPass.threshold = this.settings.bloomThreshold\r\n\t\tthis.bloomPass.strength = this.settings.bloomStrength\r\n\t\tthis.bloomPass.radius = this.settings.bloomRadius\r\n\r\n\r\n\t\t//use new postproseccing effect\r\n\t\tthis.holoEffect = new ShaderPass(HoloEffect)\r\n\t\t \r\n\t\tthis.composer = new EffectComposer(this.renderer)\r\n\t\tthis.composer.addPass(this.renderScene)\r\n\t\tthis.composer.addPass(this.bloomPass)\r\n\r\n\t\t//use new postproseccing effect\r\n\t\tthis.composer.addPass(this.holoEffect)\r\n\t}\r\n\r\n\r\n\tsettings() {\r\n\t\tlet that = this\r\n\t\tthis.settings = {\r\n\t\t\tprogress: 0,\r\n\t\t\texposure: 2,\r\n\t\t\tbloomStrength: 3,\r\n\t\t\tbloomThreshold: 0.05,\r\n\t\t\tbloomRadius: 0.8\r\n\t\t}\r\n\t\tthis.gui = new GUI()\r\n\t\tthis.gui.add(this.settings, 'exposure', 0, 3, 0.01).onChange(() => {\r\n\t\t\tthat.renderer.toneMappingExposure = this.settings.exposure\r\n\t\t})\r\n\t\r\n\t\tthis.gui.add(this.settings, 'progress', 0, 3, 0.01).onChange(() => {\r\n\t\t\tthat.holoEffect.uniforms.progress.value = this.settings.progress\r\n\t\t})\r\n\t\r\n\t\tthis.gui.add(this.settings, 'bloomStrength', 0, 3, 0.01).onChange((value) => {\r\n\t\t\tthat.bloomPass.strength = value\r\n\t\t})\r\n\t\tthis.gui.add(this.settings, 'bloomThreshold', 0, 3, 0.01).onChange((value) => {\r\n\t\t\tthat.bloomPass.threshold = value\r\n\t\t})\r\n\t\tthis.gui.add(this.settings, 'bloomRadius', 0, 3, 0.01).onChange((value) => {\r\n\t\t\tthat.bloomPass.radius = value\r\n\t\t})\r\n\t}\r\n\r\n\tsetupResize() {\r\n\t\twindow.addEventListener('resize', this.resize.bind(this))\r\n\t}\r\n\r\n\tresize() {\r\n\t\tthis.width = this.container.offsetWidth\r\n\t\tthis.height = this.container.offsetHeight\r\n\t\tthis.renderer.setSize(this.width, this.height)\r\n\t\tthis.camera.aspect = this.width / this.height\r\n\t\tthis.composer.setSize(this.width, this.height)\r\n\r\n\t\tthis.imageAspect = 853/1280\r\n\t\tlet a1, a2\r\n\t\tif(this.height / this.width > this.imageAspect) {\r\n\t\t\ta1 = (this.width / this.height) * this.imageAspect\r\n\t\t\ta2 = 1\r\n\t\t} else {\r\n\t\t\ta1 = 1\r\n\t\t\ta2 = (this.height / this.width) * this.imageAspect\r\n\t\t} \r\n\r\n\r\n\t\t// this.material.uniforms.resolution.value.x = this.width\r\n\t\t// this.material.uniforms.resolution.value.y = this.height\r\n\t\t// this.material.uniforms.resolution.value.z = a1\r\n\t\t// this.material.uniforms.resolution.value.w = a2\r\n\r\n\t\tthis.camera.updateProjectionMatrix()\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n\taddObjects() {\r\n\t\tthis.pmremGenerator = new THREE.PMREMGenerator(this.renderer)\r\n\t\tthis.pmremGenerator.compileEquirectangularShader()\r\n\r\n\t\tthis.envMap = new THREE.TextureLoader().load(env, texture => {\r\n\t\t\tthis.envMap = this.pmremGenerator.fromEquirectangular(texture).texture\r\n\t\t\t// this.envMap.mapping = THREE.EquirectangularReflectionMapping\r\n\t\t\t// this.scene.environment = envMap\r\n\t\t\t// texture.dispose()\r\n\t\t\t\r\n\t\t\tthis.pmremGenerator.dispose()\r\n\r\n\r\n\r\n\t\t\tthis.gltf.load(model, gltf => {\r\n\t\t\t \r\n\t\t\t\tthis.scene.add(gltf.scene)\r\n\t\t\t\tthis.human = gltf.scene.children[0]\r\n\t\t\t\tthis.human.scale.set(0.1, 0.1, 0.1)\r\n\t\t\t\tthis.human.geometry.center()\r\n\t\t\t\t// this.human.material = new THREE.MeshBasicMaterial({\r\n\t\t\t\t// \tcolor: 0xff6600\r\n\t\t\t\t// })\r\n\t\t\t\t// this.human.traverse(o => {\r\n\t\t\t\t// \tif(o.isMesh) {\r\n\t\t\t\t// \t\to.material.wireframe = false\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t\tthis.m = new THREE.MeshStandardMaterial({\r\n\t\t\t\t\tmetalness: 1,\r\n\t\t\t\t\troughness: 0.28\r\n\t\t\t\t})\r\n\t\t\t\tthis.m.envMap = this.envMap\r\n\r\n\r\n\t\t\t\tthis.m.onBeforeCompile = shader => {\r\n\r\n\t\t\t\t\tshader.uniforms.uTime = {value: 0}\r\n\t\t\t\t\tshader.fragmentShader = `\r\n\t\t\t\t\tuniform float uTime;\r\n\t\t\t\t\tmat4 rotationMatrix(vec3 axis, float angle) {\r\n\t\t\t\t\t\taxis = normalize(axis);\r\n\t\t\t\t\t\tfloat s = sin(angle);\r\n\t\t\t\t\t\tfloat c = cos(angle);\r\n\t\t\t\t\t\tfloat oc = 1.0 - c;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\r\n\t\t\t\t\t\t\t\t\t\toc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\r\n\t\t\t\t\t\t\t\t\t\toc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\r\n\t\t\t\t\t\t\t\t\t\t0.0,                                0.0,                                0.0,                                1.0);\r\n\t\t\t\t  }\r\n\t\t\t\t  \r\n\t\t\t\t  vec3 rotate(vec3 v, vec3 axis, float angle) {\r\n\t\t\t\t\t  mat4 m = rotationMatrix(axis, angle);\r\n\t\t\t\t\t  return (m * vec4(v, 1.0)).xyz;\r\n\t\t\t\t  }\r\n\r\n\r\n\r\n\t\t\t\t\t` + shader.fragmentShader\r\n\r\n\r\n\t\t\t\t  shader.fragmentShader = shader.fragmentShader.replace(\r\n\t\t\t\t\t\t`#include <envmap_physical_pars_fragment>`,\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t\t#if defined( USE_ENVMAP )\r\n\t\t\t\t\t\t\tvec3 getIBLIrradiance( const in vec3 normal ) {\r\n\t\t\t\t\t\t\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\r\n\t\t\t\t\t\t\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\r\n\t\t\t\t\t\t\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\r\n\t\t\t\t\t\t\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\r\n\t\t\t\t\t\t\t\t#else\r\n\t\t\t\t\t\t\t\t\treturn vec3( 0.0 );\r\n\t\t\t\t\t\t\t\t#endif\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\r\n\t\t\t\t\t\t\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\r\n\t\t\t\t\t\t\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\r\n\t\t\t\t\t\t\t\t\t// Mixing the reflection with the normal is more accurate and keeps rough objects from gathering light from behind their tangent plane.\r\n\t\t\t\t\t\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\r\n\t\t\t\t\t\t\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\treflectVec = rotate(reflectVec, vec3(1.0, 0.0, 0.0), uTime * 0.05);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\r\n\t\t\t\t\t\t\t\t\treturn envMapColor.rgb * envMapIntensity;\r\n\t\t\t\t\t\t\t\t#else\r\n\t\t\t\t\t\t\t\t\treturn vec3( 0.0 );\r\n\t\t\t\t\t\t\t\t#endif\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t#endif\r\n\t\t\t\t\t\t`\r\n\t\t\t\t  )\r\n\r\n\t\t\t\t\tthis.m.userData.shader = shader\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tthis.human.material = this.m\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\t \r\n\r\n\r\n\r\n\r\n\t\t// let that = this\r\n\t\t// this.material = new THREE.ShaderMaterial({\r\n\t\t// \textensions: {\r\n\t\t// \t\tderivatives: '#extension GL_OES_standard_derivatives : enable'\r\n\t\t// \t},\r\n\t\t// \tside: THREE.DoubleSide,\r\n\t\t// \tuniforms: {\r\n\t\t// \t\ttime: {value: 0},\r\n\t\t// \t\tresolution: {value: new THREE.Vector4()}\r\n\t\t// \t},\r\n\t\t// \tvertexShader,\r\n\t\t// \tfragmentShader\r\n\t\t// })\r\n\t\t\r\n\t\t// this.geometry = new THREE.PlaneGeometry(1,1,1,1)\r\n\t\t// this.plane = new THREE.Mesh(this.geometry, this.material)\r\n \r\n\t\t// this.scene.add(this.plane)\r\n \r\n\t}\r\n\r\n\r\n\r\n\taddLights() {\r\n\t\tconst light1 = new THREE.AmbientLight(0xeeeeee, 0.5)\r\n\t\tthis.scene.add(light1)\r\n\t\r\n\t\r\n\t\tconst light2 = new THREE.DirectionalLight(0xeeeeee, 0.5)\r\n\t\tlight2.position.set(0.5,0,0.866)\r\n\t\tthis.scene.add(light2)\r\n\t}\r\n\r\n\tstop() {\r\n\t\tthis.isPlaying = false\r\n\t}\r\n\r\n\tplay() {\r\n\t\tif(!this.isPlaying) {\r\n\t\t\tthis.isPlaying = true\r\n\t\t\tthis.render()\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tif(!this.isPlaying) return\r\n\t\tthis.time += 0.05\r\n\t\t//this.material.uniforms.time.value = this.time\r\n\t\t \r\n\t\t//this.renderer.setRenderTarget(this.renderTarget)\r\n\t\t// this.renderer.render(this.scene, this.camera)\r\n\t\t//this.renderer.setRenderTarget(null)\r\n\t\tthis.composer.render(this.scene, this.camera)\r\n\r\n\t\trequestAnimationFrame(this.render.bind(this))\r\n\t\tif(this.human) {\r\n\t\t\tif(this.m.userData.shader) {\r\n\t\t \r\n\t\t\t\tthis.human.material.userData.shader.uniforms.uTime.value = this.time\r\n\t\t\r\n\t\t\t\tthis.holoEffect.uniforms.uTime.value = this.time\r\n\t\t\t}\r\n\t\t\tthis.human.rotation.y = this.time * 0.05\r\n\t\t}\r\n\t}\r\n \r\n}\r\nnew Sketch({\r\n\tdom: document.getElementById('container')\r\n})\r\n ","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}